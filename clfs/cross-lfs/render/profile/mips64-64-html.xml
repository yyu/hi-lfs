<?xml version="1.0"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<book>

  <bookinfo xml:base="prologue/mips64-64/bookinfo.xml">

  <title xml:base="../../index.xml">Cross-Compiled Linux From Scratch</title>
  
  <subtitle>Version GIT-20170803-MIPS64-Pure64</subtitle>

  <copyright id="copyright" xml:base="../../index.xml">
    <year>2005–2017</year>
    <holder>Joe Ciccone, Jim Gifford &amp; Ryan Oliver</holder>
  </copyright>

  <bibliosource xml:base="../../index.xml">
    <emphasis>Based on LFS, Copyright © 1999–2017 Gerard Beekmans</emphasis>
  </bibliosource>

  <legalnotice xml:base="../x86/bookinfo.xml">
    <para>Copyright © 2005-2017, Joe Ciccone, Jim Gifford, &amp; Ryan Oliver</para>

    <para>All rights reserved.</para>

    <para>This material may be distributed only subject to the terms and
    conditions set forth in the <xref linkend="license"/> v1.0 or later
    (the latest version is presently available at <ulink url="http://www.opencontent.org/openpub/"/>).</para>

    <!-- Modifications and limitations to the OPL (see section VI)
    can be place here, if needed. -->

    <para><trademark class="registered">Linux</trademark> is a registered
    trademark of Linus Torvalds.</para>

    <para>This book is based on the "Linux From Scratch" book, that was
    released under the following license:</para>

    <para>Copyright © 1999–2017, Gerard Beekmans</para>

    <para>All rights reserved.</para>

    <para>Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions are
    met:</para>

    <itemizedlist>
      <listitem>
        <para>Redistributions in any form must retain the above copyright
        notice, this list of conditions and the following disclaimer</para>
      </listitem>
      <listitem>
        <para>Neither the name of <quote>Linux From Scratch</quote> nor the
        names of its contributors may be used to endorse or promote products
        derived from  this material without specific prior written
        permission</para>
      </listitem>
      <listitem>
        <para>Any material derived from Linux From Scratch must contain
        a reference to the <quote>Linux From Scratch</quote> project</para>
      </listitem>
    </itemizedlist>

    <para>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    <quote>AS IS</quote> AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
    BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS OR
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
    OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
    WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
    OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
    ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</para>

  </legalnotice>

</bookinfo>
  <!--
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="prologue/dedication.xml"/>
  -->
  <preface id="preface" xml:base="prologue/preface.xml">
  <?dbhtml dir="prologue"?>
  <?dbhtml filename="preface.html"?>

  <title>Preface</title>

  <sect1 id="pre-foreword" xml:base="common/foreword.xml">
  <?dbhtml filename="foreword.html"?>

  <title>Foreword</title>

  <para>The Linux From Scratch Project has seen many changes in the
  few years of its existence.  I personally became involved with the
  project in 1999, around the time of the 2.x releases.  At that time,
  the build process was to create static binaries with the host system,
  then chroot and build the final binaries on top of the static ones.</para>

  <para>Later came the use of the /static directory to hold the initial
  static builds, keeping them separated from the final system, then
  the PureLFS process developed by Ryan Oliver and Greg Schafer,
  introducing a new toolchain build process that divorces even our initial
  builds from the host.  Finally, LFS 6 brought Linux Kernel 2.6, the
  udev dynamic device structure, sanitized kernel headers, and other
  improvements to the Linux From Scratch system.</para>

  <para>The one "flaw" in LFS is that it has always been based on an x86
  class processor.  With the advent of the Athlon 64 and Intel EM64T
  processors, the x86-only LFS is no longer ideal. Throughout this time,
  Ryan Oliver developed and documented a process by which you could
  build Linux for any system and from any system, by use of
  cross-compilation techniques.  Thus, the Cross-Compiled LFS (CLFS) was
  born.</para>

  <para>CLFS follows the same guiding principles the LFS project has
  always followed, e.g., knowing your system inside and out by virtue
  of having built the system yourself.  Additionally, during a CLFS
  build, you will learn advanced techniques such as cross-build toolchains,
  multilib support (32 &amp; 64-bit libraries side-by-side), alternative
  architectures such as Sparc, MIPS, and much more.</para>

  <para>We hope you enjoy building your own CLFS system, and the benefits
  that come from a system tailored to your needs.</para>

<literallayout format="linespecific" class="normal">--
Jeremy Utley, CLFS 1.x Release Manager (Page Author)
Jonathan Norman, Release Manager
Jim Gifford, CLFS Project Co-leader
Ryan Oliver, CLFS Project Co-leader
Joe Ciccone, CLFS Project Co-leader
Jonathan Norman, Justin Knierim, Chris Staub, Matt Darcy, Ken Moffat,
Manuel Canales Esparcia, Nathan Coulson and William Harrington - CLFS Developers</literallayout>

</sect1>
  <sect1 id="pre-audience" xml:base="common/audience.xml">
  <?dbhtml filename="audience.html"?>

  <title>Audience</title>

  <para>There are many reasons why somebody would want to read this book.
  The principal reason is to install a Linux system from the  source code.
  A question many people raise is, <quote>why go through all the hassle of
  manually building a Linux system from scratch when you can just download
  and install an existing one?</quote> That is a good question and is the
  impetus for this section of the book.</para>

  <para>One important reason for the existence of CLFS is to help people
  understand how a Linux system works.  Building an CLFS system helps
  demonstrate what makes Linux tick, and how things work together and
  depend on each other. One of the best things this learning experience
  provides is the ability to customize Linux to your own
  tastes and needs.</para>

  <para>A key benefit of CLFS is that it allows users to have more control
  over their system without any reliance on a Linux implementation designed
  by someone else.  With CLFS, <emphasis>you</emphasis> are in the driver's
  seat and dictate every aspect of the system, such as the directory layout
  and bootscript setup. You also dictate where, why, and how programs are
  installed.</para>

  <para>Another benefit of CLFS is the ability to create a very compact
  Linux system. When installing a regular distribution, one is often forced
  to include several programs which are probably never used. These programs
  waste disk space or CPU cycles.  It is not difficult to build an CLFS
  system of less than 100 megabytes (MB), which is substantially smaller
  than the majority of existing installations.  Does this still sound like a
  lot of space? A few of us have been working on creating a very small
  embedded CLFS system. We successfully built a system that was specialized
  to run the Apache web server with approximately 8MB of disk space used.
  Further stripping could bring this down to 5 MB or less. Try that with a
  regular distribution! This is only one of the many benefits of designing
  your own Linux implementation.</para>

  <para>We could compare Linux distributions to a hamburger purchased at
  a fast-food restaurant—you have no idea what might be in what you
  are eating. CLFS, on the other hand, does not give you a hamburger.
  Rather, CLFS provides the recipe to make the exact hamburger desired.
  This allows users to review the recipe, omit unwanted ingredients, and
  add your own ingredients to enhance the flavor of the burger. When you
  are satisfied with the recipe, move on to preparing it. It can be made
  to exact specifications—broil it, bake it, deep-fry it, or
  barbecue it.</para>

  <para>Another analogy that we can use is that of comparing CLFS with a
  finished house. CLFS provides the skeletal plan of a house, but it is up
  to you to build it. CLFS maintains the freedom to adjust plans throughout
  the process, customizing it to the needs and preferences of the user.</para>

  <para>Security is an additional advantage of a custom built Linux system.
  By compiling the entire system from source code, you are empowered to
  audit everything and apply all the security patches desired. It is no
  longer necessary to wait for somebody else to compile binary packages
  that fix a security hole. Unless you examine the patch and implement it
  yourself, you have no guarantee that the new binary package was built
  correctly and adequately fixes the problem.</para>

  <para>The goal of Cross Linux From Scratch is to build a complete and
  usable foundation-level system. Readers who do not wish to build their
  own Linux system from scratch may not benefit from the information in this
  book. If you only want to know what happens while the computer boots,
  we recommend the <quote>From Power Up To Bash Prompt</quote> HOWTO
  located at <ulink url="http://axiom.anu.edu.au/~okeefe/p2b/"/> or on
  The Linux Documentation Project's (TLDP) website at <ulink url="http://www.tldp.org/HOWTO/From-PowerUp-To-Bash-Prompt-HOWTO.html"/>.
  The HOWTO builds a system which is similar to that of this book, but it
  focuses strictly on creating a system capable of booting to a BASH prompt.
  Consider your objective. If you wish to build a Linux system and learn
  along the way, this book is your best choice.</para>

  <para>There are too many good reasons to build your own CLFS system to
  list them all here. This section is only the tip of the iceberg. As
  you continue in your CLFS experience, you will find the power that
  information and knowledge truly bring.</para>

</sect1>
  <sect1 id="pre-prerequisites" xml:base="common/prerequisites.xml">
  <?dbhtml filename="prerequisites.html"?>

  <title>Prerequisites</title>

  <para>Building a CLFS system is not a simple task. It requires a certain
  level of existing knowledge of Unix system administration in order to
  resolve problems, and correctly execute the commands listed. In particular,
  as an absolute minimum, the reader should already have the ability to use
  the command line (shell) to copy or move files and directories, list
  directory and file contents, and change the current directory. It is also
  expected that the reader has a reasonable knowledge of using and installing
  Linux software. A basic knowledge of the architectures being used in
  the Cross LFS process and the host operating systems in use is also
  required.</para>

  <para>Because the CLFS book assumes <emphasis>at least</emphasis> this basic
  level of skill, the various CLFS support forums are unlikely to be able to
  provide you with much assistance in these areas. Your questions regarding
  such basic knowledge will likely go unanswered, or you will be referred to
  the CLFS essential pre-reading list.</para>

  <para>Before building a CLFS system, we recommend reading the following
  HOWTOs:</para>

  <itemizedlist>
    <listitem>
      <para remap="verbatim">Software-Building-HOWTO
      <ulink url="http://www.tldp.org/HOWTO/Software-Building-HOWTO.html"/></para>

      <para>This is a comprehensive guide to building and installing
      <quote>generic</quote> Unix software distributions under Linux.</para>
    </listitem>
    <listitem>
      <para remap="verbatim">The Linux Users' Guide
      <ulink url="http://www.tldp.org/pub/Linux/docs/ldp-archived/users-guide/"/></para>

      <para>This guide covers the usage of assorted Linux software.</para>
    </listitem>
    <listitem>
      <para remap="verbatim">The Essential Pre-Reading Hint
      <ulink url="http://hints.clfs.org/index.php/Essential_Prereading"/></para>

      <para>This is a hint written specifically for users new to Linux.
      It includes a list of links to excellent sources of information on a
      wide range of topics. Anyone attempting to install CLFS should have an
      understanding of many of the topics in this hint.</para>
    </listitem>
  </itemizedlist>

</sect1>
  <sect1 id="pre-hostreqs" xml:base="common/hostreqs.xml">
  <?dbhtml filename="hostreqs.html"?>

  <title>Host System Requirements</title>

    <para>You should be able to build a CLFS system from just about any
    Unix-type operating system. Your host system should have the following
    software with the minimum versions indicated. Also note that many
    distributions will place software headers into separate packages, often in
    the form of <quote>[package-name]-devel</quote> or
    <quote>[package-name]-dev</quote>. Be sure to install those if
    your distribution provides them.</para>

  <itemizedlist spacing="compact">

    <listitem>
      <para><emphasis role="strong">Bash-2.05a</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Binutils-2.12</emphasis> (Versions
      greater than 2.28 are not recommended as they have
      not been tested)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Bison-1.875</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Bzip2-1.0.2</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Coreutils-5.0</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Diffutils-2.8</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Findutils-4.1.20</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Gawk-3.1.5</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">GCC-4.1.2</emphasis> and the C++ compiler,
      <command moreinfo="none">g++</command> (Versions greater than 7.1.0 are not
      recommended as they have not been tested)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Glibc-2.2.5</emphasis> (Versions
      greater than 2.25 are not recommended as they have
      not been tested)</para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Grep-2.5</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Gzip-1.2.4</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Make-3.80</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Ncurses-5.3</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Patch-2.5.4</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Sed-3.0.2</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Tar-1.22</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">Texinfo-4.7</emphasis></para>
    </listitem>

    <listitem>
      <para><emphasis role="strong">XZ Utils-4.999.8beta</emphasis></para>
    </listitem>

  </itemizedlist>

  <para>To see whether your host system has all the appropriate versions,
  create and run the following script. Read the output carefully for any
  errors, and make sure to install any packages that are reported as not found.</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt; version-check.sh &lt;&lt; "EOF"
<literal moreinfo="none">#!/bin/bash

# Simple script to list version numbers of critical development tools

bash --version | head -n1 | cut -d" " -f2-4
echo -n "Binutils: "; ld --version | head -n1 | cut -d" " -f3-
bison --version | head -n1
bzip2 --version 2&gt;&amp;1 &lt; /dev/null | head -n1 | cut -d" " -f1,6-
echo -n "Coreutils: "; chown --version | head -n1 | cut -d")" -f2
diff --version | head -n1
find --version | head -n1
gawk --version | head -n1
gcc --version | head -n1
g++ --version | head -n1
ldd $(which ${SHELL}) | grep libc.so | cut -d ' ' -f 3 | ${SHELL} | head -n 1 | cut -d ' ' -f 1-7
grep --version | head -n1
gzip --version | head -n1
make --version | head -n1
tic -V
patch --version | head -n1
sed --version | head -n1
tar --version | head -n1
makeinfo --version | head -n1
xz --version | head -n1
echo 'int main(){}' | gcc -v -o /dev/null -x c - &gt; dummy.log 2&gt;&amp;1
if ! grep -q ' error' dummy.log; then
  echo "Compilation successful" &amp;&amp; rm dummy.log
else
  echo 1&gt;&amp;2  "Compilation FAILED - more development packages may need to be \
installed. If you like, you can also view dummy.log for more details."
fi</literal>
EOF

bash version-check.sh 2&gt;errors.log &amp;&amp;
[ -s errors.log ] &amp;&amp; echo -e "\nThe following packages could not be found:\n$(cat errors.log)"</userinput></screen>

</sect1>
  <sect1 id="pre-typography" xml:base="common/typography.xml">
  <?dbhtml filename="typography.html"?>

  <title>Typography</title>

  <para>To make things easier to follow, there are a few typographical
  conventions used throughout this book. This section contains some
  examples of the typographical format found throughout Cross-Compiled
  Linux From Scratch.</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">./configure --prefix=/usr</userinput></screen>

  <para>This form of text is designed to be typed exactly as seen unless
  otherwise noted in the surrounding text. It is also used in the
  explanation sections to identify which of the commands is being
  referenced.</para>

<screen format="linespecific"><computeroutput moreinfo="none">install-info: unknown option '--dir-file=/mnt/clfs/usr/info/dir'</computeroutput></screen>

  <para>This form of text (fixed-width text) shows screen output,
  probably as the result of commands issued.  This format is also used
  to show filenames, such as <filename moreinfo="none">/etc/ld.so.conf</filename>.</para>

  <para><emphasis>Emphasis</emphasis></para>

  <para>This form of text is used for several purposes in the book.
  Its main purpose is to emphasize important points or items.</para>

  <para><ulink url="http://clfs.org/"/></para>

  <para>This format is used for hyperlinks, both within the CLFS
  community and to external pages. It includes HOWTOs, download locations,
  and websites.</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt; ${CLFS}/etc/group &lt;&lt; "EOF"
<literal moreinfo="none">root:x:0:
bin:x:1:
......</literal>
EOF</userinput></screen>

  <para>This format is used when creating configuration files. The first
  command tells the system to create the file
  <filename moreinfo="none">${CLFS}/etc/group</filename> from whatever is typed on the
  following lines until the sequence end of file (EOF) is encountered.
  Therefore, this entire section is generally typed as seen.</para>

  <para><replaceable>[REPLACED TEXT]</replaceable></para>

  <para>This format is used to encapsulate text that is not to be typed
  as seen or copied-and-pasted.</para>

  <para><filename moreinfo="none">passwd(5)</filename></para>

  <para>This format is used to refer to a specific manual page (hereinafter
  referred to simply as a <quote>man</quote> page). The number inside
  parentheses indicates a specific section inside of <command moreinfo="none">man</command>.
  For example, <command moreinfo="none">passwd</command> has two man pages. Per CLFS
  installation instructions, those two man pages will be located at
  <filename moreinfo="none">/usr/share/man/man1/passwd.1</filename> and
  <filename moreinfo="none">/usr/share/man/man5/passwd.5</filename>. Both man pages have
  different information in them. When the book uses
  <filename moreinfo="none">passwd(5)</filename> it is specifically referring to
  <filename moreinfo="none">/usr/share/man/man5/passwd.5</filename>.
  <command moreinfo="none">man passwd</command> will print the first man page it finds
  that matches <quote>passwd</quote>, which will be
  <filename moreinfo="none">/usr/share/man/man1/passwd.1</filename>. For this example,
  you will need to run <command moreinfo="none">man 5 passwd</command> in order to read
  the specific page being referred to. It should be noted that most man
  pages do not have duplicate page names in different sections. Therefore,
  <command moreinfo="none">man <replaceable>[program name]</replaceable></command> is
  generally sufficient.</para>

</sect1>
  <sect1 id="pre-organization" xml:base="common/organization.xml">
  <?dbhtml filename="organization.html"?>

  <title>Structure</title>

  <para>This book is divided into the following parts.</para>

  <sect2>
    <title>Part I - Introduction</title>

    <para>Part I explains a few important notes on how to proceed with the
    Cross-LFS installation. This section also provides meta-information about
    the book.</para>

  </sect2>

  <sect2>
    <title>Part II - Preparing for the Build</title>

    <para>Part II describes how to prepare for the building
    process—making a partition and downloading the packages.</para>

  </sect2>

  <sect2>
    <title>Part III - Make the Cross-Compile Tools</title>

    <para>Part III shows you how to make a set of Cross-Compiler
          tools. These tools can run on your host system but allow you to
          build packages that will run on your target system.</para>

  </sect2>

  <sect2>
    <title>Part IV - Building the Basic Tools</title>

    <para>Part IV explains how to build a tool chain designed
          to operate on your target system. These are the tools
          that will allow you to build a working system on your
          target computer.</para>

  </sect2>

  <sect2>
    <title>Part V - Building the CLFS System</title>

    <para>Part V guides the reader through the building of the CLFS
    system—compiling and installing all the packages one by one,
    setting up the boot scripts, and installing the kernel. The resulting
    Linux system is the foundation on which other software can be built to
    expand the system as desired. At the end of this book, there is an
    easy to use reference listing all of the programs, libraries, and
    important files that have been installed.</para>

  </sect2>

  <sect2>
    <title>Appendices</title>

    <para>The appendices contain information that doesn't really fit anywhere
    else in the book. Appendix A contains definitions of acronyms and
    terms used in the book; Appendices B and C have information about
    package dependencies and the build order. Some architectures may have
    additional appendices for arch-specific issues.</para>

  </sect2>

</sect1>
  <sect1 id="pre-errata" xml:base="common/errata.xml">
  <?dbhtml filename="errata.html"?>

  <title>Errata</title>

  <para>The software used to create a CLFS system is constantly being
  updated and enhanced. Security warnings and bug fixes may become
  available after the CLFS book has been released. Some host systems may
  also have problems building CLFS. To check whether the package versions
  or instructions in this release of CLFS need any modifications to
  accommodate security vulnerabilities, other bug fixes, or host-specific
  issues, please visit <ulink url="http://trac.clfs.org/wiki/errata"/> before proceeding with your
  build. You should note any changes shown and apply them to the relevant
  section of the book as you progress with building the CLFS system.</para>

</sect1>

</preface>

  <part id="part1">
    <?dbhtml filename="part1.html"?>

    <title>Introduction</title>

    <chapter id="chapter-intro" xreflabel="Introduction" xml:base="introduction/mips64-64-chapter.xml">
  <?dbhtml dir="introduction"?>
  <?dbhtml filename="chapter.html"?>

  <title>Introduction</title>

  <sect1 id="ch-intro-acknowledgements" xml:base="common/acknowledgements.xml">
  <title>Cross-LFS Acknowledgements</title>
  <?dbhtml filename="acknowledgements.html"?>

  <para>The CLFS team would like to acknowledge people who
  have assisted in making the book what it is today.</para>

  <para>Our Leaders:</para>

  <itemizedlist>
    <listitem>
      <para>William Harrington - Lead Developer.</para>
    </listitem>
    <listitem>
      <para>Jonathan Norman - x86, x86_64, PowerPC &amp; UltraSPARC builds,
      Release Manager 2.x Series</para>
    </listitem>
    <listitem>
      <para>Chris Staub - x86 and x86_64 builds. Leader of Quality Control.</para>
    </listitem>
  </itemizedlist>

  <para>Our CLFS Team:</para>

  <itemizedlist>
    <listitem>
      <para>Matt Darcy - x86, X86_64, and Sparc builds.</para>
    </listitem>
    <listitem>
      <para>Manuel Canales Esparcia - Book XML.</para>
    </listitem>
    <listitem>
      <para>Justin Knierim - Website Architect.</para>
    </listitem>
    <listitem>
      <para>Ken Moffat - PowerPC and X86_64 builds. Developer of Pure 64 Hint.</para>
    </listitem>
  </itemizedlist>

  <para>Outside the Development Team</para>
  <itemizedlist>
    <listitem>
      <para>Jürg Billeter - Testing and assisting in the development of the Linux Headers Package</para>
    </listitem>
    <listitem>
      <para>Richard Downing - Testing, typo, and content fixes.</para>
    </listitem>
    <listitem>
      <para>Peter Ennis - Typo and content fixes.</para>
    </listitem>
    <listitem>
      <para>Tony Morgan - Typo and content fixes.</para>
    </listitem>
  </itemizedlist>

  <para>The CLFS team would also like to acknowledge contributions of people
  from <ulink url="clfs-dev@lists.clfs.org"/> and associated mailing lists
  who have provided valuable technical and editorial corrections while testing
  the Cross-LFS book.</para>

  <itemizedlist>
    <listitem>
      <para>G. Moko - Text updates and Typos</para>
    </listitem>
    <listitem>
      <para>Maxim Osipov - MIPS Testing.</para>
    </listitem>
    <listitem>
      <para>Doug Ronne - Various x86_64 fixes.</para>
    </listitem>
    <listitem>
      <para>Theo Schneider - Testing of the Linux Headers Package</para>
    </listitem>
    <listitem>
      <para>Martin Ward - Recommendations for Systemd and the Boot method,
      among other contributions</para>
    </listitem>
    <listitem>
      <para>William Zhou - Text updates and Typos</para>
    </listitem>
  </itemizedlist>

  <para>Former Team Members</para>
  <itemizedlist>
    <listitem>
      <para>Joe Ciccone - Lead Developer.</para>
    </listitem>
    <listitem>
      <para>Nathan Coulson - Bootscripts.</para>
    </listitem>
    <listitem>
      <para>Jim Gifford - Lead Developer.</para>
    </listitem>
    <listitem>
      <para>Jeremy Huntwork - PowerPC, x86, Sparc builds.</para>
    </listitem>
    <listitem>
      <para>Karen McGuiness - Proofreader.</para>
    </listitem>
    <listitem>
      <para>Ryan Oliver - Build Process Developer.</para>
    </listitem>
    <listitem>
      <para>Alexander E. Patrakov - Udev/Hotplug Integration</para>
    </listitem>
    <listitem>
      <para>Jeremy Utley - Release Manager 1.x Series.</para>
    </listitem>
    <listitem>
      <para>Zack Winkles - Unstable book work.</para>
    </listitem>
  </itemizedlist>

  <para>The Linux From Scratch Project</para>
  <itemizedlist>
    <listitem>
      <para><ulink url="mailto:gerard@linuxfromscratch.org">Gerard
      Beekmans</ulink> &lt;gerard@linuxfromscratch.org&gt; –
      Creator of Linux From Scratch, on which Cross-LFS is based</para>
    </listitem>

  </itemizedlist>

  <para>Thank you all for your support.</para>

</sect1>
  <sect1 id="ch-intro-how" xml:base="common/how.xml">
  <?dbhtml filename="how.html"?>

  <title>How to Build a CLFS System</title>

  <para>The CLFS system will be built by using a previously installed
  Unix system or Linux distribution (such as Debian, Fedora, openSUSE,
  or Ubuntu). This existing system (the host) will be used as a starting
  point to provide necessary programs, including a compiler, linker, and shell,
  to build the new system. Select the <quote>development</quote> option
  during the distribution installation to be able to access these
  tools.</para>

  <para>As an alternative to installing an entire separate distribution onto
  your machine, you may wish to use a livecd. Most distributions provide
  a livecd, which provides an environment to which you can add the required
  tools onto, allowing you to successfully follow the instructions in this
  book. Remember that if you reboot the livecd you will need to reconfigure
  the host environment before continuing with your build.</para>

  <para><xref linkend="chapter-partitioning"/> of this book describes how
  to create a new Linux native partition and file system, the place
  where the new CLFS system will be compiled and installed. <xref linkend="chapter-getting-materials"/> explains which packages and
  patches need to be downloaded to build a CLFS system and how to store
  them on the new file system. <xref linkend="chapter-final-preps"/>
  discusses the setup for an appropriate working environment. Please read
  <xref linkend="chapter-final-preps"/> carefully as it explains several
  important issues the developer should be aware of before beginning to
  work through <xref linkend="chapter-cross-tools"/> and
  beyond.</para>

  <para><xref linkend="chapter-cross-tools"/> explains the installation of
  cross-compile tools which will be built on the host but be able to compile
  programs that run on the target machine. These cross-compile tools will
  be used to create a temporary, minimal system that will be the basis for
  building the final CLFS system. Some of these packages are needed to resolve
  circular dependencies—for example, to compile a compiler, you need a
  compiler.</para>

  <para>The process of building cross-compile tools first involves building and
  installing all the necessary tools to create a build system for the target
  machine. With these cross-compiled tools, we eliminate any
  dependencies on the toolchain from our host distro.</para>

  <para>After we build our <quote>Cross-Tools</quote>, we start building
  a very minimal working system in
  <filename class="directory" moreinfo="none">/tools</filename>, using the cross-toolchain in
  <filename class="directory" moreinfo="none">/cross-tools</filename>. Once the temporary
  system is finished, we perform a few additional tasks to prepare to
  enter this temporary build environment, either by booting or chrooting into
  it. For more details about the difference between these methods, see
  <xref linkend="ch-temp-system-choose"/>.</para>

  <para>In <xref linkend="chapter-building-system"/>, after having booted
  or chrooted into the temporary build environment, the full CLFS system is
  built.</para>

  <para>To finish the installation, several configuration files are created in
  <xref linkend="chapter-system-config"/>, and the kernel and boot loader are
  set up in <xref linkend="chapter-bootable"/>.
  <xref linkend="chapter-finalizing"/>
  contains information on furthering the CLFS experience beyond this book.
  After the steps in this book have been implemented, the computer will be
  ready to reboot into the new CLFS system.</para>

  <para>This is the process in a nutshell. Detailed information on each
  step is discussed in the following chapters and package descriptions.
  Items that may seem complicated will be clarified, and everything will
  fall into place as the reader embarks on the CLFS adventure.</para>

</sect1>
  <sect1 id="ch-introduction-buildinfo" xml:base="mips/buildinfo.xml">
  <?dbhtml filename="build-info.html"?>

  <title>Recommended Build Information</title>

  <para>On the RaQ2, we are recommending the following:</para>

  <blockquote>

    <para>The RaQ2 uses DOS style partitions, so build on a x86 and
    put the RaQ2 hard drive into that system.</para>

    <para>Follow the directions using the reboot section.</para>

    <para>Remove the hard drive and put it into the RaQ2 and
    continue your build.</para>

  </blockquote>

  <para>On other MIPS based systems, you will have to build on the
  machine itself, since most of the other MIPS machines use SGI
  style partitions.</para>

</sect1>
  <!-- Uncoment after the first CLFS release
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/whatsnew.xml"/>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="mips64-64/whatsnew.xml"/>
  -->
  <sect1 id="ch-intro-changelog" xreflabel="Master Changelog" xml:base="common/changelog.xml">
  <?dbhtml filename="changelog.html"?>

  <title>Master Changelog</title>

  <para>This is version GIT-20170803 of the Cross-Compiled Linux From Scratch
  book, dated August 03, 2017. If this book is more than six months old, a newer
  and better version is probably already available. To find out, please check
  one of the mirrors via <ulink url="http://trac.clfs.org/"/>.</para>

  <para>Below is a list of detailed changes made since the previous release of
   the book.</para>

  <itemizedlist>
    <title>Changelog Entries:</title>

<!-- Changelog template

    <listitem>
      <para>Date</para>
      <itemizedlist>
        <listitem>
          <para>[name] - Changelog entry.</para>
        </listitem>
        <listitem>
          <para>[name] - Previous changelog entry.</para>
        </listitem>
      </itemizedlist>
    </listitem>
-->
    <listitem>
      <para>02 July 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Diffutils to 3.6. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1175">#1175.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>09 June 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade PERL to 5.26.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1167">#1167.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>04 June 2017</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Simplified sed command in temp-system Bzip2.</para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>02 June 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Sed to 4.4. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1149">#1149.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>01 June 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Shadow to 4.5. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1150">#1150.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>29 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade File to 5.31. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1163">#1163.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Flex to 2.6.4. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1089">#1089.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>24 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Coreutils to 8.27. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1142">#1142.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>19 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Libcap to 2.25. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1140">#1140.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Move Libcap after Acl.</para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>17 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Vim to 8.0-0597. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1154">#1154.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>14 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Perl to 5.24.1. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1035">#1035.</ulink></para> 
        </listitem>
      </itemizedlist>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Binutils to 2.28. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1108">#1108.</ulink></para> 
        </listitem>
      </itemizedlist>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade ISL to 0.17.1. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1114">#1114.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>13 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade GCC to 7.1.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1114">#1114.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>10 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade MPFR to 3.1.5. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1145">#1145.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>06 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade GLIBC to 2.25. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1109">#1109.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Expat to 2.2.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1130">#1130.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Check to 0.11.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1127">#1127.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>04 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Man-DB to 2.7.6.1. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1143">#1143.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Tar to 1.29. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1151">#1151.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade BC to 1.07.1. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1124">#1124.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Grep to 3.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1107">#1107.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Readline to 7.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1086">#1086.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>03 May 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Bash to 4.4. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1085">#1085.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>16 April 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Util-linux to 2.29.2. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1038">#1038.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Systemd 233. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1003">#1003.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update group and user ids.</para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>16 April 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade Linux kernel to 4.9.21. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1105">#1105.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade IProute2 to 4.9.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1103">#1103.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>15 April 2017</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade D-Bus to 1.10.18. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1049">#1049.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade DejaGNU to 1.6. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1128">#1128.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade DHCPCD to 6.11.5. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1077">#1077.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Diffutils to 3.5. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1129">#1129.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade E2fsprogs to 1.43.4. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1113">#1113.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade File to 5.30. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1131">#1131.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Findutils to 4.6.0. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1101">#1101.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Gawk to 4.1.4. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1132">#1132.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade GDBM to 1.13. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1133">#1133.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Gettext to 0.19.8.1. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1134">#1134.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade GMP to 6.1.2. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1100">#1100.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade GZIP to 1.8. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1136">#1136.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade KBD to 2.0.4. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1137">#1137.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade LESS to 491. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1139">#1139.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade M4 to 1.4.18. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1142">#1142.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Make to 4.2.1. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1112">#1112.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Man-pages to 4.09. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1144">#1144.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Procps-ng to 3.3.12. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1148">#1148.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Texinfo to 6.3. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1152">#1152.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade TZData to 2017b. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1153">#1153.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade XZ-Utils to 5.2.3. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1157">#1157.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade Zlib to 1.2.11. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1156">#1156.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>28 December 2016</para>
      <itemizedlist>
        <listitem>
	  <para>[Chris] - Added "ext_attr" to the list of filesystem attributes
          to check for when creating a filesystem. Thanks to Roger Koehler for
          pointing this out.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>13 March 2016</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Updated Gawk dependencies - Gawk can use
          GMP, MPFR, Readline.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>04 March 2016</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Added creation of
          <filename moreinfo="none">/var/log/faillog</filename> to Shadow instructions.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>19 February 2016</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed --disable-profile from Glibc instructions -
          profiling is disabled by default.</para>
        </listitem>
        <listitem>
          <para>[Chris] - Removed commands to create libcurses* symlinks in
          Ncurses, as few packages now are likely to need them. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1102">#1102.</ulink></para>
        </listitem>
        <listitem>
          <para>[Chris] - Modified Ncurses instructions to move fewer libs
          to /lib{,32,64} as only libncursesw itself is needed there.Fixes
          ticket
          <ulink url="http://trac.clfs.org/ticket/1104">#1104.</ulink></para>
        </listitem>
        <listitem>
          <para>[Chris] - Prevented the <command moreinfo="none">bashbug</command> script
          from being installed in <filename class="directory" moreinfo="none">/bin</filename>,
          as it is not needed there. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1099">#1099.</ulink></para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>17 January 2016</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed redundant commands from multilib Ncurses
          pages.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>07 January 2016</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed command in Grep instructions for security fix
          that was addressed in latest version.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>28 December 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Upgrade to GREP 2.22. 
          Fixes ticket <ulink url="http://trac.clfs.org/ticket/1087">#1087.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade to LESS 481. 
          Fixes ticket <ulink url="http://trac.clfs.org/ticket/1088">#1088.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade to Ncurses 6.0.
          Fixes ticket <ulink url="http://trac.clfs.org/ticket/1044">#1044.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Upgrade to GCC 5.3.0.
          Fixes ticket <ulink url="http://trac.clfs.org/ticket/1094">#1094.</ulink></para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>23 December 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Changed LSB link to its new location at
          linuxfoundation.org.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>19 December 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Added -j1 to vim install command to prevent
          errors in make install output.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>13 December 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Edited configure options to have one per line. Fixes
          ticket <ulink url="http://trac.clfs.org/ticket/1091">#1091.</ulink></para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>05 December 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed unneeded directory and symlink creation
          on Pure64 Essential Symlinks page.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>30 November 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed one more remaining --disable-libstdcxx-pch
          option from final-system GCC installation.</para>
        </listitem>
        <listitem>
          <para>[Chris] - Updates to command explanations.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>27 November 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update GCC to 5.2.0. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1019">#1019.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Remove CLooG. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1020">#1020.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Update ISL to 0.15. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/978">#978.</ulink></para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>17 October 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update GLIBC to 2.22. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1027">#1027.</ulink></para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>16 October 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update Binutils to 2.25.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1023">#1023.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Update XZ to 5.2.2. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1081">#1081.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Update KBD to 2.0.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1057">#1057.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Update TZDATA to 2015g. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1051">#1051.</ulink></para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Libpipeline to 1.4.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1067">#1067.</ulink></para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>01 October 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed unneeded --disable-static option from
          Cross-Tools File page, as that is now the default.</para>
        </listitem>
        <listitem>
          <para>[Chris] - Removed --without-shared option from
          Cross-Tools Ncurses page, as that is the default.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>22 September 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update Libtool to 2.4.6. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1076">#1076.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Gettext to 0.19.6. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1075">#1075.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update File to 5.25. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1074">#1074.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>18 September 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Remove sed for E2fsprogs. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1073">#1073.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>16 September 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update IProute2 to 4.1.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/992">#992.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Linux to 4.1.7. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/995">#995.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>15 September 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update Procps-ng to 3.3.11. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1072">#1072.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>07 September 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - mv <command moreinfo="none">gzexe</command> and <command moreinfo="none">uncompress</command> to <filename class="directory" moreinfo="none">/usr/bin</filename>.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>06 September 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Add IPv6 entry to /etc/hosts for localhost</para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Update iputils to s20150815. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1066">#1066.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - mv <command moreinfo="none">fuser killall</command> to <filename class="directory" moreinfo="none">/bin</filename> per the FHS. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1068">#1068.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update MPFR to 3.1.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1043">#1043.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Texinfo to 6.0. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1041">#1041.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update XML-Parser to 2.44. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1039">#1039.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update XZ to 5.2.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1037">#1037.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Patch to 2.7.5. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1034">#1034.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update MPC to 1.0.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1033">#1033.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update KMOD to 21. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1031">#1031.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Intltool to 0.51.0. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1030">#1030.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Groff to 1.22.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1029">#1029.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Grep to 2.21. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1028">#1028.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update DejaGNU to 1.5.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1025">#1025.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Bison to 3.0.4. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1024">#1024.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Automake to 1.15. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1022">#1022.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update LESS to 479. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1056">#1056.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>04 September 2015</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update File to 5.24. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1021">#1021.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Man-db to 2.7.2. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1032">#1032.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update TCL to 8.6.4. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1036">#1036.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Check to 0.10.0. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1045">#1045.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update E2fsprogs to 1.42.13. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1046">#1046.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Gawk to 4.1.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1047">#1047.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Gettext to 0.19.5.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1048">#1048.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Man-pages to 4.02. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1050">#1050.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Add Bc memory leak patch. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1055">#1055.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>30 July 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed reference to Freecode, as it's no longer being updated.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>07 February 2015</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Updated FHS URL to new location.</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2 November 2014</para>
      <itemizedlist>
        <listitem>
          <para>[Chris] - Removed obsolete command for fixing
          <command moreinfo="none">tzselect</command> from Glibc instructions.</para>
        </listitem>
        <listitem>
          <para>[William Harrington] - Update E2FSprogs to 1.42.12. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1012">#1012.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Libtool to 2.4.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1013">#1013.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>31 October 2014</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update TZDATA to 2014i. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1006">#1006.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Util-linux to 2.25.2. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1007">#1007.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update XZ Utils to 5.0.7. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1008">#1008.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update DHCPCD to 6.6.0. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1009">#1009.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Libpipeline to 1.4.0. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1010">#1010.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update D-Bus to 1.9.0. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/987">#987.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update GLIBC to 2.20. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/982">#982.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Coreutils to 8.23. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/975">#975.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>25 October 2014</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update GREP to 2.20. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/969">#969.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Check to 0.9.14. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/986">#986.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update DHCPCD to 6.5.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/988">#988.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update File to 5.20. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/990">#990.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Gettext to 0.19.3. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/991">#991.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update KBD to 2.0.2. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/993">#993.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Libpipeline to 1.3.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/994">994.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Make to 4.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/996">#996.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Add Man-DB Home Page. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/997">#997.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Man-DB to 2.7.0.2. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/998">#998.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Man-pages to 3.75. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/999">#999.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Perl to 5.20.1. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1000">#1000.</ulink> All hail the
          1000 ticket!</para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Procps-ng to 3.3.10. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1001">#1001.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update Tar to 1.28. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1004">#1004.</ulink></para> 
        </listitem>
        <listitem>
          <para>[William Harrington] - Update TCL to 8.6.2. Fixes ticket
          <ulink url="http://trac.clfs.org/ticket/1005">#1005.</ulink></para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>18 October 2014</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Update LESS to 464.</para> 
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>18 October 2014</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Changelog restarted, see the 3.0.0 book for the
          old changelog.</para>
        </listitem>
      </itemizedlist>
    </listitem>

  </itemizedlist>

</sect1>
  <sect1 id="ch-intro-changelog-mips64" xml:base="mips64-64/changelog.xml">
  <?dbhtml filename="changelog-mips64.html"?>

  <title>Changelog for MIPS64-64</title>

  <para xml:base="../x86/changelog.xml">Below is a list of changes specific for this architecture made
  since the previous release of the book. For general changes see
  <xref linkend="ch-intro-changelog"/>,</para>

  <itemizedlist>
    <title>Changelog Entries:</title>

<!-- Changelog template

    <listitem>
      <para>Date</para>
      <itemizedlist>
        <listitem>
          <para>[name] - Changelog entry.</para>
        </listitem>
        <listitem>
          <para>[name] - Another changelog entry.</para>
        </listitem>
      </itemizedlist>
    </listitem>

-->

    <listitem>
      <para>18 October 2014</para>
      <itemizedlist>
        <listitem>
          <para>[William Harrington] - Changelog restarted, see the 3.0.0 book for the
          old changelog.</para>
        </listitem>
      </itemizedlist>
    </listitem>
  </itemizedlist>

</sect1>
  <sect1 id="ch-intro-resources" xml:base="common/resources.xml">
  <?dbhtml filename="resources.html"?>

  <title>Resources</title>

  <sect2 id="ch-intro-faq">
    <title>FAQ</title>

    <para>If during the building of the CLFS system you encounter any
    errors, have any questions, or think there is a typo in the book,
    please start by consulting the Frequently Asked Questions (FAQ)
    that is located at <ulink url="http://trac.clfs.org/wiki/faq"/>.</para>

  </sect2>

  <sect2 id="ch-intro-maillists" xreflabel="Chapter 1 - Mailing Lists">
    <title>Mailing Lists</title>

    <para>The <uri>clfs.org</uri> server hosts a number of
    mailing lists used for the development of the CLFS project. These lists
    include the main development and support lists, among others. If the
    FAQ does not contain your answer, you can search the CLFS lists via
    The Mail Archive <ulink url="http://www.mail-archive.com"/>. You can
    find the mail lists with the following link:</para>

    <para><ulink url="http://www.mail-archive.com/index.php?hunt=clfs"/></para>

    <para>For information on the different lists, how to subscribe, archive
    locations, and additional information, visit <ulink url="http://trac.clfs.org/wiki/lists"/>.</para>

  </sect2>

  <sect2 id="ch-intro-newsserver">
    <title>News Server</title>

    <para>Cross-LFS does not maintain its own News Server, but we do provide
    access via <uri>gmane.org</uri> <ulink url="http://gmane.org"/>. If you want to subscribe
    to the Cross-LFS lists via a newsreader you can utilize <uri>gmane.org</uri>.
    You can find the gmane search for CLFS with the following link:</para>

   <para><ulink url="http://dir.gmane.org/search.php?match=clfs"/></para>

  </sect2>

  <sect2 id="ch-intro-irc">
    <title>IRC</title>

    <para>Several members of the CLFS community offer assistance on our
    community Internet Relay Chat (IRC) network. Before using this support,
    please make sure that your question is not already answered in the CLFS
    FAQ or the mailing list archives. You can find the IRC network at
    <uri>chat.freenode.net</uri>. The support channel for cross-lfs is
    named #cross-lfs. If you need to show people the output of your
    problems, please use
    <ulink url="http://pastebin.clfs.org"/> and reference
    the pastebin URL when asking your questions.</para>

  </sect2>

  <sect2 id="ch-intro-mirrors" xreflabel="Chapter 1 - Mirror sites">
    <title>Mirror Sites</title>

    <para>The CLFS project has a number of world-wide mirrors to make
    accessing the website and downloading the required packages more
    convenient. Please visit the CLFS website at
    <ulink url="http://trac.clfs.org/wiki/mirrors"/> for mirrors of CLFS.</para>

  </sect2>

  <sect2 id="ch-intro-contactinfo">
    <title>Contact Information</title>

    <para>Please direct all your questions and comments to the
    CLFS mailing lists (see above).</para>

  </sect2>

</sect1>
  <sect1 id="ch-intro-askforhelp" xml:base="common/askforhelp.xml">
  <?dbhtml filename="askforhelp.html"?>

  <title>Help</title>

  <para>If an issue or a question is encountered while working through
  this book, check the FAQ page at <ulink url="http://trac.clfs.org/wiki/faq#generalfaq"/>.
  Questions are often already answered there. If your question is not
  answered on this page, try to find the source of the problem. The
  following hint will give you some guidance for troubleshooting:
  <ulink url="http://hints.clfs.org/index.php/Errors"/>.</para>

  <para>We also have a wonderful CLFS community that is willing to offer
  assistance through the mailing lists and IRC (see the <xref linkend="ch-intro-resources"/> section of this book). However, we
  get several support questions everyday and many of them can be easily
  answered by going to the FAQ and by searching the mailing lists first.
  So for us to offer the best assistance possible, you need to do some
  research on your own first. This allows us to focus on the more unusual
  support needs. If your searches do not produce a solution, please include
  all relevant information (mentioned below) in your request for help.</para>

  <sect2>
    <title>Things to Mention</title>

    <para>Apart from a brief explanation of the problem being experienced,
    the essential things to include in any request for help are:</para>

    <itemizedlist>
      <listitem>
        <para>The version of the book being used (in this case
        GIT-20170803)</para>
      </listitem>
      <listitem>
        <para>The host distribution and version being used to
        create CLFS.</para>
      </listitem>
      <listitem>
        <para>The architecture of the host and target.</para>
      </listitem>
      <listitem>
        <para>The value of the ${CLFS_HOST} and ${CLFS_TARGET} environment
        variables, and if applicable, ${BUILD32}, ${BUILD64}, ${BUILDN32},
        and ${GCCTARGET}.</para>
      </listitem>
      <listitem>
        <para>The package or section in which the problem was encountered.</para>
      </listitem>
      <listitem>
        <para>The exact error message or symptom received. See <xref linkend="ch-intro-askforhelp-compilation-problems"/> below for an
        example.</para>
      </listitem>
      <listitem>
        <para>Note whether you have deviated from the book at all. A package
        version change or even a minor change to any command is considered
        deviation.</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>Deviating from this book does <emphasis>not</emphasis>
      mean that we will not help you. After all, the CLFS project is
      about personal preference. Be upfront about any changes to
      the established procedure—this helps us evaluate and determine
      possible causes of your problem.</para>
    </note>

  </sect2>

  <sect2>
    <title>Configure Script Problems</title>

    <para>If something goes wrong while running the <command moreinfo="none">configure</command>
    script, review the <filename moreinfo="none">config.log</filename> file. This file may
    contain the errors you encountered during <command moreinfo="none">configure</command>.
    It often logs errors that may have not been printed to the screen. Include
    only the <emphasis>relevant</emphasis> lines if you need to ask for
    help.</para>

  </sect2>

  <sect2 id="ch-intro-askforhelp-compilation-problems">
    <title>Compilation Problems</title>

    <para>Both the screen output and the contents of various files are
    useful in determining the cause of compilation problems. The screen output
    from the <command moreinfo="none">configure</command> script and the
    <command moreinfo="none">make</command> run can be helpful. It is not necessary to
    include the entire output, but do include enough of the relevant
    information. Below is an example of the type of information to include
    from the screen output from <command moreinfo="none">make</command>:</para>

<screen format="linespecific"><computeroutput moreinfo="none">gcc -DALIASPATH=\"/mnt/clfs/usr/share/locale:.\"
-DLOCALEDIR=\"/mnt/clfs/usr/share/locale\"
-DLIBDIR=\"/mnt/clfs/usr/lib\"
-DINCLUDEDIR=\"/mnt/clfs/usr/include\" -DHAVE_CONFIG_H -I. -I.
-g -O2 -c getopt1.c
gcc -g -O2 -static -o make ar.o arscan.o commands.o dir.o
expand.o file.o function.o getopt.o implicit.o job.o main.o
misc.o read.o remake.o rule.o signame.o variable.o vpath.o
default.o remote-stub.o version.o opt1.o
-lutil job.o: In function `load_too_high':
/clfs/tmp/make-3.79.1/job.c:1565: undefined reference
to `getloadavg'
collect2: ld returned 1 exit status
make[2]: *** [make] Error 1
make[2]: Leaving directory `/clfs/tmp/make-3.79.1'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/clfs/tmp/make-3.79.1'
make: *** [all-recursive-am] Error 2</computeroutput></screen>

    <para>In this case, many people would just include the bottom
    section:</para>

<screen format="linespecific"><computeroutput moreinfo="none">make [2]: *** [make] Error 1</computeroutput></screen>

    <para>This is not enough information to properly diagnose the problem
    because it only notes that something went wrong, not
    <emphasis>what</emphasis> went wrong.  The entire section, as in the
    example above, is what should be saved because it includes the command
    that was executed and the associated error message(s).</para>

    <para>An excellent article about asking for help on the Internet is
    available online at <ulink url="http://catb.org/~esr/faqs/smart-questions.html"/>.  Read and
    follow the hints in this document to increase the likelihood of getting
    the help you need.</para>

  </sect2>

</sect1>

</chapter>

  </part>

  <part id="part2">
    <?dbhtml filename="part2.html"?>

    <title>Preparing for the Build</title>

    <chapter id="chapter-partitioning" xreflabel="Preparing a New Partition" xml:base="partitioning/mips-chapter.xml">
  <?dbhtml dir="partitioning"?>
  <?dbhtml filename="chapter.html"?>

  <title>Preparing a New Partition</title>

  <sect1 id="ch-partitioning-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>In this chapter, the partition which will host the CLFS system is
  prepared. We will create the partition itself, create a file system
  on it, and mount it.</para>

</sect1>
  <sect1 id="ch-final-preps-aboutclfs" xml:base="common/aboutclfs.xml">
  <?dbhtml filename="aboutclfs.html"?>

  <title>Setting The ${CLFS} Variable</title>

  <para>Throughout this book, the environment variable <envar>CLFS</envar> will
  be used several times. You should ensure that this variable is always defined
  throughout the CLFS build process. It should be set to the name of the
  directory where you will be building your CLFS system - we will use
  <filename class="directory" moreinfo="none">/mnt/clfs</filename> as an example, but the
  directory choice is up to you. If you are building CLFS on a separate
  partition, this directory will be the mount point for the partition.
  Choose a directory location and set the variable with the
  following command:</para>

<screen format="linespecific"><userinput moreinfo="none">export CLFS=<replaceable>/mnt/clfs</replaceable></userinput></screen>

  <para>Having this variable set is beneficial in that commands such as
  <command moreinfo="none">install -dv ${CLFS}/tools</command> can be typed literally. The shell
  will automatically replace <quote>${CLFS}</quote> with
  <quote>/mnt/clfs</quote> (or whatever the variable was set to) when it
  processes the command line.</para>

  <para>Do not forget to check that <envar>${CLFS}</envar> is set whenever
  you leave and reenter the current working environment (such as when doing a
  <command moreinfo="none">su</command> to <systemitem class="username" moreinfo="none">root</systemitem> or
  another user). Check that the <envar>CLFS</envar> variable is set up
  properly with:</para>

<screen format="linespecific"><userinput moreinfo="none">echo ${CLFS}</userinput></screen>

  <para>Make sure the output shows the path to your CLFS system's build
  location, which is <filename class="directory" moreinfo="none">/mnt/clfs</filename> if the
  provided example was followed. If the output is incorrect, use the command
  given earlier on this  page to set <envar>${CLFS}</envar> to the correct
  directory name.</para>

</sect1>
  <sect1 id="ch-partitioning-creatingpartition" xml:base="mips/creatingpartition.xml">
  <?dbhtml filename="creatingpartition.html"?>

  <title>Creating a New Partition</title>

  <para os="a" xml:base="../common/creatingpartition.xml">Like most other operating systems, CLFS is usually installed
  on a dedicated partition. The recommended approach to building a CLFS
  system is to use an available empty partition or, if you have enough
  unpartitioned space, to create one. However, if you're building for a
  different architecture you can simply build everything in
  <quote>/mnt/clfs</quote> (or whatever directory you want to use) and
  transfer it to your target machine. If you do not plan to use a separate
  partition for building CLFS, you can skip the rest of this chapter and
  continue on to <xref linkend="chapter-getting-materials"/>.</para>

  <para os="b" xml:base="../common/creatingpartition.xml">A minimal system requires around 6 gigabytes (GB).
  This is enough to store all the source tarballs and compile the packages. The CLFS
  system itself will not take up this  much room. A large portion of this requirement
  is to provide sufficient free temporary storage. Compiling packages can require a
  lot of disk space which will be reclaimed after the package is installed. If the
  CLFS system is intended to be the primary Linux system,  additional software will
  probably be installed which will require additional space (2-10 GB). </para>

  <para os="c" xml:base="../common/creatingpartition.xml">Because there is not always enough Random Access Memory (RAM)
  available for compilation processes, it is a good idea to use a small disk
  partition as swap space. This is used by the kernel to store seldom-used
  data and leave more memory available for active processes. The swap
  partition for a CLFS system can be the same as the one used by the host
  system, in which case it is not necessary to create another one.</para>

  <para os="d" xml:base="../common/creatingpartition.xml">As the <systemitem class="username" moreinfo="none">root</systemitem> user,
  start a disk partitioning program such as <command moreinfo="none">cfdisk</command>
  or <command moreinfo="none">fdisk</command> with a command line option naming the hard
  disk on which the new partition will be created—for example
  <filename class="devicefile" moreinfo="none">/dev/sda</filename> for the primary
  Integrated Drive Electronics (IDE) or Serial ATA (SATA) disk. Create a Linux
  native partition and a swap partition, if needed. Please refer to
  <filename moreinfo="none">cfdisk(8)</filename> or <filename moreinfo="none">fdisk(8)</filename> if you
  do not yet know how to use the programs.</para>

  <para os="e" xml:base="../common/creatingpartition.xml">Remember the designation of the new partition (e.g.,
  <filename class="devicefile" moreinfo="none">sda5</filename>). This book will refer to
  this as the CLFS partition. Also, remember the designation of the swap
  partition. These names will be needed later for the
  <filename moreinfo="none">/etc/fstab</filename> file.</para>

  <para>On a Cobalt RaQ2/Cube2 we use the existing firmware for a boot
  loader—it requires an <systemitem class="filesystem" moreinfo="none">ext2</systemitem>
  revision 0 partition to boot from. Here is the recommended partition layout
  for a Cobalt RaQ2/Cube2 system:</para>

  <itemizedlist>
    <listitem>
      <para>The first partition should be 50-100 MB.</para>
    </listitem>
    <listitem>
      <para>The second partition should be all the remaining space minus the
      amount of RAM in the system.</para>
    </listitem>
    <listitem>
      <para>The third partition is going to be your swap partition, which will
      be the same size as the amount as the RAM installed in the system.</para>
    </listitem>
  </itemizedlist>

</sect1>
  <sect1 id="ch-partitioning-creatingfilesystem" xml:base="mips/creatingfilesystem.xml">
  <?dbhtml filename="creatingfilesystem.html"?>

  <title>Creating a File System on the Partition</title>

  <para os="a" xml:base="../common/creatingfilesystem.xml">Now that a blank partition has been set up, the file system can be
  created. The most widely-used system in the Linux world is the second
  extended file system (ext2), but with newer high-capacity hard disks,
  journaling file systems are becoming increasingly popular. We will create
  an <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system.
  Instructions for other file systems can be found at
  <ulink url="http://cblfs.clfs.org/index.php?section=6#File_System"/>.</para>

  <para os="b" xml:base="../common/creatingfilesystem.xml">To create an <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file
  system on the CLFS partition, run the following as
  <systemitem class="username" moreinfo="none">root</systemitem>:</para>

  <screen os="c" xml:base="../common/creatingfilesystem.xml" format="linespecific"><userinput moreinfo="none">mke2fs /dev/<replaceable>[xxx]</replaceable></userinput></screen>

  <para os="d" xml:base="../common/creatingfilesystem.xml">Replace <replaceable>[xxx]</replaceable> with the name of the CLFS
  partition (<filename class="devicefile" moreinfo="none">sda5</filename> in our previous
  example).</para>

  <note os="e" xml:base="../common/creatingfilesystem.xml">
    <para>Some host distributions use custom features in their filesystem
    creation tools (E2fsprogs). This can cause problems when booting into
    your new CLFS system, as those features will not be supported by the
    CLFS-installed E2fsprogs; you will get an error similar to
    <computeroutput moreinfo="none">unsupported filesystem features, upgrade your
    e2fsprogs</computeroutput>. To check if your host system uses custom
    enhancements, run the following command:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">debugfs -R feature /dev/<replaceable>[xxx]</replaceable></userinput></screen>

    <para>If the output contains features other than: dir_index; ext_attr; filetype;
    large_file; resize_inode or sparse_super then your host system may have custom
    enhancements. In that case, to avoid later problems, you should compile the
    stock E2fsprogs package and use the resulting binaries to re-create the
    filesystem on your CLFS partition. To do this, run the following commands
    as <systemitem class="username" moreinfo="none">root</systemitem>:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">cd /tmp
tar xjf /path/to/sources/e2fsprogs-1.43.4.tar.bz2
cd e2fsprogs-1.43.4
mkdir build
cd build
../configure
make #note that we intentionally don't 'make install' here!
./misc/mke2fs /dev/<replaceable>[xxx]</replaceable>
cd /tmp
rm -rf e2fsprogs-1.43.4</userinput></screen>

  </note>

  <para os="h" xml:base="../common/creatingfilesystem.xml">If you created a swap partition, you will need to initialize it
  for use by issuing the command below as
  <systemitem class="username" moreinfo="none">root</systemitem>:</para>

  <screen os="i" xml:base="../common/creatingfilesystem.xml" format="linespecific"><userinput moreinfo="none">mkswap /dev/<replaceable>[yyy]</replaceable></userinput></screen>

  <para os="j" xml:base="../common/creatingfilesystem.xml">Replace <replaceable>[yyy]</replaceable> with the name of the
  swap partition. If you are using an existing swap partition, there is no
  need to format it.</para>

  <para>The commands listed below are specific to the Cobalt MIPS systems,
  they have a special requirement to have a ext2 Revision 0 for the boot
  partition. To make sure you satify this requirement, use the commands listed:</para>

<screen format="linespecific"><userinput moreinfo="none">mke2fs -r 0 /dev/hda1
mke2fs /dev/hda2
mkswap /dev/hda3</userinput></screen>

</sect1>
  <sect1 id="ch-partitioning-mounting" xml:base="common/mounting.xml">
  <?dbhtml filename="mounting.html"?>

  <title>Mounting the New Partition</title>

  <para>Now that a file system has been created, the partition needs to
  be made accessible. In order to do this, the partition needs to be
  mounted at a chosen mount point.</para>

  <para>As the <systemitem class="username" moreinfo="none">root</systemitem> user, ensure the
  <envar>CLFS</envar> variable is set, if you haven't already:</para>

<screen format="linespecific"><userinput moreinfo="none">export CLFS=<replaceable>/mnt/clfs</replaceable></userinput></screen>

  <para>Next, create the mount point and mount the CLFS file system by
  running the following commands as
  <systemitem class="username" moreinfo="none">root</systemitem>:</para>

<screen format="linespecific"><userinput moreinfo="none">mkdir -pv ${CLFS}
mount -v /dev/<replaceable>[xxx]</replaceable> ${CLFS}</userinput></screen>

  <para>Replace <replaceable>[xxx]</replaceable> with the designation of
  the CLFS partition.</para>

  <para>If using multiple partitions for CLFS (e.g., one for <filename class="directory" moreinfo="none">/</filename> and another for <filename class="directory" moreinfo="none">/usr</filename>), mount them as
  <systemitem class="username" moreinfo="none">root</systemitem> using:</para>

<screen format="linespecific"><userinput moreinfo="none">mkdir -pv ${CLFS}
mount -v /dev/<replaceable>[xxx]</replaceable> ${CLFS}
mkdir -v ${CLFS}/usr
mount -v /dev/<replaceable>[yyy]</replaceable> ${CLFS}/usr</userinput></screen>

  <para>Replace <replaceable>[xxx]</replaceable> and
  <replaceable>[yyy]</replaceable> with the appropriate partition
  names.</para>

  <para>Ensure that this new partition is not mounted with permissions
  that are too restrictive (such as the <option>nosuid</option>,
  <option>nodev</option>, or <option>noatime</option> options).
  Run <command moreinfo="none">mount | grep ${CLFS}</command> to see
  what options are set for the mounted CLFS partition. If
  <option>nosuid</option>, <option>nodev</option>, and/or
  <option>noatime</option> are set, the partition will need to be
  remounted.</para>

  <para>Now that there is an established place to work, it is time to
  download the packages.</para>

</sect1>

</chapter>
    <chapter id="chapter-getting-materials" xreflabel="Packages and Patches" xml:base="materials/mips64-64-chapter.xml">
  <?dbhtml dir="materials"?>
  <?dbhtml filename="chapter.html"?>

  <title>Packages and Patches</title>

  <sect1 id="ch-materials-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>This chapter includes a list of packages that need to be downloaded
  for building a basic Linux system. The listed version numbers correspond
  to versions of the software that are known to work, and this book is based
  on their use. We highly recommend not using newer versions because the
  build commands for one version may not work with a newer version. The
  newest package versions may also have problems that require work-arounds.
  These work-arounds will be developed and stabilized in the development
  version of the book.</para>

  <para>Download locations may not always be accessible. If a download
  location has changed since this book was published, Google (<ulink url="http://www.google.com/"/>) provides a useful search engine for
  most packages. If this search is unsuccessful, try one of the
  alternative means of downloading discussed at <ulink url="http://clfs.org/files/packages/git/"/>.</para>

  <para>Create a directory called
  <filename class="directory" moreinfo="none">${CLFS}/sources</filename> and use it to store
  your sources and patches. All packages should be compiled there as well.
  Using any other location for compiling may have unexpected results.</para>

  <para>To create this directory, execute, as user <systemitem class="username" moreinfo="none">root</systemitem>, the following command before
  starting the download session:</para>

<screen format="linespecific"><userinput moreinfo="none">mkdir -v ${CLFS}/sources</userinput></screen>

  <para>Make this directory writable and sticky. When a directory is
  marked <quote>sticky</quote>, that means that even if multiple users have
  write permission on that directory, any file within that directory can only be
  deleted or modified by its owner. The following command, run as
  <systemitem class="username" moreinfo="none">root</systemitem>, will enable the
  write and sticky modes:</para>

<screen format="linespecific"><userinput moreinfo="none">chmod -v a+wt ${CLFS}/sources</userinput></screen>

  <para>You can download all needed packages and patches into this directory
either by using the links on the following pages in this section, or by passing
the <ulink url="../dl.list">download list</ulink> to <command moreinfo="none">wget</command>:</para>

<screen format="linespecific"><userinput moreinfo="none">wget -i dl.list -P ${CLFS}/sources</userinput></screen>

  <para>Verification of downloaded packages can be done by downloading the
following MD5 or SHA1 checksum lists:</para>

  <para><ulink url="http://clfs.org/files/packages/git/MD5SUMS">MD5SUMS</ulink>:</para>

<screen format="linespecific"><userinput moreinfo="none">pushd ${CLFS}/sources
md5sum -c MD5SUMS
popd</userinput></screen>

  <para><ulink url="http://clfs.org/files/packages/git/SHA1SUMS">SHA1SUMS</ulink>:</para>

<screen format="linespecific"><userinput moreinfo="none">pushd ${CLFS}/sources
sha1sum -c SHA1SUMS
popd</userinput></screen>

</sect1>
  <sect1 id="ch-materials-packages-common" xml:base="common/packages.xml">
  <?dbhtml filename="packages.html"?>

  <title>All Packages</title>

  <para>Download or otherwise obtain the following packages:</para>

  <variablelist role="materials">

    <varlistentry>
      <term>Acl (2.2.52) - <token>384 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://savannah.nongnu.org/projects/acl"/></para>
        <para>Download: <ulink url="http://download.savannah.gnu.org/releases/acl/acl-2.2.52.src.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">a61415312426e9c2212bd7dc7929abda</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Attr (2.4.47) - <token>340 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://savannah.nongnu.org/projects/attr"/></para>
        <para>Download: <ulink url="http://download.savannah.gnu.org/releases/attr/attr-2.4.47.src.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">84f58dec00b60f2dc8fd1c9709291cc7</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Autoconf (2.69) - <token>1,188 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/autoconf/autoconf.html"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">50f97f4159805e374639a73e2636f22e</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Automake (1.15) - <token>1,497 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/automake"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/automake/automake-1.15.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">9a1ddb0e053474d9d1105cfe39b0c48d</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Bash (4.4) - <token>9,377 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/bash"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/bash/bash-4.4.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">148888a7c95ac23705559b6f477dfe25</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Bc (1.07.1) - <token>420 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/bc/"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/bc/bc-1.07.1.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">cda93857418655ea43590736fc3ca9fc</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Binutils (2.28) - <token>26,556 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://sources.redhat.com/binutils"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/binutils/binutils-2.28.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">9e8340c96626b469a603c15c9d843727</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Bison (3.0.4) - <token>1,974 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/bison"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/bison/bison-3.0.4.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">c342201de104cc9ce0a21e0ad10d4021</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Boot-scripts for CLFS (3.0-20140710) - <token>22 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url=" "/></para>
        <para>Download: <ulink url="http://clfs.org/files/packages/git/boot-scripts-cross-lfs-3.0-20140710.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">bac3e8a54e5ab124a2df0713dc4e4ca4</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Bzip2 (1.0.6) - <token>764 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.bzip.org/"/></para>
        <para>Download: <ulink url="http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">00b516f4704d4a7cb50a1d97e6e8e15b</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Check (0.11.0) - <token>754 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://libcheck.github.io/check/"/></para>
        <para>Download: <ulink url="https://github.com/libcheck/check/releases/download/0.11.0/check-0.11.0.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">9b90522b31f5628c2e0f55dda348e558</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>CLFS Network Scripts (20140224) - <token>22 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url=" "/></para>
        <para>Download: <ulink url="http://clfs.org/files/clfs-network-scripts-20140224.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">831308d5e80bdaa3f494dc218ee43f78</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Coreutils (8.27) - <token>5,286 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/coreutils/coreutils.html"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/coreutils/coreutils-8.27.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">502795792c212932365e077946d353ae</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>D-Bus (1.10.18) - <token>1,987 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.freedesktop.org/wiki/Software/dbus"/></para>
        <para>Download: <ulink url="http://dbus.freedesktop.org/releases/dbus/dbus-1.10.18.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">1209c455598165a0c5263d4201894179</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>DejaGNU (1.6) - <token>524 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/dejagnu"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/dejagnu/dejagnu-1.6.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">1fdc2eb0d592c4f89d82d24dfdf02f0b</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>DHCPCD (6.11.5) - <token>198 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://roy.marples.name/projects/dhcpcd"/></para>
        <para>Download: <ulink url="http://roy.marples.name/downloads/dhcpcd/dhcpcd-6.11.5.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">2465624b62c1154f0e89dc69c42c849b</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Diffutils (3.6) - <token>1,398 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/diffutils"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/diffutils/diffutils-3.6.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">07cf286672ced26fba54cd0313bdc071</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>E2fsprogs (1.43.4) - <token>5,266 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://e2fsprogs.sourceforge.net"/></para>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/kernel/people/tytso/e2fsprogs/v1.43.4/e2fsprogs-1.43.4.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">8903379ef0b902f4e29b6cafea359fe1</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Eudev (1.7) - <token>1,756 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="https://wiki.gentoo.org/wiki/Eudev"/></para>
        <para>Download: <ulink url="http://dev.gentoo.org/~blueness/eudev/eudev-1.7.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">80649a0350ff9620fc2da9562d9f2a6a</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Expat (2.2.0) - <token>414 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://expat.sourceforge.net"/></para>
        <para>Download: <ulink url="http://downloads.sourceforge.net/expat/expat-2.2.0.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">2f47841c829facb346eb6e3fab5212e2</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Expect (5.45) - <token>616 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://expect.sourceforge.net"/></para>
        <para>Download: <ulink url="http://downloads.sourceforge.net/project/expect/Expect/5.45/expect5.45.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">44e1a4f4c877e9ddc5a542dfa7ecc92b</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>File (5.31) - <token>792 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.darwinsys.com/file"/></para>
        <para>Download: <ulink url="ftp://ftp.astron.com/pub/file/file-5.31.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">319627d20c9658eae85b056115b8c90a</literal></para>

        <note>
          <para>File (5.31) may no longer be available at the
          listed location. The site administrators of the master download
          location occasionally remove older versions when new ones are
          released. An alternative download location that may have the
          correct version available is <ulink url="http://clfs.org/files/packages/git/"/>.</para>
        </note>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Findutils (4.6.0) - <token>3,780 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/findutils"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/findutils/findutils-4.6.0.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">9936aa8009438ce185bea2694a997fc1</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Flex (2.6.4) - <token>1,419 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="https://github.com/westes/flex"/></para>
        <para>Download: <ulink url="https://github.com/westes/flex/releases/download/v2.6.4/flex-2.6.4.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">2882e3179748cc9f9c23ec593d6adc8d</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Gawk (4.1.4) - <token>2,368 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/gawk"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/gawk/gawk-4.1.4.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">4e7dbc81163e60fd4f0b52496e7542c9</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>GCC (7.1.0) - <token>84,304 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://gcc.gnu.org"/></para>
        <para>Download: <ulink url="ftp://gcc.gnu.org/pub/gcc/releases/gcc-7.1.0/gcc-7.1.0.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">6bf56a2bca9dac9dbbf8e8d1036964a8</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>GDBM (1.13) - <token>892 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/gdbm"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/gdbm/gdbm-1.13.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">8929dcda2a8de3fd2367bdbf66769376</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Gettext (0.19.8.1) - <token>7,210 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/gettext"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/gettext/gettext-0.19.8.1.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">df3f5690eaa30fd228537b00cb7b7590</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Glibc (2.25) - <token>13,874 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/libc/"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/glibc/glibc-2.25.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">1496c3bf41adf9db0ebd0af01f202eed</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>GMP (6.1.2) - <token>1,946 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="https://gmplib.org/"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/gmp/gmp-6.1.2.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">f58fa8001d60c4c77595fbbb62b63c1d</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Gperf (3.0.4) - <token>968 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/gperf"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/gperf/gperf-3.0.4.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">c1f1db32fb6598d6a93e6e88796a8632</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Grep (3.0) - <token>1,375 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/grep"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/grep/grep-3.0.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">fa07c1616adeb9c3262be5177d10ad4a</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Groff (1.22.3) - <token>4,189 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/groff"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/groff/groff-1.22.3.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">cc825fa64bc7306a885f2fb2268d3ec5</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Gzip (1.8) - <token>728 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/gzip/gzip.html"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/gzip/gzip-1.8.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">f7caabb65cddc1a4165b398009bd05b9</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Iana-Etc (2.30) - <token>204 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="https://www.archlinux.org/packages/core/any/iana-etc/"/></para>
        <para>Download: <ulink url="http://ftp.clfs.org/pub/clfs/conglomeration/iana-etc/iana-etc-2.30.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">3ba3afb1d1b261383d247f46cb135ee8</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Intltool (0.51.0) - <token>162 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://freedesktop.org/wiki/Software/intltool"/></para>
        <para>Download: <ulink url="http://launchpad.net/intltool/trunk/0.51.0/+download/intltool-0.51.0.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">12e517cac2b57a0121cda351570f1e63</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>IPRoute2 (4.9.0) - <token>613 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.linuxfoundation.org/collaborate/workgroups/networking/iproute2"/></para>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/utils/net/iproute2/iproute2-4.9.0.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">44a8371a4b2c40e48e4c9f98cbd41391</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>IPutils (s20150815) - <token>152 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.linuxfoundation.org/collaborate/workgroups/networking/iputils"/></para>
        <para>Download: <ulink url="http://clfs.org/files/packages/git/iputils-s20150815.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">d184faea97095265452dce19ef98daf6</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>ISL (0.17.1) - <token>1,441 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://isl.gforge.inria.fr"/></para>
        <para>Download: <ulink url="http://isl.gforge.inria.fr/isl-0.17.1.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">20b83900e234f982a566a3a6b3503bf1</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Kbd (2.0.4) - <token>1,019 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://ftp.altlinux.org/pub/people/legion/kbd/"/></para>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/utils/kbd/kbd-2.0.4.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">c1635a5a83b63aca7f97a3eab39ebaa6</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Kmod (24) - <token>537 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://git.kernel.org/?p=utils/kernel/kmod/kmod.git;a=summary"/></para>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/utils/kernel/kmod/kmod-24.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">08297dfb6f2b3f625f928ca3278528af</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Less (491) - <token>320 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.greenwoodsoftware.com/less"/></para>
        <para>Download: <ulink url="http://www.greenwoodsoftware.com/less/less-491.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">81e260e8b12f253c31565acad6ee0e59</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Libcap (2.25) - <token>64 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://sites.google.com/site/fullycapable/"/></para>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/libs/security/linux-privs/libcap2/libcap-2.25.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">6666b839e5d46c2ad33fc8aa2ceb5f77</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Libpipeline (1.4.1) - <token>805 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://libpipeline.nongnu.org/"/></para>
        <para>Download: <ulink url="http://download.savannah.gnu.org/releases/libpipeline/libpipeline-1.4.1.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">e54590ec68d6c1239f67b5b44e92022c</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Libtool (2.4.6) - <token>948 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/libtool"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/libtool/libtool-2.4.6.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">1bfb9b923f2c1339b4d2ce1807064aa5</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Linux (4.9) - <token>93,192 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.kernel.org"/></para>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/kernel/v4.x/linux-4.9.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">0a68ef3615c64bd5ee54a3320e46667d</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>M4 (1.4.18) - <token>1,208 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/m4/m4.html"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/m4/m4-1.4.18.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">730bb15d96fffe47e148d1e09235af82</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Make (4.2.1) - <token>1,407 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/make"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/make/make-4.2.1.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">15b012617e7c44c0ed482721629577ac</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Man-DB (2.7.6.1) - <token>1,541 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://man-db.nongnu.org"/></para>
        <para>Download: <ulink url="http://clfs.org/files/packages/git/man-db-2.7.6.1.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">2948d49d0ed7265f60f83aa4a9ac9268</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Man-pages (4.09) - <token>1,522 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.win.tue.nl/~aeb/linux/man"/></para>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/docs/man-pages/man-pages-4.09.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">91c721409bbf823d8f62bee3a1fe8ae3</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>MPC (1.0.3) - <token>670 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.multiprecision.org/"/></para>
        <para>Download: <ulink url="http://www.multiprecision.org/mpc/download/mpc-1.0.3.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">d6a1d5f8ddea3abd2cc3e98f58352d26</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>MPFR (3.1.5) - <token>1,127 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.mpfr.org/"/></para>
        <para>Download: <ulink url="http://www.mpfr.org/mpfr-3.1.5/mpfr-3.1.5.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">c4ac246cf9795a4491e7766002cd528f</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Ncurses (6.0) - <token>3,132 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/ncurses"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/ncurses/ncurses-6.0.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">ee13d052e1ead260d7c28071f46eefb1</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Patch (2.7.5) - <token>728 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://savannah.gnu.org/projects/patch"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/patch/patch-2.7.5.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">e3da7940431633fb65a01b91d3b7a27a</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Perl (5.26.0) - <token>11,962 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="https://www.perl.org"/></para>
        <para>Download: <ulink url="http://www.cpan.org/src/5.0/perl-5.26.0.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">8c6995718e4cb62188f0d5e3488cd91f</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Pkg-config-lite (0.28-1) - <token>384 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://sourceforge.net/projects/pkgconfiglite"/></para>
        <para>Download: <ulink url="http://sourceforge.net/projects/pkgconfiglite/files/0.28-1/pkg-config-lite-0.28-1.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">61f05feb6bab0a6bbfab4b6e3b2f44b6</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Procps-ng (3.3.12) - <token>845 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://sourceforge.net/projects/procps-ng"/></para>
        <para>Download: <ulink url="http://sourceforge.net/projects/procps-ng/files/Production/procps-ng-3.3.12.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">957e42e8b193490b2111252e4a2b443c</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Psmisc (22.21) - <token>458 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://psmisc.sourceforge.net"/></para>
        <para>Download: <ulink url="http://downloads.sourceforge.net/psmisc/psmisc-22.21.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">935c0fd6eb208288262b385fa656f1bf</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Readline (7.0) - <token>2,910 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://cnswww.cns.cwru.edu/php/chet/readline/rltop.html"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/readline/readline-7.0.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">205b03a87fc83dab653b628c59b9fc91</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Sed (4.4) - <token>1,182 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/sed"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/sed/sed-4.4.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">e0c583d4c380059abd818cd540fe6938</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Shadow (4.5) - <token>1,627 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://pkg-shadow.alioth.debian.org"/></para>
        <para>Download: <ulink url="https://github.com/shadow-maint/shadow/releases/download/4.5/shadow-4.5.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">c350da50c2120de6bb29177699d89fe3</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Sysvinit (2.88dsf) - <token>104 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://savannah.nongnu.org/projects/sysvinit"/></para>
        <para>Download: <ulink url="http://download.savannah.gnu.org/releases/sysvinit/sysvinit-2.88dsf.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">6eda8a97b86e0a6f59dabbf25202aa6f</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Systemd (233) - <token>4,106 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://freedesktop.org/wiki/Software/systemd"/></para>
        <para>Download: <ulink url="http://www.linuxfromscratch.org/~krejzi/systemd/systemd-233.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">e67d7664714ff5efe5b59cddedbe26a4</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Tar (1.29) - <token>1,996 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/tar"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/tar/tar-1.29.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">a1802fec550baaeecff6c381629653ef</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Tcl (8.6.4) - <token>8,857 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.tcl.tk"/></para>
        <para>Download: <ulink url="http://downloads.sourceforge.net/tcl/tcl-core8.6.4-src.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">8b8c9d85469d8dbe32e51117b8ef11e3</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Texinfo (6.3) - <token>4,468 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.gnu.org/software/texinfo"/></para>
        <para>Download: <ulink url="http://ftp.gnu.org/gnu/texinfo/texinfo-6.3.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">32baefe5c7080dfb512a4eac5ce67b2a</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Time Zone Data (2017b) - <token>324 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.iana.org/time-zones"/></para>
        <para>Download: <ulink url="http://www.iana.org/time-zones/repository/releases/tzdata2017b.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">50dc0dc50c68644c1f70804f2e7a1625</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Util-linux (2.29.2) - <token>4,278 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/utils/util-linux/v2.29/util-linux-2.29.2.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">63c40c2068fcbb7e1d5c1d281115d973</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Vim (8.0) - <token>10,867 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.vim.org"/></para>
        <para>Download: <ulink url="ftp://ftp.vim.org/pub/vim/unix/vim-8.0.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">b35e794140c196ff59b492b56c1e73db</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>XML::Parser  (2.44) - <token>237 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="https://github.com/chorny/XML-Parser"/></para>
        <para>Download: <ulink url="http://search.cpan.org/CPAN/authors/id/T/TO/TODDR/XML-Parser-2.44.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">af4813fe3952362451201ced6fbce379</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>XZ Utils  (5.2.3) - <token>1,032 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://tukaani.org/xz/"/></para>
        <para>Download: <ulink url="http://tukaani.org/xz/xz-5.2.3.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">60fb79cab777e3f71ca43d298adacbd5</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Zlib (1.2.11) - <token>468 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.zlib.net"/></para>
        <para>Download: <ulink url="http://zlib.net/zlib-1.2.11.tar.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">85adef240c5f370b308da8c938951a68</literal></para>

        <note>
          <para>Zlib (1.2.11) may no longer be available at the
          listed location. The site administrators of the master download
          location occasionally remove older versions when new ones are
          released. An alternative download location that may have the
          correct version available is <ulink url="http://clfs.org/files/packages/git/"/>.</para>
        </note>
      </listitem>
    </varlistentry>

  </variablelist>

  <para os="a">Total size of these packages: about <returnvalue/></para>

</sect1>
  <sect1 id="ch-materials-packages-mips64" xml:base="mips64-64/packages.xml">
  <?dbhtml filename="packages-mips64.html"?>

  <title>Additional Packages for MIPS 64 Bit</title>

  <variablelist role="materials" xml:base="../mips/packages.xml">

    <varlistentry os="arcload">
      <term>ARCLoad (0.5) - <token>48 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.linux-mips.org/wiki/ARCLoad"/></para>
        <para>Download: <ulink url="ftp://ftp.linux-mips.org/pub/linux/mips/people/skylark/arcload-0.5.tar.bz2"/></para>
        <para>MD5 sum: <literal moreinfo="none">b00e1c79074a13c2de97748f56f9bd1f</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry os="colo">
      <term>Colo (1.22) - <token>252 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://www.colonel-panic.org/cobalt-mips"/></para>
        <para>Download: <ulink url="http://www.colonel-panic.org/cobalt-mips/colo/colo-1.22.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">52c16ad31f3b88f710f0fdb5abed0457</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry os="dvhtool">
      <term>DVHtool (1.0.1) - <token>56 KB</token>:</term>
      <listitem>
        <para>Home page: <ulink url="http://packages.qa.debian.org/d/dvhtool.html"/></para>
        <para>Download: <ulink url="http://ftp.debian.org/debian/pool/main/d/dvhtool/dvhtool_1.0.1.orig.tar.gz"/></para>
        <para>MD5 sum: <literal moreinfo="none">4448c01e6a015685af90a79fbea8da4e</literal></para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para os="a" xml:base="../common/packages.xml">Total size of these packages: about <returnvalue/></para>

</sect1>
  <sect1 id="ch-materials-patches-common" xml:base="common/patches.xml">
  <?dbhtml filename="patches.html"?>

  <title>Needed Patches</title>

  <para>In addition to the packages, several patches are also required.
  These patches correct any mistakes in the packages that should be
  fixed by the maintainer. The patches also make small modifications to
  make the packages easier to work with. The following patches will be
  needed to build a CLFS system:</para>

  <variablelist role="materials">

    <varlistentry>
      <term>Automake Perl Patch - <token>0.685 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/automake-1.15-perl_5_26-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">99dd9d0a31f4a51fbe77bbc13aa9d783</literal></para>
      </listitem>
    </varlistentry>


    <varlistentry>
      <term>Bash Branch Update Patch - <token>17 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/bash-4.4-branch_update-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">9f59bec94bfd1023d9c6a76b49187420</literal></para>
      </listitem>
    </varlistentry>

<!-- Binutils branch update area
    <varlistentry>
      <term>Binutils Branch Update Patch - <token>&binutils-branch_update-patch-size;</token>:</term>
      <listitem>
        <para>Download: <ulink
        url="&patches-root;&binutils-branch_update-patch;"/></para>
        <para>MD5 sum: <literal>&binutils-branch_update-patch-md5;</literal></para>
      </listitem>
    </varlistentry>
-->
    <varlistentry>
      <term>Coreutils Uname Patch - <token>5.020 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/coreutils-8.27-uname-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">e9bc0459d313f677cebc2095c3b18818</literal></para>
      </listitem>
    </varlistentry>

<!--GCC Branch Update Area
    <varlistentry>
      <term>GCC Branch Update Patch - <token>&gcc-branch_update-patch-size;</token>:</term>
      <listitem>
        <para>Download: <ulink
        url="&patches-root;&gcc-branch_update-patch;"/></para>
        <para>MD5 sum: <literal>&gcc-branch_update-patch-md5;</literal></para>
      </listitem>
    </varlistentry>
-->

    <varlistentry>
      <term>Iana-Etc Protocol and Port Numbers Update - <token>282 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/iana-etc-2.30-numbers_update-20140202-2.patch.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">b0e7051fef0b3ba064209a5f3d23bd2a</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Intool Perl Fix - <token>2.390 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/intltool-0.51.0-perl-5.22-compatibility.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">476b85e0c100eb2c8fbd74825cb4761e</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>IPUtils Fixes Patch - <token>47 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/iputils-s20150815-build-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">113c166a13d33a3ec10e1ec65542bdc3</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Linux Sublevel Patch - <token>465 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://www.kernel.org/pub/linux/kernel/v4.x/patch-4.9.21.xz"/></para>
        <para>MD5 sum: <literal moreinfo="none">59351116e4dfdb9072dd8cccd15e1800</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>MPFR Fixes Patch - <token>5.101 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/mpfr-3.1.5-fixes-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">c9e1bfc93ee8d90226772b628ab77f38</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Ncurses Bash Patch - <token>.743 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/ncurses-6.0-bash_fix-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">e3b6d45ce0f0b87e0df98e5bc0d09415</literal></para>
      </listitem>
    </varlistentry>

<!--Ncurses Branch Update Area
    <varlistentry>
      <term>Ncurses Branch Update Patch - <token>&ncurses-branch_update-patch-size;</token>:</term>
      <listitem>
        <para>Download: <ulink
        url="&patches-root;&ncurses-branch_update-patch;"/></para>
        <para>MD5 sum: <literal>&ncurses-branch_update-patch-md5;</literal></para>
      </listitem>
    </varlistentry>
-->

    <varlistentry>
      <term>Readline Branch Update - <token>3.049 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/readline-7.0-branch_update-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">8b429202ce52362ae927f36a48461c23</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Sysvinit Tools Updates Patch - <token>2.339 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/sysvinit-2.88dsf-tools_updates-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">c3f6981c46868b68bfd58921570ea51f</literal></para>
      </listitem>
    </varlistentry>

<!-- Vim branch update patch area -->
    <varlistentry>
      <term>Vim Branch Update Patch - <token>961 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/vim-8.0-branch_update-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">5a076d526aee80e1d32decf46b5287f9</literal></para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para os="a">Total size of these patches: about <returnvalue/></para>

  <para>In addition to the above required patches, there exist a number of
  optional patches created by the CLFS community. These optional patches
  solve minor problems or enable functionality that is not enabled by
  default. Feel free to peruse the patches database located at
  <ulink url="http://patches.clfs.org/dev/"/> and acquire any additional
  patches to suit the system needs.</para>

</sect1>
  <sect1 id="ch-materials-patches-mips64" xml:base="mips64-64/patches.xml">
  <?dbhtml filename="patches-mips64.html"?>

  <title>Additional Patches for MIPS 64 Bit</title>

  <variablelist role="materials">

    <varlistentry os="colo-relocation-patch" xml:base="../mips/patches.xml">
      <term>Colo Relocation Patch - <token>.749 KB</token>:</term> <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/colo-1.22-relocation_fix-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">e0607ee1071f2f805ffa1ef1c5b1a766</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry os="colo-mips-patch" xml:base="../mips64/patches.xml">
      <term>Colo Make Patch - <token>2.8 KB</token>:</term> <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/colo-1.22-make_fix-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">b89575a0e385b5366b19a6b5f176d49b</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry os="dvhtool-fixes-patch" xml:base="../mips/patches.xml">
      <term>Dvhtool Fixes - <token>6.3 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/dvhtool-1.0.1-fixes-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">a521b380354b6a0c96b2d6308372749d</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry os="gcc-pure64-patch" xml:base="../x86_64-64/patches.xml">
      <term>GCC Pure 64 Patch - <token>9.124 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/gcc-7.1.0-pure64-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">5dd40881cfdc18efecb70a8e024b5fc0</literal></para>
      </listitem>
    </varlistentry>

    <varlistentry os="gcc-specs_pure64-patch" xml:base="../x86_64-64/patches.xml">
      <term>GCC Specs Patch - <token>20 KB</token>:</term>
      <listitem>
        <para>Download: <ulink url="http://patches.clfs.org/dev/gcc-7.1.0-pure64_specs-1.patch"/></para>
        <para>MD5 sum: <literal moreinfo="none">4450a0fa28ec9454df8c229d4c194720</literal></para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para os="a" xml:base="../common/patches.xml">Total size of these patches: about <returnvalue/></para>

</sect1>

</chapter>
    <chapter id="chapter-final-preps" xreflabel="Final Preparations" xml:base="final-preps/mips64-64-chapter.xml">
  <?dbhtml dir="final-preps"?>
  <?dbhtml filename="chapter.html"?>

  <title>Final Preparations</title>
  <sect1 id="ch-final-preps-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>In this chapter, we will perform a few additional tasks to prepare
  for building the cross-compile tools. We will create directories in
  <filename class="directory" moreinfo="none">${CLFS}</filename> for the installation of the
  cross-toolchain and temporary system, add an unprivileged user to reduce risk,
  and create an appropriate build environment for that user.</para>

</sect1>
  <sect1 id="ch-final-preps-creatingtoolsdir" xml:base="common/creatingtoolsdir.xml">
  <?dbhtml filename="creatingtoolsdir.html"?>

  <title>Creating the ${CLFS}/tools Directory</title>

  <para>All programs compiled in <xref linkend="chapter-temp-system"/>
  will be installed under <filename class="directory" moreinfo="none">${CLFS}/tools</filename>
  to keep them separate from the programs compiled in <xref linkend="chapter-building-system"/>. The programs compiled here are
  temporary tools and will not be a part of the final CLFS system. By keeping
  these programs in a separate directory, they can easily be discarded later
  after their use. This also prevents these programs from ending up in the
  host production directories (easy to do by accident in <xref linkend="chapter-temp-system"/>).</para>

  <para>Create the required directory by running the following as
  <systemitem class="username" moreinfo="none">root</systemitem>:</para>

<screen format="linespecific"><userinput moreinfo="none">install -dv ${CLFS}/tools</userinput></screen>

  <para>The next step is to create a <filename class="symlink" moreinfo="none">/tools</filename>
  symlink on the host system. This will point to the newly-created directory
  on the CLFS partition. Run this command as <systemitem class="username" moreinfo="none">root</systemitem> as well:</para>

<screen format="linespecific"><userinput moreinfo="none">ln -sv ${CLFS}/tools /</userinput></screen>

  <note>
    <para>The above command is correct. The <command moreinfo="none">ln</command> command
    has a few syntactic variations, so be sure to check <command moreinfo="none">info
    coreutils ln</command> and <filename moreinfo="none">ln(1)</filename> before reporting
    what you may think is an error.</para>
  </note>

  <para>The created symlink enables the toolchain to be compiled so that
  it always refers to <filename class="directory" moreinfo="none">/tools</filename>,
  meaning that the compiler, assembler, and linker will work. This will
  provide a common place for our temporary tools system.</para>

</sect1>
  <sect1 id="ch-final-preps-creatingcrossdir" xml:base="common/creatingcrossdir.xml">
  <?dbhtml filename="creatingcrossdir.html"?>

  <title>Creating the ${CLFS}/cross-tools Directory</title>

  <para>The cross-binutils and cross-compiler built in
  <xref linkend="chapter-cross-tools"/> will be installed under
  <filename class="directory" moreinfo="none">${CLFS}/cross-tools</filename> to keep them
  separate from the host programs. The programs compiled here are
  cross-tools and will not be a part of the final CLFS system or the
  temp-system. By keeping these programs in a separate directory, they
  can easily be discarded later after their use.</para>

  <para>Create the required directory by running the following as
  <systemitem class="username" moreinfo="none">root</systemitem>:</para>

<screen format="linespecific"><userinput moreinfo="none">install -dv ${CLFS}/cross-tools</userinput></screen>

  <para>The next step is to create a <filename class="symlink" moreinfo="none">/cross-tools</filename> symlink on the host system.
  This will point to the newly-created directory on the CLFS partition.
  Run this command as  <systemitem class="username" moreinfo="none">root</systemitem> as well:</para>

<screen format="linespecific"><userinput moreinfo="none">ln -sv ${CLFS}/cross-tools /</userinput></screen>

</sect1>
  <sect1 id="ch-final-preps-addinguser" xml:base="common/addinguser.xml">
  <?dbhtml filename="addinguser.html"?>

  <title>Adding the CLFS User</title>

  <para>When logged in as user <systemitem class="username" moreinfo="none">root</systemitem>,
  making a single mistake can damage or destroy a system. Therefore, we
  recommend building the packages as an unprivileged user.
  You could use your own user name, but to make it easier to set up a clean
  work environment, create a new user called <systemitem class="username" moreinfo="none">clfs</systemitem> as a member of a new group (also named
  <systemitem class="groupname" moreinfo="none">clfs</systemitem>) and use this user during
  the installation process. As <systemitem class="username" moreinfo="none">root</systemitem>,
  issue the following commands to add the new user:</para>

<screen format="linespecific"><userinput moreinfo="none">groupadd clfs
useradd -s /bin/bash -g clfs -d /home/clfs clfs
mkdir -pv /home/clfs
chown -v clfs:clfs /home/clfs</userinput></screen>

  <variablelist>
    <title>The meaning of the command line options:</title>

    <varlistentry>
      <term><parameter moreinfo="none">-s /bin/bash</parameter></term>
      <listitem>
        <para>This makes <command moreinfo="none">bash</command> the default shell for
        user <systemitem class="username" moreinfo="none">clfs</systemitem>.</para>

        <important>
          <para>The build instructions assume that the <command moreinfo="none">bash</command>
          shell is in use.</para>
        </important>

      </listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter moreinfo="none">-g clfs</parameter></term>
      <listitem>
        <para>This option adds the new user to the
        <systemitem class="groupname" moreinfo="none">clfs</systemitem> group.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter moreinfo="none">-d /home/clfs</parameter></term>
      <listitem>
        <para>This option sets the user's home directory, but does not create
        it. We could have used <option>-m</option> to tell
        <command moreinfo="none">useradd</command> to create the directory as well, but this
        would also copy the contents of the host system's
        <filename class="directory" moreinfo="none">/etc/skel</filename> directory into the new
        user's home. We would prefer to have a clean user environment, so we
        just create an empty directory after adding the user.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter moreinfo="none">clfs</parameter></term>
      <listitem>
        <para>This is the actual name for the created group and user.</para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para>To log in as <systemitem class="username" moreinfo="none">clfs</systemitem> (as
  opposed to switching to user <systemitem class="username" moreinfo="none">clfs</systemitem>
  when logged in as <systemitem class="username" moreinfo="none">root</systemitem>, which
  does not require the <systemitem class="username" moreinfo="none">clfs</systemitem> user
  to have a password), give <systemitem class="username" moreinfo="none">clfs</systemitem>
  a password:</para>

<screen format="linespecific"><userinput moreinfo="none">passwd clfs</userinput></screen>

  <para>As <systemitem class="username" moreinfo="none">root</systemitem>,
  grant <systemitem class="username" moreinfo="none">clfs</systemitem> full access to
  <filename class="directory" moreinfo="none">${CLFS}/cross-tools</filename> and
  <filename class="directory" moreinfo="none">${CLFS}/tools</filename> by making <systemitem class="username" moreinfo="none">clfs</systemitem> the directorys' owner:</para>

<screen format="linespecific"><userinput moreinfo="none">chown -v clfs ${CLFS}/tools
chown -v clfs ${CLFS}/cross-tools</userinput></screen>

  <para>If a separate working directory was created as suggested, run the
  following command as <systemitem class="username" moreinfo="none">root</systemitem> to
  give user <systemitem class="username" moreinfo="none">clfs</systemitem> ownership of this
  directory as well:</para>

<screen format="linespecific"><userinput moreinfo="none">chown -v clfs ${CLFS}/sources</userinput></screen>

  <para>Next, login as user <systemitem class="username" moreinfo="none">clfs</systemitem>.
  This can be done via a virtual console, through a display manager, or
  with the following substitute user command:</para>

<screen format="linespecific"><userinput moreinfo="none">su - clfs</userinput></screen>

  <para>The <quote><parameter moreinfo="none">-</parameter></quote> instructs
  <command moreinfo="none">su</command> to start a login shell as opposed to a non-login
  shell. The difference between these two types of shells can be found
  in detail in <filename moreinfo="none">bash(1)</filename> and <command moreinfo="none">info
  bash</command>.</para>

  <note>
    <para>Until specified otherwise, all commands from this point on
    should be done as the <systemitem class="username" moreinfo="none">clfs</systemitem>
    user.</para>
  </note>

</sect1>
  <sect1 id="ch-final-preps-settingenviron" xml:base="common/settingenviron.xml">
  <?dbhtml filename="settingenvironment.html"?>

  <title>Setting Up the Environment</title>

  <para os="a">Set up a good working environment by creating two new startup
  files for the <command moreinfo="none">bash</command> shell. While logged in as user
  <systemitem class="username" moreinfo="none">clfs</systemitem>, issue the following
  command to create a new <filename moreinfo="none">.bash_profile</filename>:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">cat &gt; ~/.bash_profile &lt;&lt; "EOF"
<literal moreinfo="none">exec env -i HOME=${HOME} TERM=${TERM} PS1='\u:\w\$ ' /bin/bash</literal>
EOF</userinput></screen>

  <para os="c">When logged on as user <systemitem class="username" moreinfo="none">clfs</systemitem>,
  the initial shell is usually a <emphasis>login</emphasis> shell which
  reads the <filename moreinfo="none">/etc/profile</filename> of the host (probably
  containing some settings and environment variables) and then
  <filename moreinfo="none">.bash_profile</filename>. The
  <command moreinfo="none">exec env -i.../bin/bash</command> command in the
  <filename moreinfo="none">.bash_profile</filename> file replaces the running shell with
  a new one with a completely empty environment, except for the
  <envar>HOME</envar>, <envar>TERM</envar>, and <envar>PS1</envar> variables.
  This ensures that no unwanted and potentially hazardous environment
  variables from the host system leak into the build environment. The
  technique used here achieves the goal of ensuring a clean environment.</para>

  <para os="d">The new instance of the shell is a <emphasis>non-login</emphasis>
  shell, which does not read the <filename moreinfo="none">/etc/profile</filename> or
  <filename moreinfo="none">.bash_profile</filename> files, but rather reads the
  <filename moreinfo="none">.bashrc</filename> file instead. Create the
  <filename moreinfo="none">.bashrc</filename> file now:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">cat &gt; ~/.bashrc &lt;&lt; "EOF"
<literal moreinfo="none">set +h
umask 022
CLFS=/mnt/clfs
LC_ALL=POSIX
PATH=/cross-tools/bin:/bin:/usr/bin
export CLFS LC_ALL PATH
unset CFLAGS CXXFLAGS PKG_CONFIG_PATH</literal>
EOF</userinput></screen>

  <para os="f">The <command moreinfo="none">set +h</command> command turns off
  <command moreinfo="none">bash</command>'s hash function. Hashing is ordinarily a useful
  feature—<command moreinfo="none">bash</command> uses a hash table to remember the
  full path of executable files to avoid searching the <envar>PATH</envar>
  time and again to find the same executable. However, the new tools should
  be used as soon as they are installed. By switching off the hash function,
  the shell will always search the <envar>PATH</envar> when a program is to
  be run. As such, the shell will find the newly compiled tools in
  <filename class="directory" moreinfo="none">/cross-tools</filename> as soon as they are
  available without remembering a previous version of the same program in a
  different location.</para>

  <para os="g">Setting the user file-creation mask (umask) to 022 ensures that
  newly created files and directories are only writable by their owner,
  but are readable and executable by anyone (assuming default modes are
  used by the open(2) system call, new files will end up with permission
  mode 644 and directories with mode 755).</para>

  <para os="h">The <envar>CLFS</envar> variable should be set to the
  chosen mount point.</para>

  <para os="i">The <envar>LC_ALL</envar> variable controls the localization
  of certain programs, making their messages follow the conventions of a
  specified country. Setting <envar>LC_ALL</envar> to <quote>POSIX</quote>
  or <quote>C</quote> (the two are equivalent) ensures that everything will
  work as expected in the temporary build environment.</para>

  <para os="j">By putting <filename class="directory" moreinfo="none">/cross-tools/bin</filename>
  at the beginning of the <envar>PATH</envar>, the cross-compiler
  built in <xref linkend="chapter-cross-tools"/> will be picked up by
  the build process for the temp-system packages before anything that
  may be installed on the host. This, combined with turning off
  hashing, helps to ensure that you will be using the cross-compile
  tools to build the temp-system in /tools.</para>

  <para os="k">The <envar>CFLAGS</envar>, <envar>CXXFLAGS</envar> and
  <envar>PKG_CONFIG_PATH</envar> variables should not be set while building the
  temporary system, so we unset them.</para>

  <para os="l">Finally, to have the environment fully prepared for building the
  temporary tools, source the just-created user profile:</para>

<screen os="m" format="linespecific"><userinput moreinfo="none">source ~/.bash_profile</userinput></screen>

</sect1>
  <sect1 id="ch-final-preps-variables" xml:base="mips64-64/variables.xml">
  <?dbhtml filename="variables.html"?>

  <title>Build Variables</title>

  <bridgehead renderas="sect4">Setting Host and Target</bridgehead>

    <para os="a" xml:base="../x86/variables.xml">During the building of the cross-compile tools you will need to
  set a few variables that will be dependent on your particular needs.
  The first variable will be the triplet of the host machine, which will be
  put into the <envar>CLFS_HOST</envar> variable. To account for the
  possibility that the host and target are the same arch, as cross-compiling
  won't work when host and target are the same, part of the triplet needs to
  be changed slightly - in our case, we will change part of the triplet
  to "cross". Set <envar>CLFS_HOST</envar> using the following command:</para>

    <screen os="b" xml:base="../x86/variables.xml" format="linespecific"><userinput moreinfo="none">export CLFS_HOST=$(echo ${MACHTYPE} | sed -e 's/-[^-]*/-cross/')</userinput></screen>

    <para os="c" xml:base="../x86/variables.xml">Now you will need to set the triplet for the target
  architecture. Set the target variable using the following command:</para>

    <para os="aa" xml:base="../mips/variables.xml">For a MIPS Little Endian Machine:</para>

    <screen os="ab" xml:base="../mips64/variables.xml" format="linespecific"><userinput moreinfo="none">export CLFS_TARGET="<replaceable>mips64el-unknown-linux-gnu</replaceable>"</userinput></screen>

    <para os="ac" xml:base="../mips/variables.xml">For a MIPS Big Endian Machine:</para>

    <screen os="ad" xml:base="../mips64/variables.xml" format="linespecific"><userinput moreinfo="none">export CLFS_TARGET="<replaceable>mips64-unknown-linux-gnu</replaceable>"</userinput></screen>

    <para os="g" xml:base="../x86_64/variables.xml">We will need to setup target-specific flags for the compiler
  and linker:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">export BUILD64="-mabi=64"</userinput></screen>

  <bridgehead renderas="sect4">Copy settings to Environment</bridgehead>

    <para os="i" xml:base="../x86_64/variables.xml">Now add the host and target variables, and compiler and linker
  flags, to <filename moreinfo="none">~/.bashrc</filename>, just in case you have to exit and
  restart building later:</para>

    <screen os="j" xml:base="../x86_64-64/variables.xml" format="linespecific"><userinput moreinfo="none">cat &gt;&gt; ~/.bashrc &lt;&lt; EOF
export CLFS_HOST="${CLFS_HOST}"
export CLFS_TARGET="${CLFS_TARGET}"
export BUILD64="${BUILD64}"
EOF</userinput></screen>

</sect1>
  <sect1 id="ch-final-preps-abouttestsuites" xml:base="common/abouttestsuites.xml">
  <?dbhtml filename="abouttestsuites.html"?>

  <title>About the Test Suites</title>

  <para>Most packages provide a test suite, usually a script or
  <command moreinfo="none">make</command> target, which tests the just-compiled programs or
  libraries by executing or linking to them. Test suites are often useful
  for verifying that a package compiled correctly. However, they cannot
  be run while cross-compiling so we will not mention test suite commands
  for any packages until <xref linkend="chapter-building-system"/>.</para>

</sect1>

</chapter>

  </part>

  <part id="part3">
    <?dbhtml filename="part3.html"?>

    <title>Make the Cross-Compile Tools</title>

    <chapter id="chapter-cross-tools" xreflabel="Constructing Cross-Compile Tools" xml:base="cross-tools/mips64-64-chapter.xml">
  <?dbhtml dir="cross-tools"?>
  <?dbhtml filename="chapter.html"?>

  <title>Constructing Cross-Compile Tools</title>

  <sect1 id="ch-cross-tools-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>This chapter shows you how to create cross platform tools.</para>

  <para>If for some reason you have to stop and come back later, remember
  to use the <command moreinfo="none">su - clfs</command> command, and it will setup the
  build environment that you left.</para>

  <sect2>
    <title>Common Notes</title>

    <important>
      <para>Before issuing the build instructions for a package, the package
      should be unpacked, and a <command moreinfo="none">cd</command> into the created
      directory should be performed.</para>
    </important>

    <para>Several of the packages are patched before compilation, but only
    when the patch is needed to circumvent a problem. A patch is often needed
    in both this and the next chapters, but sometimes in only one or the other.
    Therefore, do not be concerned if instructions for a downloaded patch seem
    to be missing. Warning messages about <emphasis>offset</emphasis> or
    <emphasis>fuzz</emphasis> may also be encountered when applying a patch.
    Do not worry about these warnings, as the patch was still successfully
    applied.</para>

    <para>During the compilation of most packages, there will be several
    warnings that scroll by on the screen. These are normal and can safely
    be ignored. These warnings are as they appear—warnings about
    deprecated, but not invalid, use of the C or C++ syntax. C standards
    change fairly often, and some packages still use the older standard.
    This is not a problem, but does prompt the warning.</para>

    <important>
      <para>After installing each package, both in this and the next chapters,
      delete its source and build directories, unless specifically instructed
      otherwise. Deleting the sources prevents mis-configuration
      when the same package is reinstalled later.</para>
    </important>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-file" role="wrap" xml:base="common/file.xml">
  <?dbhtml filename="file.html"?>

  <title>File-5.31</title>

  <indexterm zone="ch-cross-tools-file" significance="normal">
    <primary sortas="a-File">File</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/file.xml">
    <title/>

    <para>The File package contains a utility for determining the type of
    a given file or files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of File</title>

    <para>One method that <command moreinfo="none">file</command> uses for identifying a given
    file is to run <quote>magic tests</quote>, where it compares the file's
    contents to data in <quote>magic files</quote>, which contain information
    about a number of standard file formats. When File is compiled, it will run
    <command moreinfo="none">file -C</command> to combine the information from the
    magic files in its source tree into a single <filename moreinfo="none">magic.mgc</filename>
    file, which it will use after it is installed. When we build File in
    <xref linkend="chapter-temp-system"/>, it will be cross-compiled, so it
    will not be able to run the <command moreinfo="none">file</command> program that it just
    built, which means that we need one that will run on the host system.</para>

    <para>Prepare File for compilation:</para>

<screen format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/cross-tools</userinput></screen>

    <variablelist>
      <title>The meaning of the configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--prefix=/cross-tools</parameter></term>
        <listitem>
          <para>This tells the configure script to prepare to install the
          package in the <filename class="directory" moreinfo="none">/cross-tools</filename>
          directory.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compile the package:</para>

<screen format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para>Install the package:</para>

<screen format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-file" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-linux-headers" role="wrap" xml:base="mips/linux-headers.xml">
  <?dbhtml filename="linux-headers.html"?>

  <title>Linux-4.9.21 Headers</title>

  <indexterm zone="ch-cross-tools-linux-headers" significance="normal">
    <primary sortas="a-Linux Headers">Linux Headers</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/linux-headers.xml">
    <title/>

    <para>The Linux Kernel contains a <command moreinfo="none">make</command> target that
    installs <quote>sanitized</quote> kernel headers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Linux Headers</title>

    <note os="a" xml:base="../../final-system/common/linux-headers.xml">
      <para>For this step you will need to unpack the kernel tarball
      (<filename moreinfo="none">linux-4.9.tar.xz</filename>) and
      <command moreinfo="none">cd</command> into its source
      directory before entering the commands on this page.</para>
    </note>

    <para os="p1" xml:base="../../bootable/x86/kernel.xml">Apply the latest Linux sublevel patch:</para>

    <screen os="p2" xml:base="../../bootable/x86/kernel.xml" format="linespecific"><userinput moreinfo="none">xzcat ../patch-4.9.21.xz | patch -Np1 -i -</userinput></screen>

    <para os="b" xml:base="../../final-system/common/linux-headers.xml">Install the kernel header files:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">make mrproper
make ARCH=mips headers_check
make ARCH=mips INSTALL_HDR_PATH=/tools headers_install</userinput></screen>

    <variablelist os="d">
      <title>The meaning of the make commands:</title>

    <varlistentry os="d1" xml:base="../../final-system/common/linux-headers.xml">
        <term><parameter moreinfo="none">make mrproper</parameter></term>
        <listitem>
          <para>Ensures that the kernel source dir is clean.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="d2">
        <term><parameter moreinfo="none">make ARCH=mips headers_check</parameter></term>
        <listitem>
          <para>Sanitizes the raw kernel headers so that they can be used
          by userspace programs.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="d3">
        <term><parameter moreinfo="none">make ARCH=mips INSTALL_HDR_PATH=/tools headers_install</parameter></term>
        <listitem>
          <para>This will install the kernel headers into
          <filename class="directory" moreinfo="none">/tools/include</filename>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-linux-headers" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-m4" role="wrap" xml:base="common/m4.xml">
  <?dbhtml filename="m4.html"?>

  <title>M4-1.4.18</title>

  <indexterm zone="ch-cross-tools-m4" significance="normal">
    <primary sortas="a-M4">M4</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/m4.xml">
    <title/>

    <para>The M4 package contains a macro processor.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of M4</title>

    <para>M4 is required to build GMP. We will compile and install an
    <command moreinfo="none">m4</command> program into
    <filename class="directory" moreinfo="none">/cross-tools</filename>, so that we have a
    known-good version which can be used to build GMP, both in
    Cross-Tools and the Temporary System.</para>

    <para os="a">Prepare M4 for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/cross-tools</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-m4" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-ncurses" role="wrap" xml:base="common/ncurses.xml">
  <?dbhtml filename="ncurses.html"?>

  <title>Ncurses-6.0</title>

  <indexterm zone="ch-cross-tools-ncurses" significance="normal">
    <primary sortas="a-Ncurses">Ncurses</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/ncurses.xml">
    <title/>

    <para>The Ncurses package contains libraries for terminal-independent
    handling of character screens.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Ncurses</title>

    <para os="e1">When Ncurses is compiled, it executes <command moreinfo="none">tic</command>
    to create a terminfo database in
    <filename class="directory" moreinfo="none">${prefix}/share/terminfo</filename>. If
    possible, the <filename moreinfo="none">Makefile</filename> will use the
    <command moreinfo="none">tic</command> binary that was just compiled in its
    source tree, but this does not work when Ncurses is cross-compiled. To
    allow the Ncurses build in <xref linkend="chapter-temp-system"/> to succeed, we
    will build and install a <command moreinfo="none">tic</command> program that can be run on
    the host system.</para>

<!--Ncurses Branch Update Area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../temp-system/common/ncurses.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../temp-system/common/ncurses.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->

    <para os="a">Prepare Ncurses for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">AWK=gawk ./configure \
    --prefix=/cross-tools \
    --without-debug</userinput></screen>

    <variablelist os="b1">
      <title>The meaning of the new configure options:</title>

      <varlistentry os="b2">
        <term><parameter moreinfo="none">--without-debug</parameter></term>
        <listitem>
          <para>Tells Ncurses to build without debugging information.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c">Only one binary is needed for the Cross-Tools. Build the
    headers and then build <command moreinfo="none">tic</command>:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make -C include
make -C progs tic</userinput></screen>

    <para os="e">Install <command moreinfo="none">tic</command> with the following command:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">install -v -m755 progs/tic /cross-tools/bin</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-ncurses" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-pkg-config-lite" role="wrap" xml:base="common/pkg-config-lite.xml">
  <?dbhtml filename="pkg-config-lite.html"?>

  <title>Pkg-config-lite-0.28-1</title>

  <indexterm zone="ch-cross-tools-pkg-config-lite" significance="normal">
    <primary sortas="a-Pkg-config-lite">Pkg-config-lite</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/pkg-config-lite.xml">
    <title/>

    <para>Pkg-config-lite is a tool to help you insert the correct compiler options
    on the command line when compiling applications and libraries.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Pkg-config-lite</title>

    <para os="a">Several packages in the temporary system will use
    <command moreinfo="none">pkg-config</command> to find various required and optional
    dependencies. Unfortunately, this could result in those packages
    finding libraries on the host system and trying to link against them,
    which will not work. To avoid this problem, we will install
    a <command moreinfo="none">pkg-config</command> binary in
    <filename class="directory" moreinfo="none">/cross-tools</filename> and configure it so
    that it will look for Pkg-config files only in
    <filename class="directory" moreinfo="none">/tools</filename>.</para>

    <para os="b">Prepare Pkg-config-lite for compilation:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/cross-tools \
    --host=${CLFS_TARGET} \
    --with-pc-path=/tools/lib/pkgconfig:/tools/share/pkgconfig</userinput></screen>

    <variablelist os="d">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--host=${CLFS_TARGET}</parameter></term>
        <listitem>
          <para>Several packages that we will cross-compile later will try to
          search for <command moreinfo="none">${CLFS_TARGET}-pkg-config</command>. Setting
          this option ensures that Pkg-config-lite will create a hard
          link in <filename class="directory" moreinfo="none">/cross-tools/bin</filename> with
          this name, so that it will be used instead of any similarly-named
          program that might exist on the host.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-pc-path</parameter></term>
        <listitem>
          <para>This sets the default PKG_CONFIG_PATH to
          <filename class="directory" moreinfo="none">/tools/lib/pkgconfig</filename> and
          <filename class="directory" moreinfo="none">/tools/share/pkgconfig</filename>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="e">Compile the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-pkg-config-lite" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-gmp" role="wrap" xml:base="common/gmp.xml">
  <?dbhtml filename="gmp.html"?>

  <title>GMP-6.1.2</title>

  <indexterm zone="ch-cross-tools-gmp" significance="normal">
    <primary sortas="a-GMP">GMP</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gmp.xml">
    <title/>

    <para>GMP is a library for arithmetic on arbitrary precision integers,
    rational numbers, and floating-point numbers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of GMP</title>

<!--
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gmp.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gmp.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->

    <para>This package and the next two - MPFR and MPC - will be installed
    into <filename class="directory" moreinfo="none">/cross-tools</filename> because GCC
    requires them to build.</para>

    <para os="a">Prepare GMP for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/cross-tools \
    --enable-cxx \
    --disable-static</userinput></screen>

    <variablelist os="b1">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-cxx</parameter></term>
        <listitem>
          <para>This tells GMP to enable C++ support.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-static</parameter></term>
        <listitem>
          <para>This tells the GMP package not to compile or install static
          libraries, which are not needed for the Cross-Tools</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gmp" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-mpfr" role="wrap" xml:base="common/mpfr.xml">
  <?dbhtml filename="mpfr.html"?>

  <title>MPFR-3.1.5</title>

  <indexterm zone="ch-cross-tools-mpfr" significance="normal">
    <primary sortas="a-MPFR">MPFR</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/mpfr.xml">
    <title/>

    <para>The MPFR library is a C library for multiple-precision floating-point
    computations with correct rounding.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of MPFR</title>

    <para os="p1" xml:base="../../final-system/common/mpfr.xml">Apply a patch with upstream fixes:</para>

    <screen os="p2" xml:base="../../final-system/common/mpfr.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../mpfr-3.1.5-fixes-1.patch</userinput></screen>

    <para os="a">Prepare MPFR for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">LDFLAGS="-Wl,-rpath,/cross-tools/lib" \
./configure \
    --prefix=/cross-tools \
    --disable-static \
    --with-gmp=/cross-tools</userinput></screen>

    <variablelist os="b1">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">LDFLAGS="-Wl,-rpath,/cross-tools/lib"</parameter></term>
        <listitem>
          <para>This tells <command moreinfo="none">configure</command> to search in
          <filename class="directory" moreinfo="none">/cross-tools</filename> for libraries.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-gmp=/cross-tools</parameter></term>
        <listitem>
          <para>This tells <command moreinfo="none">configure</command> where to find GMP.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-mpfr" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-mpc" role="wrap" xml:base="common/mpc.xml">
  <?dbhtml filename="mpc.html"?>

  <title>MPC-1.0.3</title>

  <indexterm zone="ch-cross-tools-mpc" significance="normal">
    <primary sortas="a-MPC">MPC</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/mpc.xml">
    <title/>

    <para>MPC is a C library for the arithmetic of complex numbers with
    arbitrarily high precision and correct rounding of the result.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of MPC</title>

    <para os="a">Prepare MPC for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">LDFLAGS="-Wl,-rpath,/cross-tools/lib" \
./configure \
    --prefix=/cross-tools \
    --disable-static \
    --with-gmp=/cross-tools \
    --with-mpfr=/cross-tools</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-mpc" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-isl" role="wrap" xml:base="common/isl.xml">
  <?dbhtml filename="isl.html"?>

  <title>ISL-0.17.1</title>

  <indexterm zone="ch-cross-tools-isl" significance="normal">
    <primary sortas="a-ISL">ISL</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/isl.xml">
    <title/>

    <para>ISL is a library for manipulating sets and relations of integer
    points bounded by linear constraints.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of ISL</title>

    <para>We will install ISL to enable extra functionality for GCC.
    It is not strictly required, but GCC can link to it to enable its
    new loop generation feature called Graphite.</para>

    <para os="a">Prepare ISL for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">LDFLAGS="-Wl,-rpath,/cross-tools/lib" \
./configure \
    --prefix=/cross-tools \
    --disable-static \
    --with-gmp-prefix=/cross-tools</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-isl" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-binutils" role="wrap" xml:base="64/binutils.xml">
  <?dbhtml filename="binutils.html"?>

  <title>Cross Binutils-2.28</title>

  <indexterm zone="ch-cross-tools-binutils" significance="normal">
    <primary sortas="a-Binutils">Binutils</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/binutils.xml">
    <title/>

    <para>The Binutils package contains a linker, an assembler, and other
    tools for handling object files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Cross Binutils</title>

    <para os="da">It is important that Binutils be compiled before Glibc and
    GCC because both Glibc and GCC perform various tests on the available
    linker and assembler to determine which of their own features to
    enable.</para>

<!-- Branch update patch area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/binutils.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/binutils.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->
    <para os="g" xml:base="../../final-system/common/binutils.xml">The Binutils documentation recommends building Binutils outside of the
    source directory in a dedicated build directory:</para>

    <screen os="h" xml:base="../../final-system/common/binutils.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../binutils-build
cd ../binutils-build</userinput></screen>

    <para os="i" xml:base="../../final-system/common/binutils.xml">Prepare Binutils for compilation:</para>

<screen os="bc" format="linespecific"><userinput moreinfo="none">AR=ar AS=as \
../binutils-2.28/configure \
    --prefix=/cross-tools \
    --host=${CLFS_HOST} \
    --target=${CLFS_TARGET} \
    --with-sysroot=${CLFS} \
    --with-lib-path=/tools/lib \
    --disable-nls \
    --disable-static \
    --enable-64-bit-bfd \
    --disable-multilib \
    --enable-gold=yes \
    --enable-plugins \
    --enable-threads \
    --disable-werror</userinput></screen>

    <variablelist os="bd">
      <title>The meaning of the new configure options:</title>

      <varlistentry os="bd1">
        <term><parameter moreinfo="none">AR=ar AS=as</parameter></term>
        <listitem>
          <para>This prevents Binutils from compiling with ${CLFS_HOST}-ar
           and ${CLFS_HOST}-as as they are provided by this package and therefore
           not installed yet.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd2">
        <term><parameter moreinfo="none">--host=${CLFS_HOST}</parameter></term>
        <listitem>
          <para>When used with --target, this creates a cross-architecture
          executable that creates files for ${CLFS_TARGET} but runs on ${CLFS_HOST}.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd3">
        <term><parameter moreinfo="none">--target=${CLFS_TARGET}</parameter></term>
        <listitem>
          <para>When used with --host, this creates a cross-architecture
          executable that creates files for ${CLFS_TARGET} but runs on ${CLFS_HOST}.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd4">
        <term><parameter moreinfo="none">--with-sysroot=${CLFS}</parameter></term>
        <listitem>
          <para>Tells configure to build a linker that uses ${CLFS} as its
          root directory for its search paths.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd5">
        <term><parameter moreinfo="none">--with-lib-path=/tools/lib</parameter></term>
        <listitem>
          <para>This tells the configure script to specify the library
          search path during the compilation of Binutils, resulting in
          <filename class="directory" moreinfo="none">/tools/lib</filename> being passed
          to the linker. This prevents the linker from searching through
          library directories on the host.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd6">
        <term><parameter moreinfo="none">--disable-nls</parameter></term>
        <listitem>
          <para>This disables internationalization as i18n is not needed for the
          cross-compile tools.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd7">
        <term><parameter moreinfo="none">--disable-multilib</parameter></term>
        <listitem>
          <para>This option disables the building of a multilib
          capable Binutils.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd8">
        <term><parameter moreinfo="none">--enable-64-bit-bfd</parameter></term>
        <listitem>
          <para>This adds 64 bit support to Binutils.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd9">
        <term><parameter moreinfo="none">--disable-werror</parameter></term>
        <listitem>
          <para>This prevents the build from stopping in the event that there
          are warnings from the host's compiler.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd10" xml:base="../common/binutils.xml">
        <term><parameter moreinfo="none">--enable-gold=yes</parameter></term>
        <listitem>
          <para>This option enables the building of the gold linker.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd11" xml:base="../common/binutils.xml">
        <term><parameter moreinfo="none">--enable-plugins</parameter></term>
        <listitem>
          <para>This option enables support for plugins.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bd12" xml:base="../common/binutils.xml">
        <term><parameter moreinfo="none">--enable-threads</parameter></term>
        <listitem>
          <para>This option enables multi-threaded linking for the gold linker.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="be">Compile the package:</para>

<screen os="bf" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="bh">Install the package:</para>

<screen os="bi" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-binutils" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-gcc-static" role="wrap" xml:base="mips64-64/gcc-static.xml">
  <?dbhtml filename="gcc-static.html"?>

  <title>Cross GCC-7.1.0 - Static</title>

  <indexterm zone="ch-cross-tools-gcc-static" significance="normal">
    <primary sortas="a-GCC">GCC</primary>
    <secondary>cross tools, static</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gcc.xml">
    <title/>

    <para>The GCC package contains the GNU compiler collection, which includes
    the C and C++ compilers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Cross GCC Compiler with Static libgcc
    and no Threads</title>

    <para os="e" xml:base="../common/gcc-static.xml">Here we will compile GCC, as a cross-compiler that will create
    executables for our target architecture, statically so that it will not
    need to look for Glibc's startfiles, which do not yet exist in
    <filename class="directory" moreinfo="none">/tools</filename>. We will use this
    cross-compiler, plus the cross-linker we have just installed with Binutils,
    to compile Glibc. After Glibc is installed into
    <filename class="directory" moreinfo="none">/tools</filename>, we can rebuild GCC
    so that it will then be able to build executables that link against the
    libraries in <filename class="directory" moreinfo="none">/tools</filename>.</para>

<!--GCC Branch Update Area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gcc.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gcc.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->

    <para os="aa" xml:base="../common/gcc-static.xml">Make a couple of essential adjustments to GCC's specs
    to ensure GCC uses our build environment:</para>

    <screen os="ab" xml:base="../64/gcc-static.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../gcc-7.1.0-pure64_specs-1.patch</userinput></screen>

    <para os="ag" xml:base="../common/gcc-static.xml">Change the StartFile Spec so that GCC looks in
<filename class="directory" moreinfo="none">/tools</filename>:</para>

    <screen os="ah" xml:base="../common/gcc-static.xml" format="linespecific"><userinput moreinfo="none">echo -en '\n#undef STANDARD_STARTFILE_PREFIX_1\n#define STANDARD_STARTFILE_PREFIX_1 "/tools/lib/"\n' &gt;&gt; gcc/config/linux.h
echo -en '\n#undef STANDARD_STARTFILE_PREFIX_2\n#define STANDARD_STARTFILE_PREFIX_2 ""\n' &gt;&gt; gcc/config/linux.h</userinput></screen>

    <para os="t1" xml:base="../common/gcc-static.xml">We will create a dummy <filename moreinfo="none">limits.h</filename> so
    the build will not use the one provided by the host distro:</para>

    <screen os="t2" xml:base="../common/gcc-static.xml" format="linespecific"><userinput moreinfo="none">touch /tools/include/limits.h</userinput></screen>

    <para os="f" xml:base="../../final-system/common/gcc.xml">The GCC documentation recommends building GCC outside of the source
    directory in a dedicated build directory:</para>

    <screen os="g" xml:base="../../final-system/common/gcc.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../gcc-build
cd ../gcc-build</userinput></screen>

    <para os="h" xml:base="../../final-system/common/gcc.xml">Prepare GCC for compilation:</para>

<screen os="al" format="linespecific"><userinput moreinfo="none">AR=ar \
LDFLAGS="-Wl,-rpath,/cross-tools/lib" \
../gcc-7.1.0/configure \
    --prefix=/cross-tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_HOST} \
    --target=${CLFS_TARGET} \
    --with-sysroot=${CLFS} \
    --with-local-prefix=/tools \
    --with-native-system-header-dir=/tools/include \
    --disable-shared \
    --with-mpfr=/cross-tools \
    --with-gmp=/cross-tools \
    --with-isl=/cross-tools \
    --with-mpc=/cross-tools \
    --without-headers \
    --with-newlib \
    --disable-decimal-float \
    --disable-libgomp \
    --disable-libssp \
    --disable-libatomic \
    --disable-libitm \
    --disable-libsanitizer \
    --disable-libquadmath \
    --disable-libvtv \
    --disable-libcilkrts \
    --disable-libcilkrts \
    --disable-threads \
    --disable-multilib \
    --enable-languages=c \
    --with-abi=64 \
    --with-glibc-version=2.25</userinput></screen>

    <variablelist os="am" xml:base="../common/gcc-static.xml">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--build=${CLFS_HOST}</parameter></term>
        <listitem>
          <para>This specifies the system on which the cross-compiler is being
          built.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-local-prefix=/tools</parameter></term>
        <listitem>
          <para>The purpose of this switch is to remove <filename class="directory" moreinfo="none">/usr/local/include</filename> from
          <command moreinfo="none">gcc</command>'s include search path. This is not
          absolutely essential, however, it helps to minimize the
          influence of the host system.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-native-system-headers-dir=/tools/include</parameter></term>
        <listitem>
          <para>This switch ensures that GCC will search for the system headers
           in <filename class="directory" moreinfo="none">/tools/include</filename> and that
           host system headers will not be searched.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-shared</parameter></term>
        <listitem>
          <para>This tells GCC not to create a shared library.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--without-headers</parameter></term>
        <listitem>
          <para>Disables GCC from using the target's Libc when cross compiling.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-newlib</parameter></term>
        <listitem>
          <para>This causes GCC to enable the <envar>inhibit_libc</envar> flag,
          which prevents <filename class="libraryfile" moreinfo="none">libgcc</filename>
          from building code that uses libc support.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-decimal-float</parameter></term>
        <listitem>
          <para>Disables support for the C decimal floating point extension.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-lib*</parameter></term>
        <listitem>
          <para>These options prevent GCC from building a number of libraries
          that are not needed at this time.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-threads</parameter></term>
        <listitem>
          <para>This will prevent GCC from looking for the multi-thread
          include files, since they haven't been created for this architecture
          yet. GCC will be able to find the multi-thread information after
          the Glibc headers are created.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-system-zlib</parameter></term>
        <listitem>
          <para>This tells GCC to link to the system-installed zlib instead
          of the one in its source tree.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-languages=c</parameter></term>
        <listitem>
          <para>This option ensures that only the C compiler is built.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-glibc-version=2.25</parameter></term>
        <listitem>
          <para>Needed when bootstrapping a cross toolchain without the header
          files available for building the initial bootstrap compiler.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="an" xml:base="../common/gcc-static.xml">Continue with compiling the package:</para>

    <screen os="ao" xml:base="../common/gcc-static.xml" format="linespecific"><userinput moreinfo="none">make all-gcc all-target-libgcc</userinput></screen>

    <variablelist os="ap" xml:base="../common/gcc-static.xml">
      <title>The meaning of the new make options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">all-gcc all-target-libgcc</parameter></term>
        <listitem>
          <para>Compiles only the parts of GCC that are needed at this time,
          rather than the full package.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="aq" xml:base="../common/gcc-static.xml">Install the package:</para>

    <screen os="ar" xml:base="../common/gcc-static.xml" format="linespecific"><userinput moreinfo="none">make install-gcc install-target-libgcc</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gcc" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-glibc" role="wrap" xml:base="64/glibc.xml">
  <?dbhtml filename="glibc.html"?>

  <title>Glibc-2.25</title>

  <indexterm zone="ch-cross-tools-glibc" significance="normal">
    <primary sortas="a-Glibc">Glibc</primary>
    <secondary>cross tools</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/glibc.xml">
    <title/>

    <para>The Glibc package contains the main C library. This library provides
    the basic routines for allocating memory, searching directories, opening and
    closing files, reading and writing files, string handling, pattern matching,
    arithmetic, and so on.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Glibc</title>

    <para os="da" xml:base="../common/glibc.xml">It should be noted that compiling Glibc in any way other than
    the method suggested in this book puts the stability of the system at
    risk.</para>

    <para os="e" xml:base="../../final-system/common/glibc.xml">The Glibc documentation recommends building Glibc outside of     the source directory in a dedicated build directory:</para>

    <screen os="f" xml:base="../../final-system/common/glibc.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../glibc-build
cd ../glibc-build</userinput></screen>

    <para os="g" xml:base="../../final-system/common/glibc.xml">Prepare Glibc for compilation:</para>

<screen os="df" format="linespecific"><userinput moreinfo="none">BUILD_CC="gcc" \
CC="${CLFS_TARGET}-gcc ${BUILD64}" \
AR="${CLFS_TARGET}-ar" \
RANLIB="${CLFS_TARGET}-ranlib" \
../glibc-2.25/configure \
    --prefix=/tools \
    --host=${CLFS_TARGET} \
    --build=${CLFS_HOST} \
    --enable-kernel=3.12.0 \
    --with-binutils=/cross-tools/bin \
    --with-headers=/tools/include \
    --enable-obsolete-rpc</userinput></screen>

    <variablelist os="dg">
      <title>The meaning of the new configure options:</title>

      <varlistentry os="dg1" xml:base="../common/glibc.xml">
        <term><parameter moreinfo="none">BUILD_CC="gcc"</parameter></term>
        <listitem>
          <para>This sets Glibc to use the current compiler on our system. This is
          used to create the tools Glibc uses during its build.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="fa1" xml:base="../multilib/glibc-64bit.xml">
        <term><parameter moreinfo="none">CC="${CLFS_TARGET}-gcc ${BUILD64}"</parameter></term>
        <listitem>
          <para>Forces Glibc to build using our target architecture GCC
          utilizing the 64 Bit flags.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="dg3" xml:base="../common/glibc.xml">
        <term><parameter moreinfo="none">AR="${CLFS_TARGET}-ar"</parameter></term>
        <listitem>
          <para>This forces Glibc to use the <command moreinfo="none">ar</command> utility
          we made for our target architecture.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="dg4" xml:base="../common/glibc.xml">
        <term><parameter moreinfo="none">RANLIB="${CLFS_TARGET}-ranlib"</parameter></term>
        <listitem>
          <para>This forces Glibc to use the <command moreinfo="none">ranlib</command> utility
          we made for our target architecture.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="dg5" xml:base="../common/glibc.xml">
        <term><parameter moreinfo="none">--enable-kernel=3.12.0</parameter></term>
        <listitem>
          <para>This tells Glibc to compile the library with support
          for 3.12.0 and later Linux kernels.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="dg6" xml:base="../common/glibc.xml">
        <term><parameter moreinfo="none">--with-binutils=/cross-tools/bin</parameter></term>
        <listitem>
          <para>This tells Glibc to use the Binutils that are specific to
          our target architecture.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="dg7" xml:base="../common/glibc.xml">
        <term><parameter moreinfo="none">--with-headers=/tools/include</parameter></term>
        <listitem>
          <para>This tells Glibc to compile itself against the headers
          recently installed to the <filename class="directory" moreinfo="none">/tools</filename>
          directory, so that it knows exactly what features the kernel has
          and can optimize itself accordingly.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="dg8" xml:base="../common/glibc.xml">
        <term><parameter moreinfo="none">--enable-obsolete-rpc</parameter></term>
        <listitem>
          <para>This tells Glibc to install rpc headers that are not installed
          by default but may be needed by other packages.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="dh" xml:base="../common/glibc.xml">During this stage the following warning might appear:</para>

    <blockquote os="di" xml:base="../common/glibc.xml"><screen format="linespecific"><computeroutput moreinfo="none">configure: WARNING:
*** These auxiliary programs are missing or
*** incompatible versions: msgfmt
*** some features will be disabled.
*** Check the INSTALL file for required versions.</computeroutput></screen></blockquote>

    <para os="dj" xml:base="../common/glibc.xml">The missing or incompatible <command moreinfo="none">msgfmt</command> program is
    generally harmless. This <command moreinfo="none">msgfmt</command> program is part of the
    Gettext package which the host distribution should provide. You might also
    see a similar (also harmless) message about missing
    <command moreinfo="none">autoconf</command>.</para>

    <para os="dk" xml:base="../common/glibc.xml">Compile the package:</para>

    <screen os="dl" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="dm" xml:base="../common/glibc.xml">Install the package:</para>

    <screen os="dn" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-glibc" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-cross-tools-gcc-final" role="wrap" xml:base="mips64-64/gcc-final.xml">
  <?dbhtml filename="gcc-final.html"?>

  <title>Cross GCC-7.1.0 - Final</title>

  <indexterm zone="ch-cross-tools-gcc-final" significance="normal">
    <primary sortas="a-GCC">GCC</primary>
    <secondary>cross tools, final</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gcc.xml">
    <title/>

    <para>The GCC package contains the GNU compiler collection, which includes
    the C and C++ compilers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of GCC Cross Compiler</title>

<!--GCC Branch Update Area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gcc.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gcc.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->

    <para os="aa" xml:base="../common/gcc-static.xml">Make a couple of essential adjustments to GCC's specs
    to ensure GCC uses our build environment:</para>

    <screen os="ab" xml:base="../64/gcc-static.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../gcc-7.1.0-pure64_specs-1.patch</userinput></screen>

    <para os="ag" xml:base="../common/gcc-static.xml">Change the StartFile Spec so that GCC looks in
<filename class="directory" moreinfo="none">/tools</filename>:</para>

    <screen os="ah" xml:base="../common/gcc-static.xml" format="linespecific"><userinput moreinfo="none">echo -en '\n#undef STANDARD_STARTFILE_PREFIX_1\n#define STANDARD_STARTFILE_PREFIX_1 "/tools/lib/"\n' &gt;&gt; gcc/config/linux.h
echo -en '\n#undef STANDARD_STARTFILE_PREFIX_2\n#define STANDARD_STARTFILE_PREFIX_2 ""\n' &gt;&gt; gcc/config/linux.h</userinput></screen>

    <para os="f" xml:base="../../final-system/common/gcc.xml">The GCC documentation recommends building GCC outside of the source
    directory in a dedicated build directory:</para>

    <screen os="g" xml:base="../../final-system/common/gcc.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../gcc-build
cd ../gcc-build</userinput></screen>

    <para os="h" xml:base="../../final-system/common/gcc.xml">Prepare GCC for compilation:</para>

<screen os="bf" format="linespecific"><userinput moreinfo="none">AR=ar \
LDFLAGS="-Wl,-rpath,/cross-tools/lib" \
../gcc-7.1.0/configure \
    --prefix=/cross-tools \
    --build=${CLFS_HOST} \
    --target=${CLFS_TARGET} \
    --host=${CLFS_HOST} \
    --with-sysroot=${CLFS} \
    --with-local-prefix=/tools \
    --with-native-system-header-dir=/tools/include \
    --disable-static \
    --enable-languages=c,c++ \
    --disable-multilib \
    --with-mpc=/cross-tools \
    --with-mpfr=/cross-tools \
    --with-gmp=/cross-tools \
    --with-isl=/cross-tools \
    --with-abi=64</userinput></screen>

    <variablelist os="bg">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--with-abi=64</parameter></term>
        <listitem>
          <para>For MIPS64, GCC defaults to building for the N32 ABI. This
          option changes the default to 64 bits.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="bg1" xml:base="../common/gcc-final.xml">
        <term><parameter moreinfo="none">--enable-languages=c,c++</parameter></term>
        <listitem>
          <para>This option ensures that only the C and C++ compilers are built.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="bh" xml:base="../common/gcc-final.xml">Continue with compiling the package:</para>

    <screen os="bi" xml:base="../common/gcc-final.xml" format="linespecific"><userinput moreinfo="none">make AS_FOR_TARGET="${CLFS_TARGET}-as" \
    LD_FOR_TARGET="${CLFS_TARGET}-ld"</userinput></screen>

    <para os="bj" xml:base="../common/gcc-final.xml">Install the package:</para>

    <screen os="bk" xml:base="../common/gcc-final.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gcc" role="."/></para>

  </sect2>

</sect1>

</chapter>

  </part>

  <part id="part4">
    <?dbhtml filename="part4.html"?>

    <title>Building the Basic Tools</title>

    <chapter id="chapter-temp-system" xreflabel="Constructing a Temporary System" xml:base="temp-system/mips64-64-chapter.xml">
  <?dbhtml dir="temp-system"?>
  <?dbhtml filename="chapter.html"?>

  <title>Constructing a Temporary System</title>

  <sect1 id="ch-temp-system-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>This chapter shows how to compile and install a minimal Linux
  system. This system will contain just enough tools to start
  constructing the final CLFS system in <xref linkend="chapter-building-system"/> and allow a working environment
  with more user convenience than a minimum environment would.</para>

  <para>The tools in this chapter are cross-compiled using the toolchain in
  <filename class="directory" moreinfo="none">/cross-tools</filename> and will be installed under the
  <filename class="directory" moreinfo="none">${CLFS}/tools</filename> directory to keep
  them separate from the files installed in <xref linkend="chapter-building-system"/> and the host production directories.
  Since the packages compiled here are temporary, we do not want them to
  pollute the soon-to-be CLFS system.</para>

  <para>Check one last time that the <envar>CLFS</envar> environment
  variable is set up properly:</para>

<screen format="linespecific"><userinput moreinfo="none">echo ${CLFS}</userinput></screen>

  <para>Make sure the output shows the path to the CLFS partition's mount
  point, which is <filename class="directory" moreinfo="none">/mnt/clfs</filename>, using
  our example.</para>

  <para>During this section of the build you will see several WARNING
  messages like the ones below. It is safe to ignore these messages.</para>

<screen format="linespecific"><computeroutput moreinfo="none">configure: WARNING: result yes guessed because of cross compilation
configure: WARNING: cannot check WCONTINUED if cross compiling -- defaulting to no</computeroutput></screen>


</sect1>
  <sect1 id="ch-temp-system-variables" xml:base="64/variables.xml">
  <?dbhtml filename="variables.html"?>

  <title>Build Variables</title>

  <para>Setup target-specific variables for the compiler
  and linkers:</para>

<screen format="linespecific"><userinput moreinfo="none">export CC="${CLFS_TARGET}-gcc ${BUILD64}"
export CXX="${CLFS_TARGET}-g++ ${BUILD64}"
export AR="${CLFS_TARGET}-ar"
export AS="${CLFS_TARGET}-as"
export RANLIB="${CLFS_TARGET}-ranlib"
export LD="${CLFS_TARGET}-ld"
export STRIP="${CLFS_TARGET}-strip"</userinput></screen>

    <variablelist os="ca">
      <title>The meaning of the new configure options:</title>

      <varlistentry os="dd1">
        <term><parameter moreinfo="none">CXX="${CXX} ${BUILD64}"</parameter></term>
        <listitem>
          <para>This forces the C++ compiler to use our 64 Bit flags.</para>
        </listitem>
      </varlistentry>

    </variablelist>

  <para>Then add the build variables to <filename moreinfo="none">~/.bashrc</filename> to
  prevent issues if you stop and come back later:</para>

<screen format="linespecific"><userinput moreinfo="none">echo export CC=\""${CC}\"" &gt;&gt; ~/.bashrc
echo export CXX=\""${CXX}\"" &gt;&gt; ~/.bashrc
echo export AR=\""${AR}\"" &gt;&gt; ~/.bashrc
echo export AS=\""${AS}\"" &gt;&gt; ~/.bashrc
echo export RANLIB=\""${RANLIB}\"" &gt;&gt; ~/.bashrc
echo export LD=\""${LD}\"" &gt;&gt; ~/.bashrc
echo export STRIP=\""${STRIP}\"" &gt;&gt; ~/.bashrc</userinput></screen>

</sect1>
  <sect1 id="ch-temp-system-gmp" role="wrap" xml:base="common/gmp.xml">
  <?dbhtml filename="gmp.html"?>

  <title>GMP-6.1.2</title>

  <indexterm zone="ch-temp-system-gmp" significance="normal">
    <primary sortas="a-GMP">GMP</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gmp.xml">
    <title/>

    <para>GMP is a library for arithmetic on arbitrary precision integers,
    rational numbers, and floating-point numbers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of GMP</title>

<!--
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gmp.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gmp.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->

    <para os="a">As with the Cross-Tools, we will compile GMP, MPFR, MPC, and
    ISL so that GCC can use them, though this time we will
    cross-compile them into <filename class="directory" moreinfo="none">/tools</filename>.</para>

    <para os="b">Prepare GMP for compilation:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">CC_FOR_BUILD=gcc \
./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --enable-cxx</userinput></screen>

    <variablelist os="ca">
      <title>The meaning of the new configure option:</title>

      <varlistentry os="ca1">
        <term><parameter moreinfo="none">CC_FOR_BUILD=gcc</parameter></term>
        <listitem>
          <para>Tells <command moreinfo="none">configure</command> to use the host's
          <command moreinfo="none">gcc</command> instead of our cross-compiler to build
          native tools it needs while compiling.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gmp" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-mpfr" role="wrap" xml:base="common/mpfr.xml">
  <?dbhtml filename="mpfr.html"?>

  <title>MPFR-3.1.5</title>

  <indexterm zone="ch-temp-system-mpfr" significance="normal">
    <primary sortas="a-MPFR">MPFR</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/mpfr.xml">
    <title/>

    <para>The MPFR library is a C library for multiple-precision floating-point
    computations with correct rounding.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of MPFR</title>

    <para os="p1" xml:base="../../final-system/common/mpfr.xml">Apply a patch with upstream fixes:</para>

    <screen os="p2" xml:base="../../final-system/common/mpfr.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../mpfr-3.1.5-fixes-1.patch</userinput></screen>

    <para os="a">Prepare MPFR for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-mpfr" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-mpc" role="wrap" xml:base="common/mpc.xml">
  <?dbhtml filename="mpc.html"?>

  <title>MPC-1.0.3</title>

  <indexterm zone="ch-temp-system-mpc" significance="normal">
    <primary sortas="a-MPC">MPC</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/mpc.xml">
    <title/>

    <para>MPC is a C library for the arithmetic of complex numbers with
    arbitrarily high precision and correct rounding of the result.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of MPC</title>

    <para os="a">Prepare MPC for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-mpc" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-isl" role="wrap" xml:base="common/isl.xml">
  <?dbhtml filename="isl.html"?>

  <title>ISL-0.17.1</title>

  <indexterm zone="ch-temp-system-isl" significance="normal">
    <primary sortas="a-ISL">ISL</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/isl.xml">
    <title/>

    <para>ISL is a library for manipulating sets and relations of integer
    points bounded by linear constraints.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of ISL</title>

    <para os="a">Prepare ISL for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-isl" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-zlib" role="wrap" xml:base="common/zlib.xml">
  <?dbhtml filename="zlib.html"?>

  <title>Zlib-1.2.11</title>

  <indexterm zone="ch-temp-system-zlib" significance="normal">
    <primary sortas="a-Zlib">Zlib</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/zlib.xml">
    <title/>

    <para>The Zlib package contains compression and decompression routines
    used by some programs.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Zlib</title>

    <para os="h">Several packages in the temporary system use Zlib,
    including Binutils, GCC, and Util-linux, so we will add it to
    <filename class="directory" moreinfo="none">/tools</filename>.</para>

    <para os="a" xml:base="../../final-system/common/zlib.xml">Prepare Zlib for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools</userinput></screen>

    <para os="c" xml:base="../../final-system/common/zlib.xml">Compile the package:</para>

    <screen os="d" xml:base="../../final-system/common/zlib.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f" xml:base="../../final-system/common/zlib.xml">Install the package:</para>

    <screen os="g" xml:base="../../final-system/common/zlib.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-zlib" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-binutils" role="wrap" xml:base="64/binutils.xml">
  <?dbhtml filename="binutils.html"?>

  <title>Binutils-2.28</title>

  <indexterm zone="ch-temp-system-binutils" significance="normal">
    <primary sortas="a-Binutils">Binutils</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/binutils.xml">
    <title/>

    <para>The Binutils package contains a linker, an assembler, and other
    tools for handling object files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Binutils</title>

<!-- Branch update patch area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/binutils.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/binutils.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->
    <para os="g" xml:base="../../final-system/common/binutils.xml">The Binutils documentation recommends building Binutils outside of the
    source directory in a dedicated build directory:</para>

    <screen os="h" xml:base="../../final-system/common/binutils.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../binutils-build
cd ../binutils-build</userinput></screen>

    <para os="i" xml:base="../../final-system/common/binutils.xml">Prepare Binutils for compilation:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">../binutils-2.28/configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --target=${CLFS_TARGET} \
    --with-lib-path=/tools/lib \
    --disable-nls \
    --enable-shared \
    --enable-64-bit-bfd \
    --disable-multilib \
    --enable-gold=yes \
    --enable-plugins \
    --with-system-zlib \
    --enable-threads</userinput></screen>

    <variablelist os="k" xml:base="../common/binutils.xml">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-shared</parameter></term>
        <listitem>
          <para>When this is specified, Binutils will create a shared
          <filename class="libraryfile" moreinfo="none">libbfd</filename> and link its programs
          to it.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="be" xml:base="../../cross-tools/common/binutils.xml">Compile the package:</para>

    <screen os="bf" xml:base="../../cross-tools/common/binutils.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="bh" xml:base="../../cross-tools/common/binutils.xml">Install the package:</para>

    <screen os="bi" xml:base="../../cross-tools/common/binutils.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-binutils" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-gcc" role="wrap" xml:base="mips64-64/gcc.xml">
  <?dbhtml filename="gcc.html"?>

  <title>GCC-7.1.0</title>

  <indexterm zone="ch-temp-system-gcc" significance="normal">
    <primary sortas="a-GCC">GCC</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gcc.xml">
    <title/>

    <para>The GCC package contains the GNU compiler collection, which includes
    the C and C++ compilers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of GCC</title>

<!--GCC Branch Update Area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gcc.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/gcc.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->

    <para os="aa" xml:base="../../cross-tools/common/gcc-static.xml">Make a couple of essential adjustments to GCC's specs
    to ensure GCC uses our build environment:</para>

    <screen os="ab" xml:base="../../cross-tools/64/gcc-static.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../gcc-7.1.0-pure64_specs-1.patch</userinput></screen>

    <para os="ag" xml:base="../../cross-tools/common/gcc-static.xml">Change the StartFile Spec so that GCC looks in
<filename class="directory" moreinfo="none">/tools</filename>:</para>

    <screen os="ah" xml:base="../../cross-tools/common/gcc-static.xml" format="linespecific"><userinput moreinfo="none">echo -en '\n#undef STANDARD_STARTFILE_PREFIX_1\n#define STANDARD_STARTFILE_PREFIX_1 "/tools/lib/"\n' &gt;&gt; gcc/config/linux.h
echo -en '\n#undef STANDARD_STARTFILE_PREFIX_2\n#define STANDARD_STARTFILE_PREFIX_2 ""\n' &gt;&gt; gcc/config/linux.h</userinput></screen>

    <para os="fix1" xml:base="../../final-system/common/gcc.xml">Apply a <command moreinfo="none">sed</command> substitution that will
    suppress the execution of the <command moreinfo="none">fixincludes</command> script:</para>

    <screen os="fix2" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">cp -v gcc/Makefile.in{,.orig}
sed 's@\./fixinc\.sh@-c true@' gcc/Makefile.in.orig &gt; gcc/Makefile.in</userinput></screen>

    <para os="f" xml:base="../../final-system/common/gcc.xml">The GCC documentation recommends building GCC outside of the source
    directory in a dedicated build directory:</para>

    <screen os="g" xml:base="../../final-system/common/gcc.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../gcc-build
cd ../gcc-build</userinput></screen>

    <para os="cj" xml:base="../common/gcc.xml">Before starting to build GCC, remember to unset any environment
    variables that override the default optimization flags.</para>

    <para os="h" xml:base="../../final-system/common/gcc.xml">Prepare GCC for compilation:</para>

<screen os="ck" format="linespecific"><userinput moreinfo="none">../gcc-7.1.0/configure \
    --prefix=/tools \
    --disable-multilib \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --target=${CLFS_TARGET} \
    --with-local-prefix=/tools \
    --enable-languages=c,c++ \
    --with-system-zlib \
    --with-native-system-header-dir=/tools/include \
    --enable-install-libiberty</userinput></screen>

    <variablelist os="cl" xml:base="../common/gcc.xml">
      <title>The meaning of the new configure option:</title>

      <varlistentry os="cl1">
        <term><parameter moreinfo="none">--enable-install-libiberty</parameter></term>
        <listitem>
          <para>Allows GCC to build and install
          <filename class="libraryfile" moreinfo="none">libiberty.a</filename>
          and its associated headers. This library is needed for some packages
          to compile.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="cm" xml:base="../common/gcc.xml">Compile the package:</para>

    <screen os="cn" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">make AS_FOR_TARGET="${AS}" \
    LD_FOR_TARGET="${LD}"</userinput></screen>

    <para os="co" xml:base="../common/gcc.xml">Install the package:</para>

    <screen os="cp" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gcc" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-ncurses" role="wrap" xml:base="common/ncurses.xml">
  <?dbhtml filename="ncurses.html"?>

  <title>Ncurses-6.0</title>

  <indexterm zone="ch-temp-system-ncurses" significance="normal">
    <primary sortas="a-Ncurses">Ncurses</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/ncurses.xml">
    <title/>

    <para>The Ncurses package contains libraries for terminal-independent
    handling of character screens.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Ncurses</title>

    <para os="h">We will need Ncurses for several other packages in the
    temporary environment, including Bash, Util-linux, and Vim.</para>

<!--Ncurses Branch Update Area
    <para os="p1">The following patch fixes an issue with some Bash versions:</para>

<screen os="p2"><userinput>patch -Np1 -i ../&ncurses-bashfix-patch;</userinput></screen>
-->

    <para os="a" xml:base="../../final-system/common/ncurses.xml">Prepare Ncurses for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --with-shared \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --without-debug \
    --without-ada \
    --enable-overwrite \
    --with-build-cc=gcc</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--with-shared</parameter></term>
        <listitem>
          <para>This tells Ncurses to create a shared library.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--without-ada</parameter></term>
        <listitem>
          <para>This ensures that Ncurses does not build support for the
          Ada compiler which may be present on the host but will not be
          available when building the final system.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-overwrite</parameter></term>
        <listitem>
          <para>This tells Ncurses to install its header files into
          <filename class="directory" moreinfo="none">/tools/include</filename>, instead of
          <filename class="directory" moreinfo="none">/tools/include/ncurses</filename>, to
          ensure that other packages can find the Ncurses headers
          successfully.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-build-cc=gcc</parameter></term>
        <listitem>
          <para>This tells Ncurses which compiler to use to build native tools
          when cross-compiling.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c" xml:base="../../final-system/common/ncurses.xml">Compile the package:</para>

    <screen os="d" xml:base="../../final-system/common/ncurses.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f" xml:base="../../final-system/common/ncurses.xml">Install the package:</para>

    <screen os="g" xml:base="../../final-system/common/ncurses.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-ncurses" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-bash" role="wrap" xml:base="common/bash.xml">
  <?dbhtml filename="bash.html"?>

  <title>Bash-4.4</title>

  <indexterm zone="ch-temp-system-bash" significance="normal">
    <primary sortas="a-Bash">Bash</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/bash.xml">
    <title/>

    <para>The Bash package contains the Bourne-Again SHell.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Bash</title>

    <para os="p1" xml:base="../../final-system/common/bash.xml">The following patch contains updates from the maintainer. The
    maintainer of Bash only releases these patches to fix serious issues:</para>

    <screen os="p2" xml:base="../../final-system/common/bash.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../bash-4.4-branch_update-1.patch</userinput></screen>

    <para os="t1">When Bash is cross-compiled, it cannot test for the presence
    of named pipes, among other things. If you used <command moreinfo="none">su</command> to
    become an unprivileged user, this combination will cause Bash to build
    without <emphasis>process substitution</emphasis>, which will break one
    of the C++ test scripts in <literal moreinfo="none">glibc</literal>. The following prevents
    future problems by skipping the check for named pipes, as well as other
    tests that can not run while cross-compiling or that do not run properly:</para>

<screen os="t2" format="linespecific"><userinput moreinfo="none">cat &gt; config.cache &lt;&lt; "EOF"
ac_cv_func_mmap_fixed_mapped=yes
ac_cv_func_strcoll_works=yes
ac_cv_func_working_mktime=yes
bash_cv_func_sigsetjmp=present
bash_cv_getcwd_malloc=yes
bash_cv_job_control_missing=present
bash_cv_printf_a_format=yes
bash_cv_sys_named_pipes=present
bash_cv_ulimit_maxfds=yes
bash_cv_under_sys_siglist=yes
bash_cv_unusable_rtsigs=no
gt_cv_int_divbyzero_sigfpe=yes
EOF</userinput></screen>

    <para os="a" xml:base="../../final-system/common/bash.xml">Prepare Bash for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --without-bash-malloc \
    --cache-file=config.cache</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--without-bash-malloc</parameter></term>
        <listitem>
          <para>This option turns off the use of Bash's memory allocation
          (malloc) function which is known to cause segmentation faults.
          By turning this option off, Bash will use the malloc functions
          from Glibc which are more stable.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d" xml:base="../../final-system/common/bash.xml">Compile the package:</para>

    <screen os="e" xml:base="../../final-system/common/bash.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g" xml:base="../../final-system/common/bash.xml">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-bash" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-bzip2" role="wrap" xml:base="common/bzip2.xml">
  <?dbhtml filename="bzip2.html"?>

  <title>Bzip2-1.0.6</title>

  <indexterm zone="ch-temp-system-bzip2" significance="normal">
    <primary sortas="a-Bzip2">Bzip2</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/bzip2.xml">
    <title/>

    <para>The Bzip2 package contains programs for compressing and
    decompressing files. Compressing text files with <command moreinfo="none">bzip2</command>
    yields a much better compression percentage than with the traditional
    <command moreinfo="none">gzip</command>.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Bzip2</title>

    <para os="ca">Bzip2's default <filename moreinfo="none">Makefile</filename> target
    automatically runs the test suite as well. Disable the tests since they
    won't work on a multi-architecture build:</para>

<screen os="cb" format="linespecific"><userinput moreinfo="none">cp -v Makefile{,.orig}
sed -e '/^all/s/ test$//' Makefile.orig &gt; Makefile</userinput></screen>

    <para os="a" xml:base="../../final-system/common/bzip2.xml">The Bzip2 package does not contain a <command moreinfo="none">configure</command>
    script. Compile it with:</para>

<screen os="cc" format="linespecific"><userinput moreinfo="none">make CC="${CC}" AR="${AR}" RANLIB="${RANLIB}"</userinput></screen>

    <para os="cd">Install the package:</para>

<screen os="ce" format="linespecific"><userinput moreinfo="none">make PREFIX=/tools install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-bzip2" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-check" role="wrap" xml:base="common/check.xml">
  <?dbhtml filename="check.html"?>

  <title>Check-0.11.0</title>

  <indexterm zone="ch-temp-system-check" significance="normal">
    <primary sortas="a-Check">Check</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Check package is a unit testing framework for C.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Check</title>

    <para os="a">We will install Check into
    <filename class="directory" moreinfo="none">/tools</filename> to satisfy a dependency
    on it for Kbd and Libpipeline in the final system.</para>

    <para os="c">Prepare Check for compilation:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="f">Build the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="i">Install the package:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-check" role="content">
    <title>Contents of Check</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>
      <segtitle>Installed library</segtitle>

      <seglistitem>
        <seg>checkmk</seg>
        <seg>libcheck.{a,so}</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="checkmk">
        <term><command moreinfo="none">checkmk</command></term>
        <listitem>
          <para>Awk script for generating C unit tests for use with the C the
          Check unit testing framework</para>
          <indexterm zone="ch-temp-system-check checkmk" significance="normal">
            <primary sortas="b-check">checkmk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcheck">
        <term><filename class="libraryfile" moreinfo="none">libcheck.{a,so}</filename></term>
        <listitem>
          <para>Contains functions that allow Check to be called from a test
          program</para>
          <indexterm zone="ch-temp-system-check libcheck" significance="normal">
            <primary sortas="c-libcheck">libcheck.{a,so}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-coreutils" role="wrap" xml:base="common/coreutils.xml">
  <?dbhtml filename="coreutils.html"?>

  <title>Coreutils-8.27</title>

  <indexterm zone="ch-temp-system-coreutils" significance="normal">
    <primary sortas="a-Coreutils">Coreutils</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/coreutils.xml">
    <title/>

    <para>The Coreutils package contains utilities for showing and setting the
    basic system characteristics.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Coreutils</title>

    <para os="bd">Prepare Coreutils for compilation:</para>

<screen os="be" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --enable-install-program=hostname \
    --cache-file=config.cache</userinput></screen>

    <variablelist os="be1">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-install-program=hostname</parameter></term>
        <listitem>
          <para>Tells Coreutils to install <command moreinfo="none">hostname</command>,
          which is needed for the Perl test suite.</para>
        </listitem>
      </varlistentry>

    </variablelist>

   <para os="s1">Adjust the Makefile so man pages aren't generated:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i -e 's/^man1_MANS/#man1_MANS/' Makefile</userinput></screen>

   <para os="bf">Compile the package:</para>

<screen os="bg" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="bh">Install the package:</para>

<screen os="bi" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-coreutils" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-diffutils" role="wrap" xml:base="common/diffutils.xml">
  <?dbhtml filename="diffutils.html"?>

  <title>Diffutils-3.6</title>

  <indexterm zone="ch-temp-system-diffutils" significance="normal">
    <primary sortas="a-Diffutils">Diffutils</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/diffutils.xml">
    <title/>

    <para>The Diffutils package contains programs that show the differences
    between files or directories.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Diffutils</title>

    <para os="a">Prepare Diffutils for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-diffutils" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-file" role="wrap" xml:base="common/file.xml">
  <?dbhtml filename="file.html"?>

  <title>File-5.31</title>

  <indexterm zone="ch-temp-system-file" significance="normal">
    <primary sortas="a-File">File</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/file.xml">
    <title/>

    <para>The File package contains a utility for determining the type of
    a given file or files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of File</title>

    <para os="a">Prepare File for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-file" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-findutils" role="wrap" xml:base="common/findutils.xml">
  <?dbhtml filename="findutils.html"?>

  <title>Findutils-4.6.0</title>

  <indexterm zone="ch-temp-system-findutils" significance="normal">
    <primary sortas="a-Findutils">Findutils</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/findutils.xml">
    <title/>

    <para>The Findutils package contains programs to find files. These programs
    are provided to recursively search through a directory tree and to
    create, maintain, and search a database (often faster than the recursive
    find, but unreliable if the database has not been recently updated).</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Findutils</title>

    <para os="t1">The following cache entries set the values for tests that do
    not run while cross-compiling:</para>

<screen os="t2" format="linespecific"><userinput moreinfo="none">echo "gl_cv_func_wcwidth_works=yes" &gt; config.cache
echo "ac_cv_func_fnmatch_gnu=yes" &gt;&gt; config.cache</userinput></screen>

    <para os="a" xml:base="../../final-system/common/findutils.xml">Prepare Findutils for compilation:</para>

<screen os="ac" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --cache-file=config.cache</userinput></screen>

    <para os="d" xml:base="../../final-system/common/findutils.xml">Compile the package:</para>

    <screen os="e" xml:base="../../final-system/common/findutils.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g" xml:base="../../final-system/common/findutils.xml">Install the package:</para>

    <screen os="h" xml:base="../../final-system/common/findutils.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-findutils" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-gawk" role="wrap" xml:base="common/gawk.xml">
  <?dbhtml filename="gawk.html"?>

  <title>Gawk-4.1.4</title>

  <indexterm zone="ch-temp-system-gawk" significance="normal">
    <primary sortas="a-Gawk">Gawk</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gawk.xml">
    <title/>

    <para>The Gawk package contains programs for manipulating text
    files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Gawk</title>

    <para os="a">Prepare Gawk for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gawk" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-gettext" role="wrap" xml:base="common/gettext.xml">
  <?dbhtml filename="gettext.html"?>

  <title>Gettext-0.19.8.1</title>

  <indexterm zone="ch-temp-system-gettext" significance="normal">
    <primary sortas="a-Gettext">Gettext</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gettext.xml">
    <title/>

    <para>The Gettext package contains utilities for internationalization
    and localization. These allow programs to be compiled with NLS (Native
    Language Support), enabling them to output messages in the user's native
    language.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Gettext</title>

    <para os="i">Many packages' installation procedures use the
    <command moreinfo="none">msgfmt</command> program for i18n support, so we will compile
    and install it into <filename class="directory" moreinfo="none">/tools</filename>.
    Attr also needs <command moreinfo="none">msgmerge</command> and <command moreinfo="none">xgettext</command>,
    so we will install those as well.</para>

    <para os="a">Only the programs in the
    <filename class="directory" moreinfo="none">gettext-tools</filename> directory need to be
    installed for the temp-system:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">cd gettext-tools</userinput></screen>

    <para os="c">Prepare Gettext for compilation:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">EMACS="no" \
./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --disable-shared</userinput></screen>

    <variablelist os="e">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">EMACS="no"</parameter></term>
        <listitem>
          <para>Prevents the configure script from installing Emacs Lisp files
          as the test is known to hang on some hosts.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="f">Compile the required programs and support library:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make -C gnulib-lib
make -C intl pluralx.c
make -C src msgfmt msgmerge xgettext</userinput></screen>

    <para os="h">Install the <command moreinfo="none">msgfmt</command>,
    <command moreinfo="none">msgmerge</command> and <command moreinfo="none">xgettext</command> binaries:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">cp -v src/{msgfmt,msgmerge,xgettext} /tools/bin</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gettext" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-grep" role="wrap" xml:base="common/grep.xml">
  <?dbhtml filename="grep.html"?>

  <title>Grep-3.0</title>

  <indexterm zone="ch-temp-system-grep" significance="normal">
    <primary sortas="a-Grep">Grep</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/grep.xml">
    <title/>

    <para>The Grep package contains programs for searching through
    files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Grep</title>

    <para os="a" xml:base="../../final-system/common/grep.xml">Prepare Grep for compilation:</para>

<screen os="ca" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --without-included-regex</userinput></screen>

    <variablelist os="cb">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--without-included-regex</parameter></term>
        <listitem>
          <para>When cross-compiling, Grep's <command moreinfo="none">configure</command>
          assumes there is no usable <filename moreinfo="none">regex.h</filename> installed and
          instead uses the one included with Grep. This switch forces the use of
          the regex functions from Glibc.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c" xml:base="../../final-system/common/grep.xml">Compile the package:</para>

    <screen os="d" xml:base="../../final-system/common/grep.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f" xml:base="../../final-system/common/grep.xml">Install the package:</para>

    <screen os="g" xml:base="../../final-system/common/grep.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-grep" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-gzip" role="wrap" xml:base="common/gzip.xml">
  <?dbhtml filename="gzip.html"?>

  <title>Gzip-1.8</title>

  <indexterm zone="ch-temp-system-gzip" significance="normal">
    <primary sortas="a-Gzip">Gzip</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/gzip.xml">
    <title/>

    <para>The Gzip package contains programs for compressing and decompressing
    files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Gzip</title>

    <para os="a" xml:base="../../final-system/common/gzip.xml">Prepare Gzip for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c" xml:base="../../final-system/common/gzip.xml">Compile the package:</para>

    <screen os="d" xml:base="../../final-system/common/gzip.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f" xml:base="../../final-system/common/gzip.xml">Install the package:</para>

    <screen os="g" xml:base="../../final-system/common/gzip.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-gzip" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-make" role="wrap" xml:base="common/make.xml">
  <?dbhtml filename="make.html"?>

  <title>Make-4.2.1</title>

  <indexterm zone="ch-temp-system-make" significance="normal">
    <primary sortas="a-Make">Make</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/make.xml">
    <title/>

    <para>The Make package contains a program for compiling packages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Make</title>

    <para os="a" xml:base="../../final-system/common/make.xml">Prepare Make for compilation:</para>

<screen os="aa" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c" xml:base="../../final-system/common/make.xml">Compile the package:</para>

    <screen os="d" xml:base="../../final-system/common/make.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f" xml:base="../../final-system/common/make.xml">Install the package:</para>

    <screen os="g" xml:base="../../final-system/common/make.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-make" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-patch" role="wrap" xml:base="common/patch.xml">
  <?dbhtml filename="patch.html"?>

  <title>Patch-2.7.5</title>

  <indexterm zone="ch-temp-system-patch" significance="normal">
    <primary sortas="a-Patch">Patch</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/patch.xml">
    <title/>

    <para>The Patch package contains a program for modifying or creating
    files by applying a <quote>patch</quote> file typically created by the
    <command moreinfo="none">diff</command> program.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Patch</title>

    <para os="a">Prepare Patch for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-patch" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-sed" role="wrap" xml:base="common/sed.xml">
  <?dbhtml filename="sed.html"?>

  <title>Sed-4.4</title>

  <indexterm zone="ch-temp-system-sed" significance="normal">
    <primary sortas="a-Sed">Sed</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/sed.xml">
    <title/>

    <para>The Sed package contains a stream editor.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Sed</title>

    <para os="a">Prepare Sed for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-sed" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-tar" role="wrap" xml:base="common/tar.xml">
  <?dbhtml filename="tar.html"?>

  <title>Tar-1.29</title>

  <indexterm zone="ch-temp-system-tar" significance="normal">
    <primary sortas="a-Tar">Tar</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/tar.xml">
    <title/>

    <para>The Tar package contains an archiving program.</para>


  </sect2>

  <sect2 role="installation">
    <title>Installation of Tar</title>

    <para os="c1">Configure can not properly determine the results of a few
    tests. Set them manually:</para>

<screen os="c2" format="linespecific"><userinput moreinfo="none">cat &gt; config.cache &lt;&lt; EOF
gl_cv_func_wcwidth_works=yes
gl_cv_func_btowc_eof=yes
ac_cv_func_malloc_0_nonnull=yes
gl_cv_func_mbrtowc_incomplete_state=yes
gl_cv_func_mbrtowc_nul_retval=yes
gl_cv_func_mbrtowc_null_arg1=yes
gl_cv_func_mbrtowc_null_arg2=yes
gl_cv_func_mbrtowc_retval=yes
gl_cv_func_wcrtomb_retval=yes
EOF</userinput></screen>

    <para os="a" xml:base="../../final-system/common/tar.xml">Prepare Tar for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --cache-file=config.cache</userinput></screen>

    <para os="c" xml:base="../../final-system/common/tar.xml">Compile the package:</para>

    <screen os="d" xml:base="../../final-system/common/tar.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f" xml:base="../../final-system/common/tar.xml">Install the package:</para>

    <screen os="g" xml:base="../../final-system/common/tar.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-tar" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-texinfo" role="wrap" xml:base="common/texinfo.xml">
  <?dbhtml filename="texinfo.html"?>

  <title>Texinfo-6.3</title>

  <indexterm zone="ch-temp-system-texinfo" significance="normal">
    <primary sortas="a-Texinfo">Texinfo</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/texinfo.xml">
    <title/>

    <para>The Texinfo package contains programs for reading, writing, and
    converting info pages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Texinfo</title>

    <para os="a" xml:base="../../final-system/common/texinfo.xml">Prepare Texinfo for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">PERL=/usr/bin/perl \
./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <variablelist os="ba">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">PERL=/usr/bin/perl</parameter></term>
        <listitem>
          <para>This forces Texinfo to use
          <filename class="directory" moreinfo="none">/usr/bin</filename> as the location of
          <command moreinfo="none">perl</command>, as some host systems may have it in
          <filename class="directory" moreinfo="none">/bin</filename>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c" xml:base="../../final-system/common/texinfo.xml">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f" xml:base="../../final-system/common/texinfo.xml">Install the package:</para>

    <screen os="g" xml:base="../../final-system/common/texinfo.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-texinfo" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-util-linux" role="wrap" xml:base="common/util-linux.xml">
  <?dbhtml filename="util-linux.html"?>

  <title>Util-linux-2.29.2</title>

  <indexterm zone="ch-temp-system-util-linux" significance="normal">
    <primary sortas="a-Util-linux">Util-linux</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/util-linux.xml">
    <title/>

    <para>The Util-linux package contains miscellaneous utility programs.
    Among them are utilities for handling file systems, consoles, partitions,
    and messages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Util-linux</title>

    <para os="a" xml:base="../../final-system/common/util-linux.xml">Prepare Util-linux for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --disable-makeinstall-chown \
    --disable-makeinstall-setuid \
    --disable-nologin \
    --without-python</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-makeinstall-chown</parameter></term>
        <listitem>
          <para>This prevents Util-linux from trying to perform any
          chown commands when it is installed.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-makeinstall-setuid</parameter></term>
        <listitem>
          <para>This prevents Util-linux from enabling the setuid bit on
          any of its installed programs.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-nologin</parameter></term>
        <listitem>
          <para>This prevents Util-linux from installing
          <command moreinfo="none">nologin</command>.</para> 
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--without-python</parameter></term>
        <listitem>
          <para>This avoids the building of unneeded Python bindings when
          Python is installed on the host system.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="s1">Adjust the Makefile</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i 's/-lncursesw -ltinfo/-lncurses/' Makefile
sed -i 's/LIBNCURSESW/LIBNCURSES/' config.h</userinput></screen>

    <para os="d" xml:base="../../final-system/common/util-linux.xml">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g" xml:base="../../final-system/common/util-linux.xml">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-util-linux" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-vim" role="wrap" xml:base="common/vim.xml">
  <?dbhtml filename="vim.html"?>

  <title>Vim-8.0</title>

  <indexterm zone="ch-temp-system-vim" significance="normal">
    <primary sortas="a-Vim">Vim</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/vim.xml">
    <title/>

    <para>The Vim package contains a powerful text editor.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of VIM</title>

    <para os="a">We will cross-compile Vim so that we can have a text editor in
    <filename class="directory" moreinfo="none">/tools</filename>. Vim is not technically
    necessary in the temporary system, in that it is not there to satisfy any
    package dependencies in the final system, but we believe that a text editor
    is an extremely useful tool to have there.<!-- If you prefer a different
    editor, you may check the hints project at <ulink url="&hints-root;" />
    for information on cross-compiling other text editors. (placeholder -
    uncomment this sentence if/when such information actually exists)--></para>

    <para os="p1" xml:base="../../final-system/common/vim.xml">The following patch merges all updates from the 8.0 Branch
    from the Vim developers:</para>

    <screen os="p2" xml:base="../../final-system/common/vim.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../vim-8.0-branch_update-1.patch</userinput></screen>

    <para os="c1">The <command moreinfo="none">configure</command> script is full of logic
    that aborts at the first sign of cross compiling. Work around this by
    setting the cached values of several tests with the following
    command:</para>

<screen os="c2" format="linespecific"><userinput moreinfo="none">cat &gt; src/auto/config.cache &lt;&lt; "EOF"
vim_cv_getcwd_broken=no
vim_cv_memmove_handles_overlap=yes
vim_cv_stat_ignores_slash=no
vim_cv_terminfo=yes
vim_cv_toupper_broken=no
vim_cv_tty_group=world
vim_cv_tgent=zero
EOF</userinput></screen>

    <para os="b">Change the default location of
    the <filename moreinfo="none">vimrc</filename> configuration file to <filename class="directory" moreinfo="none">/tools/etc</filename>:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">echo '#define SYS_VIMRC_FILE "/tools/etc/vimrc"' &gt;&gt; src/feature.h</userinput></screen>

    <para os="d" xml:base="../../final-system/common/vim.xml">Prepare Vim for compilation:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">./configure \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --prefix=/tools \
    --enable-gui=no \
    --disable-gtktest \
    --disable-xim \
    --disable-gpm \
    --without-x \
    --disable-netbeans \
    --with-tlib=ncurses</userinput></screen>

    <variablelist os="f">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-gui=no --disable-gtktest --disable-xim --disable-gpm --without-x --disable-netbeans</parameter></term>
        <listitem>
          <para>These options prevent Vim from trying to link to libraries
          that might be on the host but won't exist inside the temporary
          build environment.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-tlib=ncurses</parameter></term>
        <listitem>
          <para>Tells Vim to use Ncurses as its terminal library.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="g" xml:base="../../final-system/common/vim.xml">Compile the package:</para>

    <screen os="h" xml:base="../../final-system/common/vim.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="j" xml:base="../../final-system/common/vim.xml">Install the package:</para>

    <screen os="k" xml:base="../../final-system/common/vim.xml" format="linespecific"><userinput moreinfo="none">make -j1 install</userinput></screen>

    <para os="l" xml:base="../../final-system/common/vim.xml">Many users are accustomed to using <command moreinfo="none">vi</command>
    instead of <command moreinfo="none">vim</command>. Some programs, such as
    <command moreinfo="none">vigr</command> and <command moreinfo="none">vipw</command>, also use
    <command moreinfo="none">vi</command>. Create a symlink to permit execution of
    <command moreinfo="none">vim</command> when users habitually enter <command moreinfo="none">vi</command>
    and allow programs that use <command moreinfo="none">vi</command> to work:</para>

<screen os="m" format="linespecific"><userinput moreinfo="none">ln -sv vim /tools/bin/vi</userinput></screen>

    <para os="tv1">Create a temporary vimrc to make it function more the way you may
    expect it to. This is explained more in the final system:</para>

<screen os="tv2" format="linespecific"><userinput moreinfo="none">cat &gt; /tools/etc/vimrc &lt;&lt; "EOF"
<literal moreinfo="none">" Begin /tools/etc/vimrc

set nocompatible
set backspace=2
set ruler
syntax on

" End /tools/etc/vimrc</literal>
EOF</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-vim" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-xz" role="wrap" xml:base="common/xz.xml">
  <?dbhtml filename="xz.html"?>

  <title>XZ Utils-5.2.3</title>

  <indexterm zone="ch-temp-system-xz" significance="normal">
    <primary sortas="a-XZ Utils">XZ Utils</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/xz.xml">
    <title/>

    <para>The XZ Utils package contains programs for compressing and
    decompressing files. Compressing text files with <command moreinfo="none">XZ Utils</command>
    yields a much better compression percentage than with the traditional
    <command moreinfo="none">gzip</command>.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of XZ Utils</title>

    <para os="a" xml:base="../../final-system/common/xz.xml">Prepare XZ Utils for compilation:</para>

<screen os="cb" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET}</userinput></screen>

    <para os="c" xml:base="../../final-system/common/xz.xml">Compile the package:</para>

    <screen os="d" xml:base="../../final-system/common/xz.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="ce">Install the package:</para>

<screen os="cf" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-xz" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-temp-system-choose" xml:base="common/choose.xml">
  <?dbhtml filename="choose.html"?>

  <title>To Boot or to Chroot?</title>

  <para os="a">There are two different ways you can proceed from this point
  to build the final system. You can build a kernel, a bootloader, and
  a few other utilities, boot into the temporary system, and build the
  rest there. Alternatively, you can mount a few virtual filesystems and
  chroot into the temporary system.</para>

  <para os="b">The <command moreinfo="none">chroot</command> (change root) program is used to
  enter a virtual environment and start a new shell whose root directory will
  be set to the CLFS partition. This is very similar to rebooting and
  instructing the kernel to mount the CLFS partition as the root partition.
  The major advantage is that <quote>chrooting</quote> allows the builder to
  continue using the host while CLFS is being built. While waiting for package
  compilation to complete, a user can switch to a different virtual console
  (VC) or X desktop and continue using the computer as normal.</para>

  <!-- We also describe some alternative booting methods in <xref linkend="ch-boot-whatnext"/> -->

  <para os="c">The main downside to chrooting is that you are more limited in
  when you can use it - booting will always work for any CLFS build, but the
  chroot method can only be used when you are building on the same
  architecture. For example, if you are building on, and for, an x86 system,
  you can simply chroot. Booting is required when you are compiling for a
  different architecture, such as building a PowerPC system from an x86. The
  rule of thumb here is that if the architectures match and you are running
  the same series kernel (specifically, a 3.12.0 or newer
  Linux kernel) you can just chroot. If you aren't running the same series
  kernel, or are wanting to run a different ABI, you will need to use the boot
  option.</para>

  <para os="d">If you are in any doubt about this, you can try the following
  commands to see if you can chroot:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">/tools/lib/libc.so.6
/tools/bin/gcc -v</userinput></screen>

  <para os="f">If either of these commands fail, you will have to follow the
  boot method.</para>

  <para os="g">For the boot method, follow <xref linkend="chapter-boot"/>.</para>

  <para os="h">For the chroot method, follow <xref linkend="chapter-chroot"/>.</para>

</sect1>

</chapter>
    <chapter id="chapter-boot" xreflabel="If You Are Going to Boot" xml:base="boot/mips64-64-chapter.xml">
  <?dbhtml dir="boot"?>
  <?dbhtml filename="chapter.html"?>

  <title>If You Are Going to Boot</title>

  <sect1 id="ch-boot-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>This chapter shows how to complete the build of temporary tools to
  create a minimal system that will be used to boot the target machine and to
  build the final system packages.</para>

</sect1>
  <sect1 id="ch-boot-bc" xml:base="common/bc.xml">
  <?dbhtml filename="bc.html"?>

  <title>Bc-1.07.1</title>

  <indexterm zone="ch-boot-bc" significance="normal">
    <primary sortas="a-Bc">Bc</primary>
    <secondary>boot</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/bc.xml">
    <title/>

    <para>The Bc package contains an arbitrary precision numeric processing language.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Bc</title>

    <para>We will install a <command moreinfo="none">bc</command> program that can run
    on the host system, as this is needed to compile the kernel.</para>

    <para>Prepare Bc for compilation:</para>

<screen format="linespecific"><userinput moreinfo="none">CC=gcc \
./configure \
    --prefix=/cross-tools</userinput></screen>

    <variablelist>
      <title>The meaning of the configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">CC=gcc</parameter></term>
        <listitem>
          <para>This ensures that we use the host's compiler to build Bc,
          since we need it to run on the host system.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compile the package:</para>

<screen format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para>Install the package:</para>

<screen format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-bc" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-boot-boot-scripts" role="wrap" xml:base="common/boot-scripts.xml">
  <?dbhtml filename="boot-scripts.html"?>

  <title>Boot-scripts for CLFS 3.0-20140710</title>

  <indexterm zone="ch-boot-boot-scripts" significance="normal">
    <primary sortas="a-Boot-scripts">Boot-scripts</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Boot-scripts package contains a set of scripts to
    start/stop the CLFS system at bootup/shutdown.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Boot-scripts</title>

    <para os="a">Install the package:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">make DESTDIR=/tools install-boot-scripts</userinput></screen>

  <para os="c">The <command moreinfo="none">setclock</command> script reads the time from the
  hardware clock, also known as the BIOS or the Complementary Metal Oxide
  Semiconductor (CMOS) clock. If the hardware clock is set to UTC, this
  script will convert the hardware clock's time to the local time using
  the <filename moreinfo="none">/tools/etc/sysconfig/clock</filename> file (which tells the
  <command moreinfo="none">hwclock</command> program which timezone the user is in). There
  is no way to detect whether or not the hardware clock is set to UTC, so
  this needs to be configured manually.</para>



  <para os="d">If you do not know whether or not the hardware clock is set to UTC,
  you can find out after you have booted the new machine by running the
  <userinput moreinfo="none">hwclock --localtime  --show</userinput> command, and if
  necessary editing the <filename moreinfo="none">/tools/etc/sysconfig/clock</filename> file.
  The worst that will happen if you make a wrong guess here is that the
  time displayed will be wrong.</para>

  <para os="e">Change the value of the <envar>UTC</envar> variable below
  to a value of <option>0</option> (zero) if the hardware clock
  is <emphasis>not</emphasis> set to UTC time.</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">cat &gt; /tools/etc/sysconfig/clock &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /tools/etc/sysconfig/clock

UTC=1

# End /tools/etc/sysconfig/clock</literal>
EOF</userinput></screen>

  </sect2>

  <sect2 id="contents-boot-scripts" role="content">
    <title>Contents of Boot-scripts</title>

    <segmentedlist>
      <segtitle>Installed scripts</segtitle>

      <seglistitem>
        <seg>checkfs, cleanfs, functions, halt, localnet, mountfs, mountkernfs,
        rc, reboot, sendsignals, setclock, swap, and udev.</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="checkfs-boot-scripts">
        <term><command moreinfo="none">checkfs</command></term>
        <listitem>
          <para>Checks the integrity of the file systems before they are
          mounted (with the exception of journal and network based file
          systems)</para>
          <indexterm zone="ch-boot-boot-scripts checkfs-boot-scripts" significance="normal">
            <primary sortas="d-checkfs">checkfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cleanfs-boot-scripts">
        <term><command moreinfo="none">cleanfs</command></term>
        <listitem>
          <para>Removes files that should not be preserved between reboots,
          such as those in <filename class="directory" moreinfo="none">/run/</filename>
          and <filename class="directory" moreinfo="none">/var/lock/</filename>; it re-creates
          <filename moreinfo="none">/run/utmp</filename> and removes the possibly present
          <filename moreinfo="none">/etc/nologin</filename>, <filename moreinfo="none">/fastboot</filename>,
          and <filename moreinfo="none">/forcefsck</filename> files</para>
          <indexterm zone="ch-boot-boot-scripts cleanfs-boot-scripts" significance="normal">
            <primary sortas="d-cleanfs">cleanfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="functions-boot-scripts">
        <term><command moreinfo="none">functions</command></term>
        <listitem>
          <para>Contains common functions, such as error and status checking,
          that are used by several boot-scripts</para>
          <indexterm zone="ch-boot-boot-scripts functions-boot-scripts" significance="normal">
            <primary sortas="d-functions">functions</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="halt-boot-scripts">
        <term><command moreinfo="none">halt</command></term>
        <listitem>
          <para>Halts the system</para>
          <indexterm zone="ch-boot-boot-scripts halt-boot-scripts" significance="normal">
            <primary sortas="d-halt">halt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="localnet-boot-scripts">
        <term><command moreinfo="none">localnet</command></term>
        <listitem>
          <para>Sets up the system's hostname and local loopback device</para>
          <indexterm zone="ch-boot-boot-scripts localnet-boot-scripts" significance="normal">
            <primary sortas="d-localnet">localnet</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mountfs-boot-scripts">
        <term><command moreinfo="none">mountfs</command></term>
        <listitem>
          <para>Mounts all file systems, except ones that are marked
          <emphasis>noauto</emphasis> or are network based</para>
          <indexterm zone="ch-boot-boot-scripts mountfs-boot-scripts" significance="normal">
            <primary sortas="d-mountfs">mountfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mountkernfs-boot-scripts">
        <term><command moreinfo="none">mountkernfs</command></term>
        <listitem>
          <para>Mounts virtual kernel file systems, such as
          <systemitem class="filesystem" moreinfo="none">proc</systemitem></para>
          <indexterm zone="ch-boot-boot-scripts mountkernfs-boot-scripts" significance="normal">
            <primary sortas="d-mountkernfs">mountkernfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rc-boot-scripts">
        <term><command moreinfo="none">rc</command></term>
        <listitem>
          <para>The master run-level control script; it is responsible for
          running all the other boot-scripts one-by-one, in a sequence
          determined by the name of the symbolic links being processed</para>
          <indexterm zone="ch-boot-boot-scripts rc-boot-scripts" significance="normal">
            <primary sortas="d-rc">rc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="reboot-boot-scripts">
        <term><command moreinfo="none">reboot</command></term>
        <listitem>
          <para>Reboots the system</para>
          <indexterm zone="ch-boot-boot-scripts reboot-boot-scripts" significance="normal">
            <primary sortas="d-reboot">reboot</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sendsignals-boot-scripts">
        <term><command moreinfo="none">sendsignals</command></term>
        <listitem>
          <para>Makes sure every process is terminated before the system reboots
          or halts</para>
          <indexterm zone="ch-boot-boot-scripts sendsignals-boot-scripts" significance="normal">
            <primary sortas="d-sendsignals">sendsignals</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setclock-boot-scripts">
        <term><command moreinfo="none">setclock</command></term>
        <listitem>
          <para>Resets the kernel clock to local time in case the hardware clock
          is not set to UTC time</para>
          <indexterm zone="ch-boot-boot-scripts setclock-boot-scripts" significance="normal">
            <primary sortas="d-setclock">setclock</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="swap-boot-scripts">
        <term><command moreinfo="none">swap</command></term>
        <listitem>
          <para>Enables and disables swap files and partitions</para>
          <indexterm zone="ch-boot-boot-scripts swap-boot-scripts" significance="normal">
            <primary sortas="d-swap">swap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="eudev-boot-scripts">
        <term><command moreinfo="none">udev</command></term>
        <listitem>
          <para>Starts and stops the Eudev daemon</para>
          <indexterm zone="ch-boot-boot-scripts eudev-boot-scripts" significance="normal">
            <primary sortas="d-eudev">udev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-boot-e2fsprogs" role="wrap" xml:base="common/e2fsprogs.xml">
  <?dbhtml filename="e2fsprogs.html"?>

  <title>E2fsprogs-1.43.4</title>

  <indexterm zone="ch-boot-e2fsprogs" significance="normal">
    <primary sortas="a-E2fsprogs">E2fsprogs</primary>
    <secondary>boot</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/e2fsprogs.xml">
    <title/>

    <para>The E2fsprogs package contains the utilities for handling the
    <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system. It also
    supports the <systemitem class="filesystem" moreinfo="none">ext3</systemitem> and
    <systemitem class="filesystem" moreinfo="none">ext4</systemitem> journaling
    file systems.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of E2fsprogs</title>

    <para os="a" xml:base="../../final-system/common/e2fsprogs.xml">The E2fsprogs documentation recommends that the package be
    built in a subdirectory of the source tree:</para>

    <screen os="b" xml:base="../../final-system/common/e2fsprogs.xml" format="linespecific"><userinput moreinfo="none">mkdir -v build
cd build</userinput></screen>

    <para os="c" xml:base="../../final-system/common/e2fsprogs.xml">Prepare E2fsprogs for compilation:</para>

<screen os="aa" format="linespecific"><userinput moreinfo="none">../configure \
    --prefix=/tools \
    --enable-elf-shlibs \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --disable-libblkid \
    --disable-libuuid \
    --disable-fsck \
    --disable-uuidd</userinput></screen>

    <variablelist os="e">
      <title>The meaning of the configure options:</title>

      <varlistentry os="e2" xml:base="../../final-system/common/e2fsprogs.xml">
        <term><parameter moreinfo="none">--enable-elf-shlibs</parameter></term>
        <listitem>
          <para>This creates the shared libraries which some programs
          in this package use.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="e3" xml:base="../../final-system/common/e2fsprogs.xml">
        <term><parameter moreinfo="none">--disable-*</parameter></term>
        <listitem>
          <para>This prevents E2fsprogs from building and installing the
          <systemitem class="library" moreinfo="none">libuuid</systemitem> and
          <systemitem class="library" moreinfo="none">libblkid</systemitem> libraries, the
          <systemitem class="daemon" moreinfo="none">uuidd</systemitem> daemon, and the
          <command moreinfo="none">fsck</command> wrapper, as Util-Linux installed all of
          them earlier.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="f" xml:base="../../final-system/common/e2fsprogs.xml">Compile the package:</para>

    <screen os="g" xml:base="../../final-system/common/e2fsprogs.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="i" xml:base="../../final-system/common/e2fsprogs.xml">Install the binaries, documentation and shared libraries:</para>

    <screen os="j" xml:base="../../final-system/common/e2fsprogs.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="k" xml:base="../../final-system/common/e2fsprogs.xml">Install the static libraries and headers:</para>

    <screen os="l" xml:base="../../final-system/common/e2fsprogs.xml" format="linespecific"><userinput moreinfo="none">make install-libs</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-e2fsprogs" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-boot-kmod" role="wrap" xml:base="common/kmod.xml">
  <?dbhtml filename="kmod.html"?>

  <title>Kmod-24</title>

  <indexterm zone="ch-boot-kmod" significance="normal">
    <primary sortas="a-Kmod">Kmod</primary>
    <secondary>boot</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/common/kmod.xml">
    <title/>

    <para>The Kmod package contains programs for loading, inserting
      and removing kernel modules for Linux. Kmod replaces the
      Module-Init-tools package.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Kmod</title>

    <para os="s1">The following <command moreinfo="none">sed</command> changes Kmod's default
    module search location to
    <filename class="directory" moreinfo="none">/tools/lib/modules</filename>:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">cp -v libkmod/libkmod.c{,.orig}
sed '/dirname_default_prefix /s@/lib/modules@/tools&amp;@' \
    libkmod/libkmod.c.orig &gt; libkmod/libkmod.c</userinput></screen>

    <para os="a" xml:base="../../final-system/common/kmod.xml">Prepare Kmod for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --with-xz \
    --with-zlib</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--with-zlib --with-xz</parameter></term>
        <listitem>
          <para>These allow the Kmod package to handle zlib and XZ
            compressed kernel modules.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d" xml:base="../../final-system/common/kmod.xml">Compile the package:</para>

    <screen os="e" xml:base="../../final-system/common/kmod.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g" xml:base="../../final-system/common/kmod.xml">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="i" xml:base="../../final-system/common/kmod.xml">Create symbolic links for programs that expect Module-Init-Tools:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">ln -sfv kmod /tools/bin/lsmod
for tool in depmod insmod modprobe modinfo rmmod; do
    ln -sv ../bin/kmod /tools/sbin/${tool}
done</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-kmod" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-boot-shadow" role="wrap" xml:base="common/shadow.xml">
  <?dbhtml filename="shadow.html"?>

  <title>Shadow-4.5</title>

  <indexterm zone="ch-boot-shadow" significance="normal">
    <primary sortas="a-Shadow">Shadow</primary>
    <secondary>boot</secondary>
  </indexterm>

 <sect2 role="package" xml:base="../../final-system/common/shadow.xml">
    <title/>

    <para>The Shadow package contains programs for handling passwords in a
    secure way.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Shadow</title>

    <para os="a">Disable the installation of the <command moreinfo="none">groups</command>
    program and man pages, as better versions of these programs are provided by
    Coreutils, Util-linux and Man-pages. Also, prevent Shadow from setting the
    suid bit on its installed programs:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">cp -v src/Makefile.in{,.orig}
sed -e 's/groups$(EXEEXT) //' \
    -e 's/\(^suidu*bins = \).*/\1\\/' \
    src/Makefile.in.orig &gt; src/Makefile.in</userinput></screen>

    <para os="c">Tell Shadow to use <command moreinfo="none">passwd</command> in
    <filename class="directory" moreinfo="none">/tools/bin</filename>:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">cat &gt; config.cache &lt;&lt; "EOF"
shadow_cv_passwd_dir=/tools/bin
EOF</userinput></screen>

    <para os="e">Prepare Shadow for compilation:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --cache-file=config.cache</userinput></screen>

    <para os="k">Compile the package:</para>

<screen os="l" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="m">Install the package:</para>

<screen os="n" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-shadow" role="."/></para>
  </sect2>

</sect1>
  <sect1 id="ch-boot-sysvinit" role="wrap" xml:base="common/sysvinit.xml">
  <?dbhtml filename="sysvinit.html"?>

  <title>Sysvinit-2.88dsf</title>

  <indexterm zone="ch-boot-sysvinit" significance="normal">
    <primary sortas="a-Sysvinit">Sysvinit</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Sysvinit package contains programs for controlling the startup,
    running, and shutdown of the system.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Sysvinit</title>

    <para os="p1">Apply a patch to prevent installation of unneeded programs,
    and allow Sysvinit to be installed in
    <filename class="directory" moreinfo="none">/tools</filename>:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../sysvinit-2.88dsf-tools_updates-1.patch</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="ac" format="linespecific"><userinput moreinfo="none">make -C src clobber
make -C src CC="${CC}"</userinput></screen>

   <para os="e">Install the package:</para>

<screen os="ad" format="linespecific"><userinput moreinfo="none">make -C src ROOT=/tools install</userinput></screen>

  </sect2>

  <sect2 id="conf-tools-sysvinit" role="configuration">
    <title>Configuring Sysvinit</title>

    <indexterm zone="conf-tools-sysvinit" significance="normal">
      <primary sortas="a-Sysvinit">Sysvinit</primary>
      <secondary>configuring</secondary>
    </indexterm>

    <indexterm zone="conf-tools-sysvinit" significance="normal">
      <primary sortas="e-/etc/inittab">/etc/inittab</primary>
    </indexterm>

    <para>Create a new file <filename moreinfo="none">/tools/etc/inittab</filename> by running the
    following:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /tools/etc/inittab &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /tools/etc/inittab

id:3:initdefault:

si::sysinit:/tools/etc/rc.d/init.d/rc sysinit

l0:0:wait:/tools/etc/rc.d/init.d/rc 0
l1:S1:wait:/tools/etc/rc.d/init.d/rc 1
l2:2:wait:/tools/etc/rc.d/init.d/rc 2
l3:3:wait:/tools/etc/rc.d/init.d/rc 3
l4:4:wait:/tools/etc/rc.d/init.d/rc 4
l5:5:wait:/tools/etc/rc.d/init.d/rc 5
l6:6:wait:/tools/etc/rc.d/init.d/rc 6

ca:12345:ctrlaltdel:/tools/sbin/shutdown -t1 -a -r now

su:S016:once:/tools/sbin/sulogin
</literal>
EOF</userinput></screen>

    <para>The following command adds the standard virtual terminals to
    <filename moreinfo="none">/tools/etc/inittab</filename>. If your system only has a serial
    console skip the following command:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt;&gt; /tools/etc/inittab &lt;&lt; "EOF"
<literal moreinfo="none">1:2345:respawn:/tools/sbin/agetty --noclear -I '\033(K' tty1 9600
2:2345:respawn:/tools/sbin/agetty --noclear -I '\033(K' tty2 9600
3:2345:respawn:/tools/sbin/agetty --noclear -I '\033(K' tty3 9600
4:2345:respawn:/tools/sbin/agetty --noclear -I '\033(K' tty4 9600
5:2345:respawn:/tools/sbin/agetty --noclear -I '\033(K' tty5 9600
6:2345:respawn:/tools/sbin/agetty --noclear -I '\033(K' tty6 9600
</literal>
EOF</userinput></screen>

    <para>If your system has a serial console, run the following command to add
    the entry to <filename moreinfo="none">/tools/etc/inittab</filename>.</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt;&gt; /tools/etc/inittab &lt;&lt; "EOF"
<literal moreinfo="none">c0:12345:respawn:/tools/sbin/agetty --noclear 115200 ttyS0 vt100
</literal>
EOF</userinput></screen>

   <para>Finally, add the end line to <filename moreinfo="none">/tools/etc/inittab</filename>.</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt;&gt; /tools/etc/inittab &lt;&lt; "EOF"
<literal moreinfo="none"># End /tools/etc/inittab</literal>
EOF</userinput></screen>

    <para>The <parameter moreinfo="none">-I '\033(K'</parameter> option tells
    <command moreinfo="none">agetty</command> to send this escape sequence to the terminal
    before doing anything else. This escape sequence switches the console
    character set to a user-defined one, which can be modified by running
    the <command moreinfo="none">setfont</command> program. Sending this
    escape sequence is necessary for people who use non-ISO 8859-1 screen
    fonts, but it does not affect native English speakers.</para>

  </sect2>

  <sect2 id="contents-sysvinit" role="content">
    <title>Contents of Sysvinit</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>bootlogd, fstab-decode, halt, init, killall5,
        poweroff (link to halt), reboot (link to halt), runlevel,
        shutdown, and telinit (link to init)</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bootlogd">
        <term><command moreinfo="none">bootlogd</command></term>
        <listitem>
          <para>Logs boot messages to a log file</para>
          <indexterm zone="ch-boot-sysvinit bootlogd" significance="normal">
            <primary sortas="b-bootlogd">bootlogd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fstab-decode">
        <term><command moreinfo="none">fstab-decode</command></term>
        <listitem>
          <para>Runs a command with fstab-encoded arguments</para>
          <indexterm zone="ch-boot-sysvinit fstab-decode" significance="normal">
            <primary sortas="b-fstab-decode">fstab-decode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="halt-sysv">
        <term><command moreinfo="none">halt</command></term>
        <listitem>
          <para>Normally invokes <command moreinfo="none">shutdown</command> with the
          <parameter moreinfo="none">-h</parameter> option, except when already in run-level 0,
          then it tells the kernel to halt the system; it notes in the
          file <filename moreinfo="none">/var/log/wtmp</filename> that the system is being
          brought down</para>
          <indexterm zone="ch-boot-sysvinit halt-sysv" significance="normal">
            <primary sortas="b-halt-sysv">halt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="init-sysv">
        <term><command moreinfo="none">init</command></term>
        <listitem>
          <para>The first process to be started when the kernel has initialized
          the hardware which takes over the boot process and starts all the
          proceses it is instructed to</para>
          <indexterm zone="ch-boot-sysvinit init-sysv" significance="normal">
            <primary sortas="b-init-sysv">init</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="killall5">
        <term><command moreinfo="none">killall5</command></term>
        <listitem>
          <para>Sends a signal to all processes, except the processes in its own
          session so it will not kill the shell running the script that called
          it</para>
          <indexterm zone="ch-boot-sysvinit killall5" significance="normal">
            <primary sortas="b-killall5">killall5</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="poweroff-sysv">
        <term><command moreinfo="none">poweroff</command></term>
        <listitem>
          <para>Tells the kernel to halt the system and switch off the computer
          (see <command moreinfo="none">halt</command>)</para>
          <indexterm zone="ch-boot-sysvinit poweroff-sysv" significance="normal">
            <primary sortas="b-poweroff-sysv">poweroff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="reboot-sysv">
        <term><command moreinfo="none">reboot</command></term>
        <listitem>
          <para>Tells the kernel to reboot the system (see
          <command moreinfo="none">halt</command>)</para>
          <indexterm zone="ch-boot-sysvinit reboot-sysv" significance="normal">
            <primary sortas="b-reboot-sysv">reboot</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="runlevel-sysv">
        <term><command moreinfo="none">runlevel</command></term>
        <listitem>
          <para>Reports the previous and the current run-level, as noted in
          the last run-level record in <filename moreinfo="none">/run/utmp</filename></para>
          <indexterm zone="ch-boot-sysvinit runlevel-sysv" significance="normal">
            <primary sortas="b-runlevel-sysv">runlevel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="shutdown-sysv">
        <term><command moreinfo="none">shutdown</command></term>
        <listitem>
          <para>Brings the system down in a secure way, signaling all processes
          and notifying all logged-in users</para>
          <indexterm zone="ch-boot-sysvinit shutdown-sysv" significance="normal">
            <primary sortas="b-shutdown-sysv">shutdown</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="telinit-sysv">
        <term><command moreinfo="none">telinit</command></term>
        <listitem>
          <para>Tells <command moreinfo="none">init</command> which run-level to change to</para>
          <indexterm zone="ch-boot-sysvinit telinit-sysv" significance="normal">
            <primary sortas="b-telinit-sysv">telinit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-boot-eudev" role="wrap" xml:base="common/eudev.xml">
  <?dbhtml filename="eudev.html"?>

  <title>Eudev-1.7</title>

  <indexterm zone="ch-boot-eudev" significance="normal">
    <primary sortas="a-Eudev">Eudev</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Eudev package contains programs for dynamic creation of device
    nodes.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Eudev</title>

   <para os="a">Prepare Eudev for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --build=${CLFS_HOST} \
    --host=${CLFS_TARGET} \
    --disable-introspection \
    --disable-gtk-doc-html \
    --disable-gudev \
    --disable-keymap \
    --with-firmware-path=/tools/lib/firmware \
    --enable-libkmod</userinput></screen>

    <variablelist os="b1">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-introspection --disable-gtk-doc-html
        --disable-gudev --disable-keymap</parameter></term>
        <listitem>
          <para>These switches disable several features which are not needed
          for the temporary system and have additional dependencies.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-firmware-path=/tools/lib/firmware</parameter></term>
        <listitem>
          <para>This allows Eudev to load firmware from
          <filename class="directory" moreinfo="none">/tools/lib/firmware</filename> instead of
          the default location of <filename class="directory" moreinfo="none">/lib/firmware</filename>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-libkmod</parameter></term>
        <listitem>
          <para>Allows Eudev to load modules by using
          <filename class="libraryfile" moreinfo="none">libkmod</filename> directly.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="i">Create a directory for storing firmware that can be
    loaded by <command moreinfo="none">udev</command>:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">install -dv /tools/lib/firmware</userinput></screen>

    <para os="r1">Create a dummy rule so that Eudev will name ethernet devices properly for the system.</para>

<screen os="r2" format="linespecific"><userinput moreinfo="none">echo "# dummy, so that network is once again on eth*" &gt; \
    /tools/etc/udev/rules.d/80-net-name-slot.rules</userinput></screen>

 </sect2>

  <sect2 id="contents-eudev" role="content">
    <title>Contents of Eudev</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed library</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>ata_id, cdrom_id, collect, create_floppy_devices, edd_id,
        firmware.sh, fstab_import, path_id, scsi_id, udevadm, udevd, usb_id,
        v4l_id, write_cd_rules, write_net_rules</seg>
        <seg>libudev</seg>
        <seg>/tools/etc/udev, /tools/lib/firmware, /tools/lib/udev</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="udevadm-eudev">
        <term><command moreinfo="none">udevadm</command></term>
        <listitem>
        <para>Controls the runtime behavior of Eudev, requests kernel
        events, manages the event queue, and provides simple debugging.</para>
          <indexterm zone="ch-boot-eudev udevadm-eudev" significance="normal">
            <primary sortas="b-udevadm-eudev">udevadm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="udevd">
        <term><command moreinfo="none">udevd</command></term>
        <listitem>
          <para>A daemon that reorders hotplug events before submitting them to
          <command moreinfo="none">udev</command>,
          thus avoiding various race conditions</para>
          <indexterm zone="ch-boot-eudev udevd" significance="normal">
            <primary sortas="b-udevd">udevd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

 <!-- Start of Helpers -->
      <varlistentry id="ata_id">
        <term><command moreinfo="none">ata_id</command></term>
        <listitem>
          <para>Provides Eudev with a unique string and additional
          information (uuid, label) for an ATA drive</para>
          <indexterm zone="ch-boot-eudev ata_id" significance="normal">
            <primary sortas="b-ata_id">ata_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cdrom_id">
        <term><command moreinfo="none">cdrom_id</command></term>
        <listitem>
          <para>Prints the capabilities of a CDROM or DVDROM drive.</para>
          <indexterm zone="ch-boot-eudev cdrom_id" significance="normal">
            <primary sortas="b-cdrom_id">cdrom_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="collect">
        <term><command moreinfo="none">collect</command></term>
        <listitem>
          <para>Given an ID for the current uevent and a list of IDs
(for all target uevents), registers the current ID and indicates whether
all target IDs have been registered.</para>
          <indexterm zone="ch-boot-eudev collect" significance="normal">
            <primary sortas="b-collect">collect</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="create_floppy_devices">
        <term><command moreinfo="none">create_floppy_devices</command></term>
        <listitem>
          <para>Creates all possible floppy devices based on the CMOS type</para>
          <indexterm zone="ch-boot-eudev create_floppy_devices" significance="normal">
            <primary sortas="b-create_floppy_devices">create_floppy_devices</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="edd_id">
        <term><command moreinfo="none">edd_id</command></term>
        <listitem>
          <para>Identifies x86 disk drives from Enhanced Disk Drive calls</para>
          <indexterm zone="ch-boot-eudev edd_id" significance="normal">
            <primary sortas="b-edd_id">edd_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="firmware.sh">
        <term><command moreinfo="none">firmware.sh</command></term>
        <listitem>
          <para>Script to load firmware for a device</para>
          <indexterm zone="ch-boot-eudev firmware.sh" significance="normal">
            <primary sortas="b-firmware.sh">firmware.sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fstab_import">
        <term><command moreinfo="none">fstab_import</command></term>
        <listitem>
          <para>Finds an entry in <filename moreinfo="none">/etc/fstab</filename> that matches
the current device, and provides its information to Udev.</para>
          <indexterm zone="ch-boot-eudev fstab_import" significance="normal">
            <primary sortas="b-fstab_import">fstab_import</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="path_id">
        <term><command moreinfo="none">path_id</command></term>
        <listitem>
          <para>Provides the shortest possible unique hardware path to a
          device</para>
          <indexterm zone="ch-boot-eudev path_id" significance="normal">
            <primary sortas="b-path_id">path_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="scsi_id">
        <term><command moreinfo="none">scsi_id</command></term>
        <listitem>
          <para>Retrieves or generates a unique SCSI identifier.</para>
          <indexterm zone="ch-boot-eudev scsi_id" significance="normal">
            <primary sortas="b-scsi_id">scsi_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="usb_id">
        <term><command moreinfo="none">usb_id</command></term>
        <listitem>
          <para>Identifies a USB block device.</para>
          <indexterm zone="ch-boot-eudev usb_id" significance="normal">
            <primary sortas="b-usb_id">usb_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="v4l_id">
        <term><command moreinfo="none">v4l_id</command></term>
        <listitem>
          <para>Determines V4L capabilities for a given device.</para>
          <indexterm zone="ch-boot-eudev v4l_id" significance="normal">
            <primary sortas="b-v4l_id">v4l_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="write_cd_rules">
        <term><command moreinfo="none">write_cd_rules</command></term>
        <listitem>
          <para>A script which generates Eudev rules to provide stable names
for network interfaces.</para>
          <indexterm zone="ch-boot-eudev write_cd_rules" significance="normal">
            <primary sortas="b-write_cd_rules">write_cd_rules</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="write_net_rules">
        <term><command moreinfo="none">write_net_rules</command></term>
        <listitem>
          <para>A script which generates Eudev rules to provide stable names
for network interfaces.</para>
          <indexterm zone="ch-boot-eudev write_net_rules" significance="normal">
            <primary sortas="b-write_net_rules">write_net_rules</primary>
          </indexterm>
        </listitem>
      </varlistentry>
<!-- End of Helpers -->

      <varlistentry id="libudev-eudev">
        <term><filename class="libraryfile" moreinfo="none">libudev</filename></term>
        <listitem>
          <para>A library interface to eudev device information.</para>
          <indexterm zone="ch-boot-eudev libudev-eudev" significance="normal">
            <primary sortas="c-libudev-eudev">libudev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="etc-eudev">
        <term><filename class="directory" moreinfo="none">/etc/udev</filename></term>
        <listitem>
          <para>Contains <command moreinfo="none">udev</command> configuration files,
          device permissions, and rules for device naming</para>
          <indexterm zone="ch-boot-eudev etc-eudev" significance="normal">
            <primary sortas="e-/etc/udev">/etc/udev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lib-eudev">
        <term><filename class="directory" moreinfo="none">/lib/udev</filename></term>
        <listitem>
          <para>Contains <command moreinfo="none">udev</command> helper programs
          and static devices which get copied to /dev when booted.</para>
          <indexterm zone="ch-boot-eudev lib-eudev" significance="normal">
            <primary sortas="e-/lib/udev">/lib/udev</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-boot-kernel" role="wrap" xml:base="mips64/kernel.xml">
  <?dbhtml filename="kernel.html"?>

  <title>Linux-4.9.21</title>

  <indexterm zone="ch-boot-kernel" significance="normal">
    <primary sortas="a-Linux">Linux</primary>
    <secondary>boot</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../bootable/x86/kernel.xml"><title/>
    <para>The Linux package contains the Linux kernel.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of the kernel</title>

    <warning os="aa" xml:base="../x86/kernel.xml">
      <para>Here a temporary cross-compiled kernel will be built. When
      configuring it, select the minimal amount of options required to
      boot the target machine and build the final system. I.e., no support
      for sound, printers, etc. will be needed.</para>

      <para>Also, try to avoid the use of modules if possible, and don't
      use the resulting kernel image for production systems.</para>
    </warning>

    <para os="a" xml:base="../../bootable/x86/kernel.xml">Building the kernel involves a few steps—configuration,
    compilation, and installation. Read the <filename moreinfo="none">README</filename>
    file in the kernel source tree for alternative methods to the way this
    book configures the kernel.</para>

    <para os="m1" xml:base="../x86_64/kernel.xml">To ensure that your system boots and you can properly run both
    32 bit and 64 bit binaries, please make sure that you enable support for
    ELF and emulations for 32bit ELF into the kernel.</para>

    <para os="p1" xml:base="../../bootable/x86/kernel.xml">Apply the latest Linux sublevel patch:</para>

    <screen os="p2" xml:base="../../bootable/x86/kernel.xml" format="linespecific"><userinput moreinfo="none">xzcat ../patch-4.9.21.xz | patch -Np1 -i -</userinput></screen>

    <para os="b" xml:base="../../bootable/x86/kernel.xml">Prepare for compilation by running the following command:</para>

    <screen os="c" xml:base="../../bootable/x86/kernel.xml" format="linespecific"><userinput moreinfo="none">make mrproper</userinput></screen>

    <para os="d" xml:base="../../bootable/x86/kernel.xml">This ensures that the kernel tree is absolutely clean. The
    kernel team recommends that this command be issued prior to each
    kernel compilation. Do not rely on the source tree being clean after
    un-tarring.</para>

    <para os="ae" xml:base="../x86/kernel.xml">Configure the kernel via a menu-driven interface:</para>

<screen format="linespecific"><userinput moreinfo="none">make ARCH=mips CROSS_COMPILE=${CLFS_TARGET}- menuconfig</userinput></screen>

    <para os="m" xml:base="../../bootable/x86/kernel.xml">Compile the kernel image and modules:</para>

<screen format="linespecific"><userinput moreinfo="none">make ARCH=mips CROSS_COMPILE=${CLFS_TARGET}-</userinput></screen>

    <para os="af" xml:base="../x86/kernel.xml">If the use of kernel modules can't be avoided, a file in
    <filename class="directory" moreinfo="none">/etc/modprobe.d</filename> may be needed.
    Information pertaining to modules and kernel configuration is
    located in the kernel documentation in the <filename class="directory" moreinfo="none">Documentation</filename> directory of the kernel
    sources tree. The <filename moreinfo="none">modprobe.d</filename> man page may also
    be of interest.</para>

    <para os="s" xml:base="../../bootable/x86/kernel.xml">Install the modules, if the kernel configuration uses
    them:</para>

<screen format="linespecific"><userinput moreinfo="none">make ARCH=mips CROSS_COMPILE=${CLFS_TARGET}- \
   INSTALL_MOD_PATH=/tools modules_install</userinput></screen>

    <para os="s2" xml:base="../../bootable/x86/kernel.xml">Install the firmware, if the kernel configuration uses
    them:</para>

<screen format="linespecific"><userinput moreinfo="none">make ARCH=mips CROSS_COMPILE=${CLFS_TARGET}- \
   INSTALL_MOD_PATH=/tools firmware_install</userinput></screen>

    <para os="u" xml:base="../x86/kernel.xml">After kernel compilation is complete, additional steps are
    required to complete the installation. Some files need to be copied to
    the <filename class="directory" moreinfo="none">/tools/boot</filename> directory.</para>

    <para os="v" xml:base="../x86/kernel.xml">Issue the following commands to install the kernel:</para>

<screen format="linespecific"><userinput moreinfo="none">mkdir -pv /tools/boot
cp -v vmlinux /tools/boot/vmlinux-4.9.21
gzip -9 /tools/boot/vmlinux-4.9.21</userinput></screen>

    <para os="w" xml:base="../../bootable/x86/kernel.xml"><filename moreinfo="none">System.map</filename> is a symbol file for the kernel.
    It maps the function entry points of every function in the kernel API,
    as well as the addresses of the kernel data structures for the running
    kernel. Issue the following command to install the map file:</para>

    <screen os="w1" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">cp -v System.map /tools/boot/System.map-4.9.21</userinput></screen>

    <para os="x" xml:base="../../bootable/x86/kernel.xml">The kernel configuration file <filename moreinfo="none">.config</filename>
    produced by the <command moreinfo="none">make menuconfig</command> step above contains
    all the configuration selections for the kernel that was just compiled.
    It is a good idea to keep this file for future reference:</para>

    <screen os="x1" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">cp -v .config /tools/boot/config-4.9.21</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-kernel" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-boot-bootloaders" xml:base="mips/bootloaders.xml">
  <?dbhtml filename="bootloaders.html"?>

  <title>Bootloaders</title>

  <para>On MIPS based platforms, we have 2 different bootloaders - Colo
  for the Cobalt based MIPS machines and Arcload for the SGI machines.
  At this time, in the boot scenario, the only bootloader we can build
  and that is usable is Cobalt bootloader. On SGI machines that follow
  this build method, we recommend to do a netboot. Information about
  netbooting can be found at the link below.</para>

  <para><ulink url="http://hints.clfs.org/index.php/Category:Netboot"/></para>

</sect1>
  <sect1 id="ch-boot-colo-build" role="wrap" xml:base="mips64/colo-build.xml">
  <?dbhtml filename="colo-build.html"?>

  <title>Colo-1.22</title>

  <indexterm zone="ch-boot-colo-build" significance="normal">
    <primary sortas="a-Colo">Colo</primary>
    <secondary>boot</secondary>
  </indexterm>

  <sect2 role="package" xml:base="../../final-system/mips/colo.xml">
    <title/>

    <para>The Colo package contains the Cobalt Boot Loader.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Colo</title>

    <note os="a" xml:base="../../final-system/mips/colo.xml">
    <para>This bootloader is for the MIPS based cobalt servers RaQ,
    RaQ2, Qube, or the Qube2.</para>
  </note>

    <para os="p1" xml:base="../../final-system/mips64/colo.xml">This patch updates the Colo bootloader to build under
    64 bit:</para>

    <screen os="p2" xml:base="../../final-system/mips64/colo.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../colo-1.22-make_fix-1.patch</userinput></screen>

    <para os="p3" xml:base="../../final-system/mips/colo.xml">This patch fixes a relocation error when linking with
    Binutils:</para>

    <screen os="p4" xml:base="../../final-system/mips/colo.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../colo-1.22-relocation_fix-1.patch</userinput></screen>

    <para os="s1" xml:base="../../final-system/mips/colo.xml">Disable -Werror in one of the <filename moreinfo="none">Makefile</filename>s
    to prevent a compile failure:</para>

    <screen os="s2" xml:base="../mips/colo-build.xml" format="linespecific"><userinput moreinfo="none">cp -v stage2/Makefile{,.orig}
sed '/^CFLAGS/s/-Werror //' stage2/Makefile.orig &gt; stage2/Makefile</userinput></screen>

    <para os="b" xml:base="../../final-system/mips/colo.xml">Compile the Colo package:</para>

<screen os="aa" format="linespecific"><userinput moreinfo="none">cd tools/elf2rfx
make CC=gcc
cd ../..
make CROSS_COMPILE="${CLFS_TARGET}-" binary</userinput></screen>

    <para os="c" xml:base="../../final-system/mips/colo.xml">Install the package:</para>

    <screen os="ab" xml:base="../mips/colo-build.xml" format="linespecific"><userinput moreinfo="none">cp -v chain/colo-chain.elf /tools/boot/vmlinux
gzip -9 /tools/boot/vmlinux</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-colo" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-boot-creatingdirs" xml:base="mips/creatingdirs.xml">
  <?dbhtml filename="creatingdirs.html"?>

  <title>Creating Directories</title>

  <note os="a" xml:base="../common/creatingdirs.xml">
      <para>The commands in the remainder of the book should be run as
      the <systemitem class="username" moreinfo="none">root</systemitem> user. Check
      that ${CLFS} is set in the
      <systemitem class="username" moreinfo="none">root</systemitem> user’s environment
       before proceeding.</para>
    </note>

  <para os="b" xml:base="../common/creatingdirs.xml">It is time to create some structure in the CLFS file system. Create a
  standard directory tree by issuing the following commands:</para>

  <screen os="c" xml:base="../common/creatingdirs.xml" format="linespecific"><userinput moreinfo="none">mkdir -pv ${CLFS}/{bin,boot,dev,{etc/,}opt,home,lib/firmware,mnt}
mkdir -pv ${CLFS}/{proc,media/{floppy,cdrom},run/{,shm},sbin,srv,sys}
mkdir -pv ${CLFS}/var/{lock,log,mail,spool}
mkdir -pv ${CLFS}/var/{opt,cache,lib/{misc,locate},local}
install -dv -m 0750 ${CLFS}/root
install -dv -m 1777 ${CLFS}{/var,}/tmp
ln -sv ../run ${CLFS}/var/run
mkdir -pv ${CLFS}/usr/{,local/}{bin,include,lib,sbin,src}
mkdir -pv ${CLFS}/usr/{,local/}share/{doc,info,locale,man}
mkdir -pv ${CLFS}/usr/{,local/}share/{misc,terminfo,zoneinfo}
mkdir -pv ${CLFS}/usr/{,local/}share/man/man{1,2,3,4,5,6,7,8}</userinput></screen>

   <para>These entries are needed for the RaQ2 bootloader. Only use these
   if you are utilizing the Colo bootloader:</para>

<screen format="linespecific"><userinput moreinfo="none">cd ${CLFS}/boot
ln -svf . boot</userinput></screen>

  <para os="d" xml:base="../common/creatingdirs.xml">Directories are, by default, created with permission mode 755,
  but this is not desirable for all directories. In the commands above,
  two changes are made—one to the home directory of user
  <systemitem class="username" moreinfo="none">root</systemitem>, and another to the
  directories for temporary files.</para>

  <para os="e" xml:base="../common/creatingdirs.xml">The first mode change ensures that not just anybody can enter
  the <filename class="directory" moreinfo="none">/root</filename> directory—the
  same as a normal user would do with his or her home directory. The
  second mode change makes sure that any user can write to the
  <filename class="directory" moreinfo="none">/tmp</filename> and
  <filename class="directory" moreinfo="none">/var/tmp</filename> directories, but
  cannot remove another user's files from them. The latter is prohibited
  by the so-called <quote>sticky bit,</quote> the highest bit (1) in the
  1777 bit mask.</para>

</sect1>
  <sect1 id="ch-boot-createfiles" xml:base="common/createfiles.xml">
  <?dbhtml filename="createfiles.html"?>

  <title>Creating Essential Symlinks</title>

  <para os="a">Some programs use hard-wired paths to files which do not exist
  yet. In order to satisfy these programs, create a number of symbolic
  links which will be replaced by real files throughout the course of
  the next chapter after the software has been installed.</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">ln -sv /tools/bin/{bash,cat,echo,grep,login,pwd,stty} ${CLFS}/bin
ln -sv /tools/bin/file ${CLFS}/usr/bin
ln -sv /tools/lib/libgcc_s.so{,.1} ${CLFS}/usr/lib
ln -sv /tools/lib/libstdc++.so{.6,} ${CLFS}/usr/lib
sed -e 's/tools/usr/' /tools/lib/libstdc++.la &gt; ${CLFS}/usr/lib/libstdc++.la
ln -sv bash ${CLFS}/bin/sh
ln -sv /tools/sbin/init ${CLFS}/sbin
ln -sv /tools/etc/{login.{access,defs},limits} ${CLFS}/etc</userinput></screen>

  <variablelist os="c">
    <title>The purpose of each link:</title>

    <varlistentry os="c1">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/bash</filename></parameter></term>
      <listitem>
        <para>Many <command moreinfo="none">bash</command> scripts specify
        <filename moreinfo="none">/bin/bash</filename>.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c2">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/cat</filename></parameter></term>
      <listitem>
        <para>This pathname is hard-coded into Glibc's configure script.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c3">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/echo</filename></parameter></term>
      <listitem>
        <para>This is to satisfy one of the tests in Glibc's test suite, which
        expects <filename moreinfo="none">/bin/echo</filename>.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c4">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/grep</filename></parameter></term>
      <listitem>
        <para>This to avoid a hard-coded
        <filename class="directory" moreinfo="none">/tools</filename> reference in Libtool.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c5">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/login</filename></parameter></term>
      <listitem>
        <para>The <command moreinfo="none">agetty</command> program expects to find
        <command moreinfo="none">login</command> in <filename class="directory" moreinfo="none">/bin</filename>.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c6">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/pwd</filename></parameter></term>
      <listitem>
        <para>Some <command moreinfo="none">configure</command> scripts, particularly Glibc's,
        have this pathname hard-coded.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c7">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/stty</filename></parameter></term>
      <listitem>
        <para>This pathname is hard-coded into Expect, therefore it is needed
        for Binutils and GCC test suites to pass.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c8">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/bin/file</filename></parameter></term>
      <listitem>
        <para>Binutils' <command moreinfo="none">configure</command> scripts specify this
        command location.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c9">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/lib/libgcc_s.so{,.1}</filename></parameter></term>
      <listitem>
        <para>Glibc needs this for the pthreads library to work.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c10">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/lib/libstdc++{,.6}</filename></parameter></term>
      <listitem>
        <para>This is needed by several tests in Glibc's test suite, as well as
        for C++ support in GMP.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c11">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/lib/libstdc++.la</filename></parameter></term>
      <listitem>
        <para>This prevents a <filename class="directory" moreinfo="none">/tools</filename>
        reference that would otherwise be in
        <filename moreinfo="none">/usr/lib/libstdc++.la</filename> after GCC is installed.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c12">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/sh</filename></parameter></term>
      <listitem>
        <para>Many shell scripts hard-code <filename moreinfo="none">/bin/sh</filename>.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c13">
      <term><parameter moreinfo="none"><filename moreinfo="none">/sbin/init</filename></parameter></term>
      <listitem>
        <para>This is where the kernel expects to find <command moreinfo="none">init</command>.</para>
      </listitem>
    </varlistentry>

    <varlistentry os="c14">
      <term><parameter moreinfo="none"><filename moreinfo="none">/etc/{login.{access,defs},limits}</filename></parameter></term>
      <listitem>
        <para>These are configuration files used by Shadow and are expected to
        be found in <filename class="directory" moreinfo="none">/etc</filename>, for programs
        such as <command moreinfo="none">login</command> and <command moreinfo="none">su</command> to work.</para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para os="d">Historically, Linux maintains a list of the mounted file systems
  in the file <filename moreinfo="none">/etc/mtab</filename>. Modern kernels maintain this list
  internally and expose it to the user via the
  <filename class="directory" moreinfo="none">/proc</filename> filesystem. To satisfy utilities
  that expect the presence of <filename moreinfo="none">/etc/mtab</filename>, create the
  following symbolic link:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">ln -sv /proc/self/mounts ${CLFS}/etc/mtab</userinput></screen>

</sect1>
  <sect1 id="ch-boot-devices" xml:base="common/devices.xml">
  <?dbhtml filename="devices.html"?>

  <title>Populating /dev</title>

  <indexterm zone="ch-boot-devices" significance="normal">
    <primary sortas="e-/dev/*">/dev/*</primary>
    <secondary>boot</secondary>
  </indexterm>

  <sect2>
    <title>Creating Initial Device Nodes</title>

    <para os="b">When the kernel boots the system, it requires the presence
    of a few device nodes, in particular the <filename class="devicefile" moreinfo="none">console</filename> and <filename class="devicefile" moreinfo="none">null</filename> devices. The device nodes will
    be created on the hard disk so that they are available before
    <command moreinfo="none">udev</command> has been started, and additionally when Linux
    is started in single user mode (hence the restrictive permissions on
    <filename class="devicefile" moreinfo="none">console</filename>). Create these by running
    the following commands:</para>

<screen format="linespecific"><userinput moreinfo="none">mknod -m 0600 ${CLFS}/dev/console c 5 1
mknod -m 0666 ${CLFS}/dev/null c 1 3</userinput></screen>

  </sect2>

</sect1>
  <sect1 id="ch-boot-pwdgroup" xml:base="common/pwdgroup.xml">
  <?dbhtml filename="pwdgroup.html"?>

  <title>Creating the passwd and group Files</title>

  <indexterm zone="ch-boot-pwdgroup" significance="normal">
    <primary sortas="e-/etc/passwd">/etc/passwd</primary>
    <secondary>boot</secondary>
  </indexterm>

  <indexterm zone="ch-boot-pwdgroup" significance="normal">
    <primary sortas="e-/etc/group">/etc/group</primary>
    <secondary>boot</secondary>
  </indexterm>

  <para os="a">In order for user <systemitem class="username" moreinfo="none">root</systemitem> to
  be able to login and for the name <quote>root</quote> to be recognized,
  there must be relevant entries in the <filename moreinfo="none">/etc/passwd</filename>
  and <filename moreinfo="none">/etc/group</filename> files.</para>

  <para>Create the <filename moreinfo="none">${CLFS}/etc/passwd</filename> file by running
  the following command:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; ${CLFS}/etc/passwd &lt;&lt; "EOF"
<literal moreinfo="none">root::0:0:root:/root:/bin/bash</literal>
<literal moreinfo="none">bin:x:1:1:/bin:/bin/false</literal>
<literal moreinfo="none">daemon:x:2:6:/sbin:/bin/false</literal>
<literal moreinfo="none">messagebus:x:27:27:D-Bus Message Daemon User:/dev/null:/bin/false</literal>
<literal moreinfo="none">systemd-bus-proxy:x:71:72:systemd Bus Proxy:/:/bin/false</literal>
<literal moreinfo="none">systemd-journal-gateway:x:73:73:systemd Journal Gateway:/:/bin/false</literal>
<literal moreinfo="none">systemd-journal-remote:x:74:74:systemd Journal Remote:/:/bin/false</literal>
<literal moreinfo="none">systemd-journal-upload:x:75:75:systemd Journal Upload:/:/bin/false</literal>
<literal moreinfo="none">systemd-network:x:76:76:systemd Network Management:/:/bin/false</literal>
<literal moreinfo="none">systemd-resolve:x:77:77:systemd Resolver:/:/bin/false</literal>
<literal moreinfo="none">systemd-timesync:x:78:78:systemd Time Synchronization:/:/bin/false</literal>
<literal moreinfo="none">systemd-coredump:x:79:79:systemd Core Dumper:/:/bin/false</literal>
<literal moreinfo="none">nobody:x:65534:65533:Unprivileged User:/dev/null:/bin/false</literal>
EOF</userinput></screen>

  <para os="b">The actual password for <systemitem class="username" moreinfo="none">root</systemitem>
  (the <quote>::</quote> used here is just a placeholder and allows you to login
  with no password) will be set later.</para>

  <variablelist os="c">

    <title>Additional users you may want to add if not already included:</title>

    <varlistentry>
      <term><literal moreinfo="none">adm:x:3:16:adm:/var/adm:/bin/false</literal></term>
      <listitem>
        <para>Was used for programs that performed administrative tasks.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">lp:x:10:9:lp:/var/spool/lp:/bin/false</literal></term>
      <listitem>
        <para>Used by programs for printing</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">mail:x:30:30:mail:/var/mail:/bin/false</literal></term>
      <listitem>
        <para>Often used by email programs</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">news:x:31:31:news:/var/spool/news:/bin/false</literal></term>
      <listitem>
        <para>Often used for network news servers</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">operator:x:50:0:operator:/root:/bin/bash</literal></term>
      <listitem>
        <para>Often used to allow system operators to access the system</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">postmaster:x:51:30:postmaster:/var/spool/mail:/bin/false</literal></term>
      <listitem>
        <para>Generally used as an account that receives all the information of troubles with the mail server</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para>Create the <filename moreinfo="none">${CLFS}/etc/group</filename> file by running
  the following command:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; ${CLFS}/etc/group &lt;&lt; "EOF"
<literal moreinfo="none">root:x:0:
bin:x:1:
sys:x:2:
kmem:x:3:
tty:x:5:
tape:x:4:
daemon:x:6:
floppy:x:7:
disk:x:8:
lp:x:9:
dialout:x:10:
audio:x:11:
video:x:12:
utmp:x:13:
usb:x:14:
cdrom:x:15:
adm:x:16:
mail:x:30:
messagebus:x:27:
nogroup:x:65533:
systemd-bus-proxy:x:72:
systemd-journal:x:28:
systemd-journal-gateway:x:73:
systemd-journal-remote:x:74:
systemd-journal-upload:x:75:
systemd-network:x:76:
systemd-resolve:x:77:
systemd-timesync:x:78:
systemd-coredump:x:79:
wheel:x:39:</literal>
EOF</userinput></screen>

  <variablelist os="d">

    <title>Additional groups you may want to add if not already included:</title>

    <varlistentry>
      <term><literal moreinfo="none">console:x:17:</literal></term>
      <listitem>
        <para>This group has direct access to the console</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">cdrw:x:18:</literal></term>
      <listitem>
        <para>This group is allowed to use the CDRW drive</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">news:x:31:news</literal></term>
      <listitem>
        <para>Used by Network News Servers</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">users:x:1000:</literal></term>
      <listitem>
        <para>The default GID used by shadow for new users</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">nobody:x:65533:</literal></term>
      <listitem>
        <para>This is used by NFS</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para os="e">The created groups are not part of any standard—they are
  groups decided on in part by the requirements of the Systemd configuration
  in the final system, and in part by common convention employed by a
  number of existing Linux distributions. The Linux Standard Base (LSB,
  available at
  <ulink url="http://www.linuxfoundation.org/collaborate/workgroups/lsb"/>)
  recommends only that, besides the group <quote>root</quote> with a Group ID
  (GID) of 0, a group <quote>bin</quote> with a GID of 1 be present. All other
  group names and GIDs can be chosen freely by the system administrator since
  well-written programs do not depend on GID numbers, but rather use the
  group's name.</para>

</sect1>
  <sect1 id="ch-boot-fstab" xml:base="common/fstab.xml">
  <?dbhtml filename="fstab.html"?>

  <title>Creating the /etc/fstab File</title>

  <indexterm zone="ch-boot-fstab" significance="normal">
    <primary sortas="e-/etc/fstab">/etc/fstab</primary>
    <secondary>boot</secondary>
  </indexterm>

  <para os="a">The <filename moreinfo="none">/etc/fstab</filename> file is used by some
  programs to determine where file systems are to be mounted by default,
  which must be checked, and in which order. Create a new file systems
  table like this:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; ${CLFS}/etc/fstab &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/fstab

# file system  mount-point  type   options          dump  fsck
#                                                         order

/dev/<replaceable>[xxx]</replaceable>     /            <replaceable>[fff]</replaceable>  defaults         1     1
/dev/<replaceable>[yyy]</replaceable>     swap         swap   pri=1            0     0
devpts         /dev/pts     devpts gid=5,mode=620   0     0
shm            /dev/shm     tmpfs  defaults         0     0

# End /etc/fstab</literal>
EOF</userinput></screen>

  <para os="b" xml:base="../../system-config/common/fstab.xml">Replace <replaceable>[xxx]</replaceable>,
  <replaceable>[yyy]</replaceable>, and <replaceable>[fff]</replaceable>
  with the values appropriate for the system, for example, <filename class="partition" moreinfo="none">sda2</filename>, <filename class="partition" moreinfo="none">sda5</filename>, and <systemitem class="filesystem" moreinfo="none">ext2</systemitem>. For details on the six
  fields in this file, see <command moreinfo="none">man 5 fstab</command>.</para>

  <para os="c">The <filename class="directory" moreinfo="none">/dev/shm</filename> mount point
  for <systemitem class="filesystem" moreinfo="none">tmpfs</systemitem> is included to
  allow enabling POSIX-shared memory. The kernel must have the required
  support built into it for this to work (more about this is in the next
  section). Please note that very little software currently uses
  POSIX-shared memory.  Therefore, consider the <filename class="directory" moreinfo="none">/dev/shm</filename> mount point optional. For more
  information, see <filename moreinfo="none">Documentation/filesystems/tmpfs.txt</filename>
  in the kernel source tree.</para>

</sect1>
  <sect1 id="ch-boot-settingenviron" xml:base="common/settingenviron.xml">
  <?dbhtml filename="settingenvironment.html"?>

  <title>Setting Up the Environment</title>

  <para>The new instance of the shell that will start when the system is booted is a <emphasis>login</emphasis>
  shell, which will read the <filename moreinfo="none">.bash_profile</filename> file. Create
  <filename moreinfo="none">.bash_profile</filename> now:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; ${CLFS}/root/.bash_profile &lt;&lt; "EOF"
<literal moreinfo="none">set +h
PS1='\u:\w\$ '
LC_ALL=POSIX
PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin:/tools/sbin
export LC_ALL PATH PS1</literal>
EOF</userinput></screen>

  <para>The <envar>LC_ALL</envar> variable controls the localization of
  certain programs, making their messages follow the conventions of a
  specified country.
  Setting <envar>LC_ALL</envar> to <quote>POSIX</quote> or <quote>C</quote>
  (the two are equivalent) ensures that everything will work as expected
  on your temporary system.</para>

  <para>By putting <filename class="directory" moreinfo="none">/tools/bin</filename> and
  <filename class="directory" moreinfo="none">/tools/sbin</filename> at
  the end of the standard <envar>PATH</envar>, all the programs installed in
  <xref linkend="chapter-temp-system"/> are only picked up by the shell
  if they have not yet been built on the target system. This configuration
  forces use of the final system binaries as they are built over the
  temp-system, minimising the chance of final system programs being built
  against the temp-system.</para>

</sect1>
  <sect1 id="ch-boot-flags" xml:base="64/flags.xml">
  <?dbhtml filename="flags.html"?>

  <title>Build Flags</title>

  <para>We will need to copy our build variables into our new system:</para>

<screen format="linespecific"><userinput moreinfo="none">echo export BUILD64=\""${BUILD64}\"" &gt;&gt; ${CLFS}/root/.bash_profile</userinput></screen>

</sect1>
  <sect1 id="ch-boot-changingowner" xml:base="common/changingowner.xml">
  <?dbhtml filename="changingowner.html"?>

  <title>Changing Ownership</title>

  <para os="a">Currently, the <filename class="directory" moreinfo="none">/tools</filename>
  and <filename class="directory" moreinfo="none">/cross-tools</filename> directories
  are owned by the user <emphasis>clfs</emphasis>, a user that
  exists only on the host system. Although <filename class="directory" moreinfo="none">/tools</filename> and <filename class="directory" moreinfo="none">/cross-tools</filename> can be deleted once the CLFS
  system has been finished, they can be retained to build
  additional CLFS systems. If the <filename class="directory" moreinfo="none">/tools</filename>
  and <filename class="directory" moreinfo="none">/cross-tools</filename> directories are
  kept as is, the files are owned by a user ID without a corresponding
  account. This is dangerous because a user account created later could
  get this same user ID and would own these directories and all the files
  therein, thus exposing those files to possible malicious manipulation.</para>

  <para os="b">One possible fix for this issue might be to add the
  <systemitem class="username" moreinfo="none">clfs</systemitem> user to the new CLFS system
  later when creating the <filename moreinfo="none">/etc/passwd</filename> file, taking care
  to assign it the same user and group IDs as on the host system. Alternatively,
  assign the contents of the <filename class="directory" moreinfo="none">/tools</filename>
  and <filename class="directory" moreinfo="none">/cross-tools</filename> directories to
  user <systemitem class="username" moreinfo="none">root</systemitem> by running the
  following commands:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">chown -Rv 0:0 ${CLFS}/tools
chown -Rv 0:0 ${CLFS}/cross-tools</userinput></screen>

</sect1>
  <sect1 id="ch-boot-how-to-view" xml:base="common/howtoview.xml">
  <?dbhtml filename="how-to-view.html"?>

  <title>How to View the Book</title>

  <para>Most likely, you have been using a web browser or PDF viewer to read
  the CLFS book so far. However, the temporary system in
  <filename class="directory" moreinfo="none">/tools</filename> does not have
  any of these, so you will need to find a way to continue following the book
  after booting into the temporary build environment. Possible solutions
  include:</para>

  <itemizedlist>

    <listitem>
      <para>Simply have the book open on another computer, or even read a
      printed copy, though one downside to this is that you cannot
      copy-and-paste commands.</para>
    </listitem>

    <listitem>
      <para>Convert the CLFS book into plain text, thus allowing it to be
      viewed with <command moreinfo="none">more</command> or <command moreinfo="none">view</command>, by using
      a command such as the following:</para>

<screen format="linespecific"><userinput moreinfo="none">lynx -dump /path/to/clfs/book.html &gt; ${CLFS}/root/CLFS-book.txt</userinput></screen>

    </listitem>

    <listitem>
      <para>Cross-compile and install additional programs before booting,
      such as Lynx or Links to view the book, or Dropbear to allow remote
      login. See the CLFS Hints website at <ulink url="http://hints.clfs.org/index.php/"/> for more
      suggestions by other users.</para>
    </listitem>

  </itemizedlist>

</sect1>
  <sect1 id="ch-boot-colo" xml:base="mips/colo.xml">
  <?dbhtml filename="colo.html"?>

  <title>Making the Temporary System Bootable</title>

  <indexterm zone="ch-boot-colo" significance="normal">
    <primary sortas="a-Colo">Colo</primary>
    <secondary>boot, configuring</secondary>
  </indexterm>

  <note os="a" xml:base="../../bootable/mips/colo.xml">
    <para>This bootloader is for the MIPS based cobalt servers RaQ,
    RaQ2, Qube, or the Qube2.</para>
  </note>

  <para os="b" xml:base="../../bootable/x86/grub.xml">Boot loading can be a complex area, so a few cautionary words
  are in order. Be familiar with the current boot loader and any other
  operating systems present on the hard drive(s) that need to be bootable.
  Make sure that an emergency boot disk is ready to <quote>rescue</quote>
  the computer if the computer becomes unusable (un-bootable).</para>

  <para os="d" xml:base="../../bootable/mips/colo.xml">Earlier, we compiled and installed the Cobalt boot loader
  software in preparation for this step. Now we will configure our system
  to boot using Colo. Here is a simple <filename moreinfo="none">default.colo</filename>
  to use.</para>

<screen os="aa" format="linespecific"><userinput moreinfo="none">cat &gt; ${CLFS}/boot/default.colo &lt;&lt; "EOF"
#:CoLo:#
#
# load linux
#
lcd 'Booting 4.9.21...'
load vmlinux-4.9.21.gz
execute root=/dev/hda2 console=ttyS0,115200 ide1=noprobe
EOF</userinput></screen>

</sect1>
  <sect1 id="ch-boot-whatnext" xml:base="common/whatnext.xml">
  <?dbhtml filename="whatnext.html"?>

  <title>What to do next</title>

  <para>Now you're at the point to get your <filename class="directory" moreinfo="none">${CLFS}</filename> directory copied over to your target
  machine. The easiest method would be to tar it up and copy the file.</para>

<screen format="linespecific"><userinput moreinfo="none">tar -jcvf ${CLFS}.tar.bz2 ${CLFS}</userinput></screen>

<!--
  <para>Some others have came up with other ideas on how to do this.
  Below is a table with the method and link to where the information
  is stored.</para>

  <table>
    <title>Boot Methods</title>
    <?dbfo table-width="6in" ?>

    <tgroup cols="3">

      <colspec colnum="1" colwidth="1in"   colname="Method"/>
      <colspec colnum="2" colwidth="2.5in" colname="Arch"/>
      <colspec colnum="3" colwidth="2.5in" colname="Link"/>

      <thead>
        <row>
          <entry>Boot Method</entry>
          <entry>For Architectures</entry>
          <entry>Hyperlink</entry>
        </row>
      </thead>

      <tbody>
        <row>
          <entry>nfsroot</entry>
          <entry>MIPS, PPC, Sparc, x86, and x86_64</entry>
          <entry><ulink url="http://documents.jg555.com/netboot"/></entry>
        </row>
      </tbody>

    </tgroup>

  </table>
-->

</sect1>

</chapter>
    <chapter id="chapter-chroot" xreflabel="If You Are Going to Chroot" xml:base="chroot/mips64-64-chapter.xml">
  <?dbhtml dir="chroot"?>
  <?dbhtml filename="chapter.html"?>

  <title>If You Are Going to Chroot</title>

  <sect1 id="ch-chroot-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>This chapter shows how to prepare a <command moreinfo="none">chroot</command>
  jail to build the final system packages into.</para>

</sect1>
  <sect1 id="ch-chroot-kernfs" xml:base="common/kernfs.xml">
  <?dbhtml filename="kernfs.html"?>

  <title>Mounting Virtual Kernel File Systems</title>

    <note os="a">
      <para>The commands in the remainder of the book should be run as
      the <systemitem class="username" moreinfo="none">root</systemitem> user. Check
      that ${CLFS} is set in the
      <systemitem class="username" moreinfo="none">root</systemitem> user’s environment
       before proceeding.</para>
    </note>

  <para>Various file systems exported by the kernel are used to communicate
  to and from the kernel itself. These file systems are virtual in that no
  disk space is used for them. The content of the file systems resides in
  memory.</para>

  <para>Begin by creating directories onto which the file systems will
  be mounted:</para>

<screen format="linespecific"><userinput moreinfo="none">mkdir -pv ${CLFS}/{dev,proc,run,sys}</userinput></screen>

  <para>Two device nodes, <filename class="devicefile" moreinfo="none">/dev/console</filename>
  and <filename class="devicefile" moreinfo="none">/dev/null</filename>, are required to be
  present on the file system. These are needed by the kernel even before
  starting Udev early in the boot process, so we create them here:</para>

<screen format="linespecific"><userinput moreinfo="none">mknod -m 600 ${CLFS}/dev/console c 5 1
mknod -m 666 ${CLFS}/dev/null c 1 3</userinput></screen>

  <para>Once the system is complete and booting, the rest of our device
  nodes will be created by the kernel's
  <systemitem class="filesystem" moreinfo="none">devtmpfs</systemitem> file system. For now
  though, we will just use the <quote>bind</quote> option in the mount command
  to make our host system's <filename class="directory" moreinfo="none">/dev</filename> structure appear in the new CLFS file system:</para>

<screen format="linespecific"><userinput moreinfo="none">mount -v -o bind /dev ${CLFS}/dev</userinput></screen>

  <para>Now mount the remaining file systems:</para>

<screen format="linespecific"><userinput moreinfo="none">mount -vt devpts -o gid=5,mode=620 devpts ${CLFS}/dev/pts
mount -vt proc proc ${CLFS}/proc
mount -vt tmpfs tmpfs ${CLFS}/run
mount -vt sysfs sysfs ${CLFS}/sys</userinput></screen>

  <para>On some host systems, <filename class="directory" moreinfo="none">/dev/shm</filename>
  is a symbolic link to <filename class="directory" moreinfo="none">/run/shm</filename>.
  If it is, create a directory in <filename class="directory" moreinfo="none">/run</filename>:</para>

<screen format="linespecific"><userinput moreinfo="none">[ -h ${CLFS}/dev/shm ] &amp;&amp; mkdir -pv ${CLFS}/$(readlink ${CLFS}/dev/shm)</userinput></screen>

  <para>Remember that if for any reason you stop working on the CLFS system
  and start again later, it is important to check that these file systems
  are mounted again before entering the chroot environment.</para>

</sect1>
  <sect1 id="ch-chroot-chroot" xml:base="common/chroot.xml">
  <?dbhtml filename="chroot.html"?>

  <title>Entering the Chroot Environment</title>

  <para>It is time to enter the chroot environment to begin building
  and installing the final CLFS system. As user <systemitem class="username" moreinfo="none">root</systemitem>, run the following command to
  enter the realm that is, at the moment, populated with only the
  temporary tools:</para>

<screen format="linespecific"><userinput moreinfo="none">chroot "${CLFS}" /tools/bin/env -i \
    HOME=/root TERM="${TERM}" PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin \
    /tools/bin/bash --login +h</userinput></screen>

  <para>The <parameter moreinfo="none">-i</parameter> option given to the
  <command moreinfo="none">env</command> command will clear all variables of the chroot
  environment. After that, only the <envar>HOME</envar>,
  <envar>TERM</envar>, <envar>PS1</envar>, and
  <envar>PATH</envar> variables are set again. The
  <parameter moreinfo="none">TERM=${TERM}</parameter> construct will set the
  <envar>TERM</envar> variable inside chroot to the same value as
  outside chroot. This variable is needed for programs like
  <command moreinfo="none">vim</command> and <command moreinfo="none">less</command> to operate
  properly.  If other variables are needed, such as
  <envar>CFLAGS</envar> or <envar>CXXFLAGS</envar>, this is
  a good place to set them again.</para>

  <para>From this point on, there is no need to use the
  <envar>CLFS</envar> variable anymore, because all work will be
  restricted to the CLFS file system.  This is because the Bash shell is
  told that <filename class="directory" moreinfo="none">${CLFS}</filename> is now the root
  (<filename class="directory" moreinfo="none">/</filename>) directory.</para>

  <para>Notice that <filename class="directory" moreinfo="none">/tools/bin</filename> comes
  last in the <envar>PATH</envar>. This means that a temporary tool will no
  longer be used once its final version is installed. This occurs when the
  shell does not <quote>remember</quote> the locations of executed
  binaries—for this reason, hashing is switched off by passing the
  <parameter moreinfo="none">+h</parameter> option to <command moreinfo="none">bash</command>.</para>

  <para>It is important that all the commands throughout the remainder
  of this chapter and the following chapters are run from within the
  chroot environment. If you leave this environment for any reason
  (rebooting for example), remember to first mount the <systemitem class="filesystem" moreinfo="none">proc</systemitem> and <systemitem class="filesystem" moreinfo="none">devpts</systemitem> file systems (discussed in the
  previous section) and enter chroot again before continuing with the
  installations.</para>

  <para>Note that the <command moreinfo="none">bash</command> prompt will say
  <computeroutput moreinfo="none">I have no name!</computeroutput> This is normal because the
  <filename moreinfo="none">/etc/passwd</filename> file has not been created yet.</para>

</sect1>
  <sect1 id="ch-chroot-changingowner" xml:base="common/changingowner.xml">
  <?dbhtml filename="changingowner.html"?>

  <title>Changing Ownership</title>

    <para os="a">Currently, the <filename class="directory" moreinfo="none">/tools</filename>
    and <filename class="directory" moreinfo="none">/cross-tools</filename> directories
    are owned by the user <emphasis>clfs</emphasis>, a user that
    exists only on the host system. Although <filename class="directory" moreinfo="none">/tools</filename> and <filename class="directory" moreinfo="none">/cross-tools</filename> can be deleted once the CLFS
    system has been finished, they can be retained to build
    additional CLFS systems. If the <filename class="directory" moreinfo="none">/tools</filename>
    and <filename class="directory" moreinfo="none">/cross-tools</filename> directories are
    kept as is, the files are owned by a user ID without a corresponding
    account. This is dangerous because a user account created later could
    get this same user ID and would own these directories and all the files
    therein, thus exposing those files to possible malicious manipulation.</para>

    <para os="b">One possible fix for this issue might be to add the
    <systemitem class="username" moreinfo="none">clfs</systemitem> user to the new CLFS system
    later when creating the <filename moreinfo="none">/etc/passwd</filename> file, taking care
    to assign it the same user and group IDs as on the host system. Alternatively,
    assign the contents of the <filename class="directory" moreinfo="none">/tools</filename>
    and <filename class="directory" moreinfo="none">/cross-tools</filename> directories to
    user <systemitem class="username" moreinfo="none">root</systemitem> by running the
    following commands:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">chown -Rv 0:0 /tools
chown -Rv 0:0 /cross-tools</userinput></screen>

    <para os="d">The commands use <parameter moreinfo="none">0:0</parameter> instead of
    <parameter moreinfo="none">root:root</parameter>, because <command moreinfo="none">chown</command>
    is unable to resolve the name <quote>root</quote> until the
    <filename moreinfo="none">passwd</filename> file has been created.</para>

</sect1>
  <sect1 id="ch-chroot-creatingdirs" xml:base="mips/creatingdirs.xml">
  <?dbhtml filename="creatingdirs.html"?>

  <title>Creating Directories</title>

  <para os="b" xml:base="../../boot/common/creatingdirs.xml">It is time to create some structure in the CLFS file system. Create a
  standard directory tree by issuing the following commands:</para>

  <screen os="c" xml:base="../common/creatingdirs.xml" format="linespecific"><userinput moreinfo="none">mkdir -pv /{bin,boot,dev,{etc/,}opt,home,lib,mnt}
mkdir -pv /{proc,media/{floppy,cdrom},run/shm,sbin,srv,sys}
mkdir -pv /var/{lock,log,mail,spool}
mkdir -pv /var/{opt,cache,lib/{misc,locate},local}
install -dv -m 0750 /root
install -dv -m 1777 {/var,}/tmp
ln -sv ../run /var/run
mkdir -pv /usr/{,local/}{bin,include,lib,sbin,src}
mkdir -pv /usr/{,local/}share/{doc,info,locale,man}
mkdir -pv /usr/{,local/}share/{misc,terminfo,zoneinfo}
mkdir -pv /usr/{,local/}share/man/man{1..8}</userinput></screen>

   <para os="m1">These entries are needed for the RaQ2 bootloader. Only use these
   if you are utilizing the Colo bootloader:</para>

<screen os="m2" format="linespecific"><userinput moreinfo="none">cd /boot
ln -svf . boot</userinput></screen>

  <para os="d" xml:base="../../boot/common/creatingdirs.xml">Directories are, by default, created with permission mode 755,
  but this is not desirable for all directories. In the commands above,
  two changes are made—one to the home directory of user
  <systemitem class="username" moreinfo="none">root</systemitem>, and another to the
  directories for temporary files.</para>

  <para os="e" xml:base="../../boot/common/creatingdirs.xml">The first mode change ensures that not just anybody can enter
  the <filename class="directory" moreinfo="none">/root</filename> directory—the
  same as a normal user would do with his or her home directory. The
  second mode change makes sure that any user can write to the
  <filename class="directory" moreinfo="none">/tmp</filename> and
  <filename class="directory" moreinfo="none">/var/tmp</filename> directories, but
  cannot remove another user's files from them. The latter is prohibited
  by the so-called <quote>sticky bit,</quote> the highest bit (1) in the
  1777 bit mask.</para>

  <sect2 os="f" xml:base="../../boot/common/creatingdirs.xml">
    <title>FHS Compliance Note</title>

    <para>The directory tree is based on the Filesystem Hierarchy Standard
    (FHS) (available at <ulink url="https://wiki.linuxfoundation.org/en/FHS"/>).
    In addition to the tree created above, this standard stipulates the
    existence of <filename class="directory" moreinfo="none">/usr/local/games</filename>
    and <filename class="directory" moreinfo="none">/usr/share/games</filename>. The FHS
    is not precise as to the structure of the <filename class="directory" moreinfo="none">/usr/local/share</filename> subdirectory, so we
    create only the directories that are needed. However, feel free to
    create these directories if you prefer to conform more strictly to
    the FHS.</para>

  </sect2>

</sect1>
  <sect1 id="ch-chroot-createfiles" xml:base="common/createfiles.xml">
  <?dbhtml filename="createfiles.html"?>

  <title>Creating Essential Symlinks</title>

    <para os="a" xml:base="../../boot/common/createfiles.xml">Some programs use hard-wired paths to files which do not exist
  yet. In order to satisfy these programs, create a number of symbolic
  links which will be replaced by real files throughout the course of
  the next chapter after the software has been installed.</para>

<screen format="linespecific"><userinput moreinfo="none">ln -sv /tools/bin/{bash,cat,echo,grep,pwd,stty} /bin
ln -sv /tools/bin/file /usr/bin
ln -sv /tools/lib/libgcc_s.so{,.1} /usr/lib
ln -sv /tools/lib/libstdc++.so{.6,} /usr/lib
sed -e 's/tools/usr/' /tools/lib/libstdc++.la &gt; /usr/lib/libstdc++.la
ln -sv bash /bin/sh</userinput></screen>

    <variablelist os="c">
      <title>The purpose of each link:</title>

      <varlistentry os="c1" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/bash</filename></parameter></term>
      <listitem>
        <para>Many <command moreinfo="none">bash</command> scripts specify
        <filename moreinfo="none">/bin/bash</filename>.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c2" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/cat</filename></parameter></term>
      <listitem>
        <para>This pathname is hard-coded into Glibc's configure script.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c3" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/echo</filename></parameter></term>
      <listitem>
        <para>This is to satisfy one of the tests in Glibc's test suite, which
        expects <filename moreinfo="none">/bin/echo</filename>.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c4" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/grep</filename></parameter></term>
      <listitem>
        <para>This to avoid a hard-coded
        <filename class="directory" moreinfo="none">/tools</filename> reference in Libtool.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c6" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/pwd</filename></parameter></term>
      <listitem>
        <para>Some <command moreinfo="none">configure</command> scripts, particularly Glibc's,
        have this pathname hard-coded.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c7" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/stty</filename></parameter></term>
      <listitem>
        <para>This pathname is hard-coded into Expect, therefore it is needed
        for Binutils and GCC test suites to pass.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c8" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/bin/file</filename></parameter></term>
      <listitem>
        <para>Binutils' <command moreinfo="none">configure</command> scripts specify this
        command location.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c9" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/lib/libgcc_s.so{,.1}</filename></parameter></term>
      <listitem>
        <para>Glibc needs this for the pthreads library to work.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c10" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/lib/libstdc++{,.6}</filename></parameter></term>
      <listitem>
        <para>This is needed by several tests in Glibc's test suite, as well as
        for C++ support in GMP.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c11" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/usr/lib/libstdc++.la</filename></parameter></term>
      <listitem>
        <para>This prevents a <filename class="directory" moreinfo="none">/tools</filename>
        reference that would otherwise be in
        <filename moreinfo="none">/usr/lib/libstdc++.la</filename> after GCC is installed.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c12" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/bin/sh</filename></parameter></term>
      <listitem>
        <para>Many shell scripts hard-code <filename moreinfo="none">/bin/sh</filename>.</para>
      </listitem>
    </varlistentry>

      <varlistentry os="c13" xml:base="../../boot/common/createfiles.xml">
      <term><parameter moreinfo="none"><filename moreinfo="none">/sbin/init</filename></parameter></term>
      <listitem>
        <para>This is where the kernel expects to find <command moreinfo="none">init</command>.</para>
      </listitem>
    </varlistentry>

    </variablelist>

    <para os="d" xml:base="../../boot/common/createfiles.xml">Historically, Linux maintains a list of the mounted file systems
  in the file <filename moreinfo="none">/etc/mtab</filename>. Modern kernels maintain this list
  internally and expose it to the user via the
  <filename class="directory" moreinfo="none">/proc</filename> filesystem. To satisfy utilities
  that expect the presence of <filename moreinfo="none">/etc/mtab</filename>, create the
  following symbolic link:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">ln -sv /proc/self/mounts /etc/mtab</userinput></screen>

</sect1>
  <sect1 id="ch-chroot-flags" xml:base="mips64-64/flags.xml">
  <?dbhtml filename="flags.html"?>

  <title>Build Flags</title>

  <para>We will need to setup target specific flags for the compiler
  and linkers.</para>

<screen format="linespecific"><userinput moreinfo="none">export BUILD64="-mabi=64"</userinput></screen>

   <para>To prevent errors when you come back to your build, we will export these
   variables to prevent any build issues in the future:</para>

<screen format="linespecific"><userinput moreinfo="none">echo export BUILD64=\""${BUILD64}\"" &gt;&gt; ~/.bash_profile</userinput></screen>

</sect1>
  <sect1 id="ch-chroot-pwdgroup" xml:base="common/pwdgroup.xml">
  <?dbhtml filename="pwdgroup.html"?>

  <title>Creating the passwd and group Files</title>

  <indexterm zone="ch-chroot-pwdgroup" significance="normal">
    <primary sortas="e-/etc/passwd">/etc/passwd</primary>
    <secondary>chroot</secondary>
  </indexterm>

  <indexterm zone="ch-chroot-pwdgroup" significance="normal">
    <primary sortas="e-/etc/group">/etc/group</primary>
    <secondary>chroot</secondary>
  </indexterm>

  <para os="a" xml:base="../../boot/common/pwdgroup.xml">In order for user <systemitem class="username" moreinfo="none">root</systemitem> to
  be able to login and for the name <quote>root</quote> to be recognized,
  there must be relevant entries in the <filename moreinfo="none">/etc/passwd</filename>
  and <filename moreinfo="none">/etc/group</filename> files.</para>

  <para>Create the <filename moreinfo="none">/etc/passwd</filename> file by running the
  following command:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/passwd &lt;&lt; "EOF"
<literal moreinfo="none">root:x:0:0:root:/root:/bin/bash</literal>
<literal moreinfo="none">bin:x:1:1:/bin:/bin/false</literal>
<literal moreinfo="none">daemon:x:2:6:/sbin:/bin/false</literal>
<literal moreinfo="none">messagebus:x:27:27:D-Bus Message Daemon User:/dev/null:/bin/false</literal>
<literal moreinfo="none">systemd-bus-proxy:x:71:72:systemd Bus Proxy:/:/bin/false</literal>
<literal moreinfo="none">systemd-journal-gateway:x:73:73:systemd Journal Gateway:/:/bin/false</literal>
<literal moreinfo="none">systemd-journal-remote:x:74:74:systemd Journal Remote:/:/bin/false</literal>
<literal moreinfo="none">systemd-journal-upload:x:75:75:systemd Journal Upload:/:/bin/false</literal>
<literal moreinfo="none">systemd-network:x:76:76:systemd Network Management:/:/bin/false</literal>
<literal moreinfo="none">systemd-resolve:x:77:77:systemd Resolver:/:/bin/false</literal>
<literal moreinfo="none">systemd-timesync:x:78:78:systemd Time Synchronization:/:/bin/false</literal>
<literal moreinfo="none">systemd-coredump:x:79:79:systemd Core Dumper:/:/bin/false</literal>
<literal moreinfo="none">nobody:x:65534:65533:Unprivileged User:/dev/null:/bin/false</literal>
EOF</userinput></screen>

  <para os="b">The actual password for
  <systemitem class="username" moreinfo="none">root</systemitem> (the <quote>x</quote>
  used here is just a placeholder) will be set later.</para>

  <variablelist os="c" xml:base="../../boot/common/pwdgroup.xml">

    <title>Additional users you may want to add if not already included:</title>

    <varlistentry>
      <term><literal moreinfo="none">adm:x:3:16:adm:/var/adm:/bin/false</literal></term>
      <listitem>
        <para>Was used for programs that performed administrative tasks.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">lp:x:10:9:lp:/var/spool/lp:/bin/false</literal></term>
      <listitem>
        <para>Used by programs for printing</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">mail:x:30:30:mail:/var/mail:/bin/false</literal></term>
      <listitem>
        <para>Often used by email programs</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">news:x:31:31:news:/var/spool/news:/bin/false</literal></term>
      <listitem>
        <para>Often used for network news servers</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">operator:x:50:0:operator:/root:/bin/bash</literal></term>
      <listitem>
        <para>Often used to allow system operators to access the system</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">postmaster:x:51:30:postmaster:/var/spool/mail:/bin/false</literal></term>
      <listitem>
        <para>Generally used as an account that receives all the information of troubles with the mail server</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para>Create the <filename moreinfo="none">/etc/group</filename> file by running the
  following command:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/group &lt;&lt; "EOF"
<literal moreinfo="none">root:x:0:
bin:x:1:
sys:x:2:
kmem:x:3:
tty:x:5:
tape:x:4:
daemon:x:6:
floppy:x:7:
disk:x:8:
lp:x:9:
dialout:x:10:
audio:x:11:
video:x:12:
utmp:x:13:
usb:x:14:
cdrom:x:15:
adm:x:16:
mail:x:30:
messagebus:x:27:
nogroup:x:65533:
systemd-bus-proxy:x:72:
systemd-journal:x:28:
systemd-journal-gateway:x:73:
systemd-journal-remote:x:74:
systemd-journal-upload:x:75:
systemd-network:x:76:
systemd-resolve:x:77:
systemd-timesync:x:78:
systemd-coredump:x:79:
wheel:x:39:</literal>
EOF</userinput></screen>

  <variablelist os="d" xml:base="../../boot/common/pwdgroup.xml">

    <title>Additional groups you may want to add if not already included:</title>

    <varlistentry>
      <term><literal moreinfo="none">console:x:17:</literal></term>
      <listitem>
        <para>This group has direct access to the console</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">cdrw:x:18:</literal></term>
      <listitem>
        <para>This group is allowed to use the CDRW drive</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">news:x:31:news</literal></term>
      <listitem>
        <para>Used by Network News Servers</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">users:x:1000:</literal></term>
      <listitem>
        <para>The default GID used by shadow for new users</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><literal moreinfo="none">nobody:x:65533:</literal></term>
      <listitem>
        <para>This is used by NFS</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para os="e" xml:base="../../boot/common/pwdgroup.xml">The created groups are not part of any standard—they are
  groups decided on in part by the requirements of the Systemd configuration
  in the final system, and in part by common convention employed by a
  number of existing Linux distributions. The Linux Standard Base (LSB,
  available at
  <ulink url="http://www.linuxfoundation.org/collaborate/workgroups/lsb"/>)
  recommends only that, besides the group <quote>root</quote> with a Group ID
  (GID) of 0, a group <quote>bin</quote> with a GID of 1 be present. All other
  group names and GIDs can be chosen freely by the system administrator since
  well-written programs do not depend on GID numbers, but rather use the
  group's name.</para>

  <para>To remove the <quote>I have no name!</quote> prompt, start a
  new shell. Since a full Glibc was installed in <xref linkend="chapter-cross-tools"/> and the <filename moreinfo="none">/etc/passwd</filename>
  and <filename moreinfo="none">/etc/group</filename> files have been created, user name
  and group name resolution will now work.</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">exec /tools/bin/bash --login +h</userinput></screen>

  <para>Note the use of the <parameter moreinfo="none">+h</parameter> directive. This tells
  <command moreinfo="none">bash</command> not to use its internal path hashing. Without this
  directive, <command moreinfo="none">bash</command> would remember the paths to binaries it
  has executed. To ensure the use of the newly compiled binaries as soon as
  they are installed, the <parameter moreinfo="none">+h</parameter> directive will be used
  for the duration of the next chapters.</para>

</sect1>

</chapter>

  </part>

  <part id="part5">
    <?dbhtml filename="part5.html"?>

    <title>Building the CLFS System</title>

    <chapter id="chapter-testsuite-tools" xreflabel="Constructing Testsuite Tools" xml:base="testsuite-tools/mips64-64-chapter.xml">
  <?dbhtml dir="testsuite-tools"?>
  <?dbhtml filename="chapter.html"?>

  <title>Constructing Testsuite Tools</title>

  <sect1 id="ch-testsuite-tools-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>This chapter builds the tools needed by some packages to run the tests
  that they have. I.e., <command moreinfo="none">make check</command>. Tcl, Expect,
  and DejaGNU are needed for the GCC, Binutils, and Findutils test suites.
  Installing three packages for testing purposes may seem excessive, but it is
  very reassuring, if not essential, to know that the most important tools are
  working properly.</para>

</sect1>
  <sect1 id="ch-testsuite-tools-tcl" role="wrap" xml:base="common/tcl.xml">
  <?dbhtml filename="tcl.html"?>

  <title>Tcl-8.6.4</title>

  <indexterm zone="ch-testsuite-tools-tcl" significance="normal">
    <primary sortas="a-Tcl">Tcl</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Tcl package contains the Tool Command Language.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Tcl</title>

    <para os="a">Prepare Tcl for compilation:</para>

<screen format="linespecific"><userinput moreinfo="none">cd unix
./configure \
    --prefix=/tools</userinput></screen>

    <para os="c">Build the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Install the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="g">Tcl's private header files are needed for the next
    package, Expect. Install them into /tools:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install-private-headers</userinput></screen>

    <para os="i">Now make a necessary symbolic link:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">ln -sv tclsh8.6 /tools/bin/tclsh</userinput></screen>

  </sect2>

  <sect2 id="contents-tcl" role="content">
    <title>Contents of Tcl</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>

      <seglistitem>
        <seg>tclsh (link to tclsh8.6) and tclsh8.6</seg>
        <seg>libtcl8.6.so, libtclstub8.6.a</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="tclsh-version">
        <term><command moreinfo="none">tclsh8.6</command></term>
        <listitem>
          <para>The Tcl command shell</para>
          <indexterm zone="ch-testsuite-tools-tcl tclsh-version" significance="normal">
            <primary sortas="b-tclsh-version">tclsh-version;</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tclsh">
        <term><command moreinfo="none">tclsh</command></term>
        <listitem>
          <para>A link to tclsh8.6</para>
          <indexterm zone="ch-testsuite-tools-tcl tclsh" significance="normal">
            <primary sortas="b-tclsh">tclsh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libtcl-version.so">
        <term><filename class="libraryfile" moreinfo="none">libtcl8.6.so</filename></term>
        <listitem>
          <para>The Tcl library</para>
          <indexterm zone="ch-testsuite-tools-tcl libtcl-version.so" significance="normal">
            <primary sortas="c-libtcl-version.so">libtcl-version.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libtclstub-version.a">
        <term><filename class="libraryfile" moreinfo="none">libtclstub8.6.a</filename></term>
        <listitem>
          <para>The Tcl Stub library</para>
          <indexterm zone="ch-testsuite-tools-tcl libtclstub-version.a" significance="normal">
            <primary sortas="c-libtclstub-version.a">libtclstub-version.a</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-testsuite-tools-expect" role="wrap" xml:base="common/expect.xml">
  <?dbhtml filename="expect.html"?>

  <title>Expect-5.45</title>

  <indexterm zone="ch-testsuite-tools-expect" significance="normal">
    <primary sortas="a-Expect">Expect</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Expect package contains a program for carrying out scripted
    dialogues with other interactive programs.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Expect</title>

    <para os="c">Now prepare Expect for compilation:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools \
    --with-tcl=/tools/lib \
    --with-tclinclude=/tools/include</userinput></screen>

    <variablelist os="e">
      <title>The meaning of the configure options:</title>

      <varlistentry os="e1">
        <term><parameter moreinfo="none">--with-tcl=/tools/lib</parameter></term>
        <listitem>
          <para>This ensures that the configure script finds the Tcl
          installation in the temporary testsuite-tools location.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="e2">
        <term><parameter moreinfo="none">--with-tclinclude=/tools/include</parameter></term>
        <listitem>
          <para>This explicitly tells Expect where to find Tcl's internal headers.
           Using this option avoids conditions
          where <command moreinfo="none">configure</command> fails because it cannot
          automatically discover the location of the Tcl source directory.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="f">Build the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="i">Install the package:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make SCRIPTS="" install</userinput></screen>

    <variablelist os="k">
      <title>The meaning of the make parameter:</title>

      <varlistentry>
        <term><parameter moreinfo="none">SCRIPTS=""</parameter></term>
        <listitem>
          <para>This prevents installation of the supplementary expect
          scripts, which are not needed.</para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

  <sect2 id="contents-expect" role="content">
    <title>Contents of Expect</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>
      <segtitle>Installed library</segtitle>

      <seglistitem>
        <seg>expect</seg>
        <seg>libexpect-5.43.a</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="expect">
        <term><command moreinfo="none">expect</command></term>
        <listitem>
          <para>Communicates with other interactive programs according
          to a script</para>
          <indexterm zone="ch-testsuite-tools-expect expect" significance="normal">
            <primary sortas="b-expect">expect</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libexpect">
        <term><filename class="libraryfile" moreinfo="none">libexpect-5.43.a</filename></term>
        <listitem>
          <para>Contains functions that allow Expect to be used as a Tcl
          extension or to be used directly from C or C++ (without Tcl)</para>
          <indexterm zone="ch-testsuite-tools-expect libexpect" significance="normal">
            <primary sortas="c-libexpect-5.43">libexpect-5.43</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-testsuite-tools-dejagnu" role="wrap" xml:base="common/dejagnu.xml">
  <?dbhtml filename="dejagnu.html"?>

  <title>DejaGNU-1.6</title>

  <indexterm zone="ch-testsuite-tools-dejagnu" significance="normal">
    <primary sortas="a-DejaGNU">DejaGNU</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The DejaGNU package contains a framework for testing other
    programs.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of DejaGNU</title>

    <para os="a">Prepare DejaGNU for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/tools</userinput></screen>

    <para os="c">Build and install the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-dejagnu" role="content">
    <title>Contents of DejaGNU</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>

      <seglistitem>
        <seg>runtest</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="runtest">
        <term><command moreinfo="none">runtest</command></term>
        <listitem>
          <para>A wrapper script that locates the proper
          <command moreinfo="none">expect</command> shell and then runs DejaGNU</para>
          <indexterm zone="ch-testsuite-tools-dejagnu runtest" significance="normal">
            <primary sortas="b-runtest">runtest</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>

</chapter>
    <chapter id="chapter-building-system" xreflabel="Installing Basic System Software" xml:base="final-system/mips64-64-chapter.xml">
  <?dbhtml dir="final-system"?>
  <?dbhtml filename="chapter.html"?>

  <title>Installing Basic System Software</title>

  <sect1 id="ch-system-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para os="a">In this chapter, we enter the building site and start
  constructing the CLFS system in earnest. The installation of this
  software is straightforward. Although in many cases the installation
  instructions could be made shorter and more generic, we have opted
  to provide the full instructions for every package to minimize the
  possibilities for mistakes.  The key to learning what makes a Linux
  system work is to know what each package is used for and why the user
  (or the system) needs it.  For every installed package, a summary of
  its contents is given, followed by concise descriptions of each
  program and library the package installed.</para>

  <para os="b">If using compiler optimizations, please review the
  optimization hint at <ulink url="http://hints.clfs.org/index.php/Optimization"/>.
  Compiler optimizations can make a program run slightly faster, but
  they may also cause compilation difficulties and problems when
  running the program. If a package refuses to compile when using
  optimization, try to compile it without optimization and see if
  that fixes the problem. Even if the package
  does compile when using optimization, there is the risk it may have
  been compiled incorrectly because of the complex interactions between
  the code and build tools.  Also note that the <option>-march</option>
  and <option>-mtune</option> options may cause problems with the toolchain
  packages (Binutils, GCC and Glibc). The small potential gains achieved in
  using compiler optimizations are often outweighed by the risks. First-time
  builders of CLFS are encouraged to build without custom optimizations.
  The subsequent system will still run very fast and be stable at the
  same time.</para>

  <para os="c">The order that packages are installed in this chapter needs to
  be strictly followed to ensure that no program accidentally acquires a
  path referring to <filename class="directory" moreinfo="none">/tools</filename>
  hard-wired into it. For the same reason, do not compile packages in
  parallel. Compiling in parallel may save time (especially on dual-CPU
  machines), but it could result in a program containing a hard-wired
  path to <filename class="directory" moreinfo="none">/tools</filename>, which will
  cause the program to stop working when that directory is
  removed.</para>

  <para os="d">To keep track of which package installs particular files, a
  package manager can be used. For a general overview of different styles of
  package managers, please take a look at the next page.</para>

</sect1>
  <sect1 id="ch-system-pkgmgt" xml:base="common/pkgmgt.xml">
  <?dbhtml filename="pkgmgt.html"?>

  <title>Package Management</title>

  <para>Package Management is an often-requested addition to the CLFS Book. A
  Package Manager allows tracking the installation of files making it easy to
  remove and upgrade packages. Before you begin to wonder, NO—this section
  will not talk about nor recommend any particular package manager. What it
  provides is a roundup of the more popular techniques and how they work. The
  perfect package manager for you may be among these techniques or may be a
  combination of two or more of these techniques. This section briefly mentions
  issues that may arise when upgrading packages.</para>

  <para>Some reasons why no specific package manager is recommended in
  CLFS or CBLFS include:</para>

  <itemizedlist>
    <listitem>
      <para>Dealing with package management takes the focus away from the goals
      of these books—teaching how a Linux system is built.</para>
    </listitem>

    <listitem>
      <para>There are multiple solutions for package management, each having
      its strengths and drawbacks. Including one that satisfies all audiences
      is difficult.</para>
    </listitem>
  </itemizedlist>

  <para>There are some hints written on the topic of package management. Visit
  the <ulink url="http://hints.clfs.org/index.php/">Hints subproject</ulink> and see if one of them
  fits your need.</para>

  <sect2>
    <title>Upgrade Issues</title>

    <para>A Package Manager makes it easy to upgrade to newer versions when they
    are released. Generally the instructions in CLFS and CBLFS can be
    used to upgrade to the newer versions. Here are some points that you should
    be aware of when upgrading packages, especially on a running system.</para>

    <itemizedlist>
      <listitem>
        <para>If one of the toolchain packages (Glibc, GCC or Binutils) needs
        to be upgraded to a newer minor version, it is safer to
        rebuild CLFS. Though you <emphasis>may</emphasis> be able to get by
        rebuilding all the packages in their dependency order, we do not
        recommend it. For example, if glibc-2.2.x needs to be updated to
        glibc-2.3.x, it is safer to rebuild. For micro version updates, a
        simple reinstallation usually works, but is not guaranteed. For
        example, upgrading from glibc-2.3.4 to glibc-2.3.5 will not
        usually cause any problems.</para>
      </listitem>

      <listitem>
        <para>If a package containing a shared library is updated, and if the
        name of the library changes, then all the packages dynamically linked
        to the library need to be recompiled to link against the newer library.
        (Note that there is no correlation between the package version and the
        name of the library.) For example, consider a package foo-1.2.3 that
        installs a shared library with name
        <filename class="libraryfile" moreinfo="none">libfoo.so.1</filename>. Say you upgrade
        the package to a newer version foo-1.2.4 that installs a shared library
        with name <filename class="libraryfile" moreinfo="none">libfoo.so.2</filename>. In this
        case, all packages that are dynamically linked to
        <filename class="libraryfile" moreinfo="none">libfoo.so.1</filename> need to be
        recompiled to link against
        <filename class="libraryfile" moreinfo="none">libfoo.so.2</filename>. Note that you
        should not remove the previous libraries until the dependent packages
        are recompiled.</para>
      </listitem>

      <listitem>
        <para>If you are upgrading a running system, be on the lookout for
        packages that use <command moreinfo="none">cp</command> instead of
        <command moreinfo="none">install</command> to install files. The latter command is
        usually safer if the executable or library is already loaded in memory.
        </para>
      </listitem>
    </itemizedlist>

  </sect2>

  <sect2>
    <title>Package Management Techniques</title>

    <para>The following are some common package management techniques. Before
    making a decision on a package manager, do some research on the various
    techniques, particularly the drawbacks of the particular scheme.</para>

    <sect3>
      <title>It is All in My Head!</title>

      <para>Yes, this is a package management technique. Some folks do not find
      the need for a package manager because they know the packages intimately
      and know what files are installed by each package. Some users also do not
      need any package management because they plan on rebuilding the entire
      system when a package is changed.</para>

    </sect3>

    <sect3>
      <title>Install in Separate Directories</title>

      <para>This is a simplistic package management that does not need any extra
      package to manage the installations. Each package is installed in a
      separate directory. For example, package foo-1.1 is installed in
      <filename class="directory" moreinfo="none">/usr/pkg/foo-1.1</filename>
      and a symlink is made from <filename moreinfo="none">/usr/pkg/foo</filename> to
      <filename class="directory" moreinfo="none">/usr/pkg/foo-1.1</filename>. When installing
      a new version foo-1.2, it is installed in
      <filename class="directory" moreinfo="none">/usr/pkg/foo-1.2</filename> and the previous
      symlink is replaced by a symlink to the new version.</para>

      <para>Environment variables such as <envar>PATH</envar>,
      <envar>LD_LIBRARY_PATH</envar>, <envar>MANPATH</envar>,
      <envar>INFOPATH</envar> and <envar>CPPFLAGS</envar> need to be expanded to
      include <filename moreinfo="none">/usr/pkg/foo</filename>. For more than a few packages,
      this scheme becomes unmanageable.</para>

    </sect3>

    <sect3>
      <title>Symlink Style Package Management</title>

      <para>This is a variation of the previous package management technique.
      Each package is installed similar to the previous scheme. But instead of
      making the symlink, each file is symlinked into the
      <filename class="directory" moreinfo="none">/usr</filename> hierarchy. This removes the
      need to expand the environment variables. Though the symlinks can be
      created by the user to automate the creation, many package managers have
      been written using this approach. A few of the popular ones include Stow,
      Epkg, Graft, and Depot.</para>

      <para>The installation needs to be faked, so that the package thinks that
      it is installed in <filename class="directory" moreinfo="none">/usr</filename> though in
      reality it is installed in the
      <filename class="directory" moreinfo="none">/usr/pkg</filename> hierarchy. Installing in
      this manner is not usually a trivial task. For example, consider that you
      are installing a package libfoo-1.1. The following instructions may
      not install the package properly:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr/pkg/libfoo/1.1
make
make install</userinput></screen>

      <para>The installation will work, but the dependent packages may not link
      to libfoo as you would expect. If you compile a package that links against
      libfoo, you may notice that it is linked to
      <filename class="libraryfile" moreinfo="none">/usr/pkg/libfoo/1.1/lib/libfoo.so.1</filename>
      instead of <filename class="libraryfile" moreinfo="none">/usr/lib/libfoo.so.1</filename>
      as you would expect. The correct approach is to use the
      <envar>DESTDIR</envar> strategy to fake installation of the package. This
      approach works as follows:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr
make
make DESTDIR=/usr/pkg/libfoo/1.1 install</userinput></screen>

      <para>Most packages support this approach, but there are some which do not.
      For the non-compliant packages, you may either need to manually install the
      package, or you may find that it is easier to install some problematic
      packages into <filename class="directory" moreinfo="none">/opt</filename>.</para>

    </sect3>

    <sect3>
      <title>Timestamp Based</title>

      <para>In this technique, a file is timestamped before the installation of
      the package. After the installation, a simple use of the
      <command moreinfo="none">find</command> command with the appropriate options can generate
      a log of all the files installed after the timestamp file was created. A
      package manager written with this approach is install-log.</para>

      <para>Though this scheme has the advantage of being simple, it has two
      drawbacks. If, during installation, the files are installed with any
      timestamp other than the current time, those files will not be tracked by
      the package manager. Also, this scheme can only be used when one package
      is installed at a time. The logs are not reliable if two packages are
      being installed on two different consoles.</para>

    </sect3>

    <sect3>
      <title>LD_PRELOAD Based</title>

      <para>In this approach, a library is preloaded before installation. During
      installation, this library tracks the packages that are being installed by
      attaching itself to various executables such as <command moreinfo="none">cp</command>,
      <command moreinfo="none">install</command>, <command moreinfo="none">mv</command> and tracking the system
      calls that modify the filesystem. For this approach to work, all the
      executables need to be dynamically linked without the suid or sgid bit.
      Preloading the library may cause some unwanted side-effects during
      installation. Therefore, it is advised that one performs some tests to
      ensure that the package manager does not break anything and logs all the
      appropriate files.</para>

    </sect3>

    <sect3>
      <title>Creating Package Archives</title>

      <para>In this scheme, the package installation is faked into a separate
      tree as described in the Symlink style package management. After the
      installation, a package archive is created using the installed files.
      This archive is then used to install the package either on the local
      machine or can even be used to install the package on other machines.</para>

      <para>This approach is used by most of the package managers found in the
      commercial distributions. Examples of package managers that follow this
      approach are RPM (which, incidentally, is required by the <ulink url="http://refspecs.linuxfoundation.org/lsb.shtml">Linux
      Standard Base Specification</ulink>), pkg-utils, Debian's apt, and
      Gentoo's Portage system.  A hint describing how to adopt this style of
      package management for CLFS systems is located at <ulink url="http://hints.clfs.org/index.php/Fakeroot"/>.</para>

    </sect3>

  </sect2>

</sect1>
  <sect1 id="ch-final-system-testsuitesagain" xml:base="common/testsuitesagain.xml">
  <?dbhtml filename="testsuitesagain.html"?>

  <title>About Test Suites, Again</title>

  <para>In the final-system build, you are no longer cross-compiling so it
  is possible to run package test suites. Running the test suite for a
  newly built package is a good idea because it can provide a <quote>sanity
  check</quote> indicating that everything compiled correctly. A test suite
  that passes its set of checks usually proves that the package is
  functioning as the developer intended. It does not, however, guarantee
  that the package is totally bug free.</para>

  <para>Some test suites are more important than others. For example, the test
  suites for the core toolchain packages—GCC, Binutils,
  and Glibc—are of the utmost
  importance due to their central role in a properly functioning system.
  The test suites for GCC and Glibc can take a very long time to complete,
  especially on slower hardware, but are strongly recommended.</para>

  <para>A common issue with running the test suites for Binutils and GCC
  is running out of pseudo terminals (PTYs). This can result in a high
  number of failing tests. This may happen for several reasons, but the
  most likely cause (if you chrooted) is that the host system does not have the
  <systemitem class="filesystem" moreinfo="none">devpts</systemitem> file system set up
  correctly. This issue is discussed in greater detail at
  <ulink url="http://trac.clfs.org/wiki/faq#no-ptys"/>.</para>

  <para>Sometimes package test suites will fail, but for reasons which the
  developers are aware of and have deemed non-critical. Consult the logs located
  at <ulink url="http://clfs.org/testsuite-logs/git/"/> to verify whether or not these failures are
  expected. This site is valid for all tests throughout this book.</para>

</sect1>
  <sect1 id="ch-system-temp-perl" role="wrap" xml:base="common/temp-perl.xml">
  <?dbhtml filename="temp-perl.html"?>

  <title>Temporary Perl-5.26.0</title>

  <indexterm zone="ch-system-temp-perl" significance="normal">
    <primary sortas="a-Perl">Perl</primary>
    <secondary>temporary tools</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Perl package contains the Practical Extraction and Report
    Language.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Perl</title>

    <note os="a">
      <para>In this section, we will add Perl to the temporary system in
      <filename class="directory" moreinfo="none">/tools</filename>. This package installation
      should technically be part of
      <xref linkend="chapter-temp-system"/>, but Perl has often had problems
      with cross-compiling, so we will compile and install it while in the
      final build environment.</para>
    </note>

    <para os="s1">Change a hardcoded path from
    <filename class="directory" moreinfo="none">/usr/include</filename> to
    <filename class="directory" moreinfo="none">/tools/include</filename>:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i 's@/usr/include@/tools/include@g' ext/Errno/Errno_pm.PL</userinput></screen>

<para os="c">Prepare Temporary Perl for compilation:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">./configure.gnu \
    --prefix=/tools \
    -Dcc="gcc"</userinput></screen>

    <variablelist os="e">
      <title>The meaning of the configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">-Dcc="gcc"</parameter></term>
        <listitem>
          <para>Tells Perl to use <command moreinfo="none">gcc</command> instead of the
          default <command moreinfo="none">cc</command>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

  <para os="f">Compile the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

  <para os="h">Although Perl comes with a test suite, it is not recommended
  to run it at this point, as this Perl installation is only temporary. The
  test suite can be run later in this chapter if desired.</para>

    <para os="i">Install the package:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="k">Finally, create a necessary symlink:</para>

<screen os="l" format="linespecific"><userinput moreinfo="none">ln -sfv /tools/bin/perl /usr/bin</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-perl" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-system-linux-headers" role="wrap" xml:base="common/linux-headers.xml">
  <?dbhtml filename="linux-headers.html"?>

  <title>Linux-4.9.21 Headers</title>

  <indexterm zone="ch-system-linux-headers" significance="normal">
    <primary sortas="a-Linux Headers">Linux Headers</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Linux Kernel contains a <command moreinfo="none">make</command> target that
    installs <quote>sanitized</quote> kernel headers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Linux Headers</title>

    <note os="a">
      <para>For this step you will need to unpack the kernel tarball
      (<filename moreinfo="none">linux-4.9.tar.xz</filename>) and
      <command moreinfo="none">cd</command> into its source
      directory before entering the commands on this page.</para>
    </note>

    <para os="p1" xml:base="../../bootable/x86/kernel.xml">Apply the latest Linux sublevel patch:</para>

    <screen os="p2" xml:base="../../bootable/x86/kernel.xml" format="linespecific"><userinput moreinfo="none">xzcat ../patch-4.9.21.xz | patch -Np1 -i -</userinput></screen>

    <para os="b">Install the kernel header files:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">make mrproper
make headers_check
make INSTALL_HDR_PATH=/usr headers_install
find /usr/include -name .install -or -name ..install.cmd | xargs rm -fv</userinput></screen>

    <variablelist os="d">
      <title>The meaning of the make commands:</title>

      <varlistentry os="d1">
        <term><parameter moreinfo="none">make mrproper</parameter></term>
        <listitem>
          <para>Ensures that the kernel source dir is clean.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="d2">
        <term><parameter moreinfo="none">make headers_check</parameter></term>
        <listitem>
          <para>Sanitizes the raw kernel headers so that they can be used
          by userspace programs.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="d3">
        <term><parameter moreinfo="none">make INSTALL_HDR_PATH=/usr headers_install</parameter></term>
        <listitem>
          <para>This will install the kernel headers into
          <filename class="directory" moreinfo="none">/usr/include</filename>.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="d4">
        <term><parameter moreinfo="none">find /usr/include -name .install -or -name ..install.cmd | xargs rm -fv</parameter></term>
        <listitem>
          <para>Removes a number of unneeded debugging files that were installed.</para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

  <sect2 id="contents-linux-headers" role="content">
    <title>Contents of Linux Headers</title>

    <segmentedlist>
      <segtitle>Installed headers</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>/usr/include/{asm,asm-generic,drm,linux,misc,mtd,rdma,scsi,sound,video,xen}/*.h</seg>
        <seg>/usr/include/asm, /usr/include/asm-generic, /usr/include/drm,
        /usr/include/linux, /usr/include/misc, /usr/include/mtd, /usr/include/rdma,
        /usr/include/scsi, /usr/include/sound, /usr/include/uapi,
        /usr/include/video, /usr/include/xen</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="linux-headers">
        <term><filename class="headerfile" moreinfo="none">/usr/include/{asm,asm-generic,drm,linux,mtd,rdma,sound,video}/*.h</filename></term>
        <listitem>
          <para>The Linux API headers</para>
          <indexterm zone="ch-system-linux-headers linux-headers" significance="normal">
            <primary sortas="e-/usr/include/{asm,linux}/*.h">/usr/include/{asm,linux}/*.h</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-man-pages" role="wrap" xml:base="common/man-pages.xml">
  <?dbhtml filename="man-pages.html"?>

  <title>Man-pages-4.09</title>

  <indexterm zone="ch-system-man-pages" significance="normal">
    <primary sortas="a-Man-pages">Man-pages</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Man-pages package contains over 2,200 man pages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Man-pages</title>

    <para os="a">Install Man-pages by running:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-manpages" role="content">
    <title>Contents of Man-pages</title>

    <segmentedlist>
      <segtitle>Installed files</segtitle>

      <seglistitem>
        <seg>various man pages</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="man-pages">
        <term><filename moreinfo="none">man pages</filename></term>
        <listitem>
          <para>This package contains man pages that describe the following:
          POSIX headers (section 0p),
          POSIX utilities (section 1p), POSIX functions (section 3p),
          user commands (section 1), system calls (section 2),
          libc calls (section 3), device information (section 4),
          file formats (section 5), games (section 6),
          conventions and macro packages (section 7),
          system administration (section 8), and
          kernel (section 9).</para>
          <indexterm zone="ch-system-man-pages man-pages" significance="normal">
            <primary sortas="e-man-pages">man pages</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-glibc" role="wrap" xml:base="mips64-64/glibc.xml">
  <?dbhtml filename="glibc.html"?>

  <title>Glibc-2.25</title>

  <indexterm zone="ch-system-glibc" significance="normal">
    <primary sortas="a-Glibc">Glibc</primary>
  </indexterm>

  <sect2 role="package" xml:base="../common/glibc.xml">
    <title/>

    <para>The Glibc package contains the main C library. This library provides
    the basic routines for allocating memory, searching directories, opening and
    closing files, reading and writing files, string handling, pattern matching,
    arithmetic, and so on.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Glibc</title>

    <note os="z" xml:base="../common/glibc.xml">
      <para>Some packages outside of CLFS suggest installing GNU libiconv in
      order to translate data from one encoding to another. The project's
      home page (<ulink url="http://www.gnu.org/software/libiconv/"/>) says
      <quote>This library provides an <function moreinfo="none">iconv()</function>
      implementation, for use on systems which don't have one, or whose
      implementation cannot convert from/to Unicode.</quote> Glibc provides
      an <function moreinfo="none">iconv()</function> implementation and can convert from/to
      Unicode, therefore libiconv is not required on a CLFS system.</para>
    </note>

    <para os="l1" xml:base="../common/glibc.xml">At the end of the installation, the build system will run
    a sanity test to make sure everything installed properly. This script
    performs its tests by attempting to compile test programs against certain
    libraries. However it does not specify the path to
    <filename class="libraryfile" moreinfo="none">ld.so</filename>, and our toolchain
    is still configured to use the one in
    <filename class="directory" moreinfo="none">/tools</filename>. The following set of
    commands will force the script to use the complete path of the new
    <filename class="libraryfile" moreinfo="none">ld.so</filename> that was just installed:</para>

    <screen os="l2" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">LINKER=$(readelf -l /tools/bin/bash | sed -n 's@.*interpret.*/tools\(.*\)]$@\1@p')
sed -i "s|libs -o|libs -L/usr/lib -Wl,-dynamic-linker=${LINKER} -o|" \
  scripts/test-installation.pl
unset LINKER</userinput></screen>

    <para os="l3" xml:base="../x86_64-64/glibc.xml">Modify the <command moreinfo="none">ldd</command> rewrite script to prevent
    it from adding <filename class="directory" moreinfo="none">lib64</filename> and
    <filename class="directory" moreinfo="none">libx32</filename> to its list of linker
    search locations:</para>

    <screen os="l4" xml:base="../x86_64-64/glibc.xml" format="linespecific"><userinput moreinfo="none">sed -i '/RTLDLIST/d' sysdeps/unix/sysv/linux/*/ldd-rewrite.sed</userinput></screen>

    <para os="b" xml:base="../common/glibc.xml">The Glibc build system is self-contained and will install
    perfectly, even though the compiler specs file and linker are still
    pointing at <filename class="directory" moreinfo="none">/tools</filename>. The specs
    and linker cannot be adjusted before the Glibc install because the
    Glibc Autoconf tests would give false results and defeat the goal
    of achieving a clean build.</para>

    <para os="e" xml:base="../common/glibc.xml">The Glibc documentation recommends building Glibc outside of     the source directory in a dedicated build directory:</para>

    <screen os="f" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../glibc-build
cd ../glibc-build</userinput></screen>

    <para os="l5" xml:base="../x86_64-64/glibc.xml">Configure Glibc to install its libraries into
    <filename class="directory" moreinfo="none">/lib</filename>:</para>

    <screen os="l6" xml:base="../x86_64-64/glibc.xml" format="linespecific"><userinput moreinfo="none">echo "libc_cv_slibdir=/lib" &gt;&gt; config.cache</userinput></screen>

    <para>Now we will force Glibc to build as 64-bit instead of the default
    n32 with the following sed:</para>

<screen format="linespecific"><userinput moreinfo="none">sed -i '/default) machine=/s/n32/64/g' \
    ports/sysdeps/mips/preconfigure</userinput></screen>

    <para os="g" xml:base="../common/glibc.xml">Prepare Glibc for compilation:</para>

    <screen os="h" xml:base="../x86_64-64/glibc.xml" format="linespecific"><userinput moreinfo="none">../glibc-2.25/configure \
    --prefix=/usr \
    --enable-kernel=3.12.0 \
    --libexecdir=/usr/lib/glibc \
    --libdir=/usr/lib \
    --enable-obsolete-rpc \
    --enable-stack-protector=strong \
    --cache-file=config.cache</userinput></screen>

    <variablelist os="i" xml:base="../common/glibc.xml">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--libexecdir=/usr/lib/glibc</parameter></term>
        <listitem>
          <para>This changes the location for hard links to the
          <command moreinfo="none">getconf</command> utility from their default of <filename class="directory" moreinfo="none">/usr/libexec</filename> to <filename class="directory" moreinfo="none">/usr/lib/glibc</filename>.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para os="j" xml:base="../common/glibc.xml">Compile the package:</para>

    <screen os="k" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <important os="l" xml:base="../common/glibc.xml">
      <para>Due to Glibc's critical role in a properly functioning system,
      the CLFS developers strongly recommend running the testsuite.</para>
    </important>

    <para os="m" xml:base="../common/glibc.xml">Use the following commands to run the test suite and output
    any test failures:</para>

    <screen os="n" xml:base="../common/glibc.xml" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="o" xml:base="../common/glibc.xml">The Glibc test suite is highly dependent on certain functions of
    the host system, in particular the kernel. The <emphasis>posix/annexc</emphasis> and
    <emphasis>conform/run-conformtest</emphasis> tests normally fail
    and you should see <literal moreinfo="none">Error 1 (ignored)</literal> in the output. Apart
    from this, the Glibc test suite is always expected to pass. However, in certain
    circumstances, some failures are unavoidable. If a test fails because of a missing
    program (or missing symbolic link), or a segfault, you will see an error code
    greater than 127 and the details will be in the log. More commonly, tests will
    fail with <literal moreinfo="none">Error 2</literal> - for these, the contents of the corresponding
    <filename moreinfo="none">.out</filename> file, e.g. <filename moreinfo="none">posix/annexc.out</filename> may be
    informative. Here is a list of the most common issues:</para>

    <itemizedlist os="p" xml:base="../common/glibc.xml">
      <listitem>
        <para>The <emphasis>nptl/tst-clock2</emphasis>,
        <emphasis>nptl/tst-attr3</emphasis>,
        <emphasis>tst/tst-cputimer1</emphasis>, and
        <emphasis>rt/tst-cpuclock2</emphasis>
        tests have been known to fail.  The
        reason is not completely understood, but indications are that minor
        timing issues can trigger these failures.</para>
      </listitem>
      <listitem>
        <para>The <emphasis>math</emphasis> tests sometimes fail.
        Certain optimization settings are known to be a
        factor here.</para>
      </listitem>
      <listitem>
        <para>If you have mounted the CLFS partition with the
        <parameter moreinfo="none">noatime</parameter> option, the <emphasis>atime</emphasis> test
        will fail. As mentioned in <xref linkend="ch-partitioning-mounting"/>,
        do not use the <parameter moreinfo="none">noatime</parameter> option while building
        CLFS.</para>
      </listitem>
      <listitem>
        <para>When running on older and slower hardware, some tests
        can fail because of test timeouts being exceeded.
        Modifying the make check command to set a TIMEOUTFACTOR is reported to
        help eliminate these errors (e.g. <command moreinfo="none">TIMEOUTFACTOR=16
        make -k check</command>).</para>
      </listitem>
      <listitem>
        <para>posix/tst-getaddrinfo4 will always fail due to not having a network
        connection when the test is run.</para>
      </listitem>
    </itemizedlist>

    <para os="q" xml:base="../common/glibc.xml">Though it is a harmless message, the install stage of Glibc will
    complain about the absence of <filename moreinfo="none">/etc/ld.so.conf</filename>.
    Prevent this warning with:</para>

    <screen os="r" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">touch /etc/ld.so.conf</userinput></screen>

    <para os="s" xml:base="../common/glibc.xml">Install the package, and remove unneeded files from
    <filename class="directory" moreinfo="none">/usr/include/rpcsvc</filename>:</para>

    <screen os="t" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">make install &amp;&amp;
rm -v /usr/include/rpcsvc/*.x</userinput></screen>

    <para os="u" xml:base="../common/glibc.xml">Install the configuration file and runtime directory for
    <command moreinfo="none">nscd</command>:</para>

    <screen os="v" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">cp -v ../glibc-2.25/nscd/nscd.conf /etc/nscd.conf
mkdir -pv /var/cache/nscd</userinput></screen>

    <para os="w" xml:base="../common/glibc.xml">Install the systemd support files for <command moreinfo="none">nscd</command>:</para>

    <screen os="x" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">install -v -Dm644 ../glibc-2.25/nscd/nscd.tmpfiles /usr/lib/tmpfiles.d/nscd.conf
install -v -Dm644 ../glibc-2.25/nscd/nscd.service /lib/systemd/system/nscd.service</userinput></screen>

  </sect2>

  <sect2 id="i18n-glibc" role="configuration" xml:base="../common/glibc.xml">
    <title>Internationalization</title>

    <para>The locales that can make the system respond in a different
    language were not installed by the above command. Install them
    with:</para>

<screen format="linespecific"><userinput moreinfo="none">make localedata/install-locales</userinput></screen>

    <para>To save time, an alternative to running the previous command (which
    generates and installs every locale listed in the
    <filename moreinfo="none">glibc-2.25/localedata/SUPPORTED</filename> file) is
    to install only those locales that are wanted and needed. This can be
    achieved by using the <command moreinfo="none">localedef</command> command. Information on
    this command is located in the <filename moreinfo="none">INSTALL</filename> file in the
    Glibc source. However, there are a number of locales that are essential in
    order for the tests of future packages to pass, in particular, the
    <emphasis>libstdc++</emphasis> tests from GCC. The following instructions,
    instead of the <parameter moreinfo="none">install-locales</parameter> target used above,
    will install the minimum set of locales necessary for the tests to run
    successfully:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">mkdir -pv /usr/lib/locale
localedef -i cs_CZ -f UTF-8 cs_CZ.UTF-8
localedef -i de_DE -f ISO-8859-1 de_DE
localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro
localedef -i en_HK -f ISO-8859-1 en_HK
localedef -i en_PH -f ISO-8859-1 en_PH
localedef -i en_US -f ISO-8859-1 en_US
localedef -i es_MX -f ISO-8859-1 es_MX
localedef -i fa_IR -f UTF-8 fa_IR
localedef -i fr_FR -f ISO-8859-1 fr_FR
localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro
localedef -i it_IT -f ISO-8859-1 it_IT
localedef -i ja_JP -f EUC-JP ja_JP</userinput></screen>

    <para>Some locales installed by the <command moreinfo="none">make
    localedata/install-locales</command> command above are not properly
    supported by some applications that are in CLFS and CBLFS. Because
    of the various problems that arise due to application programmers making
    assumptions that break in such locales, CLFS should not be used in locales
    that utilize multibyte character sets (including UTF-8) or right-to-left
    writing order.  Numerous unofficial and unstable patches are required to
    fix these problems, and it has been decided by the CLFS developers not to
    support such complex locales at this time. This applies to the ja_JP and
    fa_IR locales as well—they have been installed only for GCC and
    Gettext tests to pass, and the <command moreinfo="none">watch</command> program (part of
    the Procps-ng package) does not work properly in them. Various attempts to
    circumvent these restrictions are documented in internationalization-related
    hints.</para>

  </sect2>

  <sect2 id="conf-glibc" role="configuration" xml:base="../common/glibc.xml">
    <title>Configuring Glibc</title>

    <indexterm zone="conf-glibc" significance="normal">
      <primary sortas="e-/etc/nsswitch.conf">/etc/nsswitch.conf</primary>
    </indexterm>

    <indexterm zone="conf-glibc" significance="normal">
      <primary sortas="e-/etc/localtime">/etc/localtime</primary>
    </indexterm>

    <para>The <filename moreinfo="none">/etc/nsswitch.conf</filename> file needs to be created
    because, although Glibc provides defaults when this file is missing or
    corrupt, the Glibc defaults do not work well in a networked environment.
    The time zone also needs to be configured.</para>

    <para>Create a new file <filename moreinfo="none">/etc/nsswitch.conf</filename> by running
    the following:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/nsswitch.conf &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/nsswitch.conf

passwd: files
group: files
shadow: files

hosts: files dns
networks: files

protocols: files
services: files
ethers: files
rpc: files

# End /etc/nsswitch.conf</literal>
EOF</userinput></screen>

    <para>Install timezone data:</para>
<screen format="linespecific"><userinput moreinfo="none">tar -xf ../tzdata2017b.tar.gz

ZONEINFO=/usr/share/zoneinfo
mkdir -pv $ZONEINFO/{posix,right}

for tz in etcetera southamerica northamerica europe africa antarctica \
          asia australasia backward pacificnew systemv; do
    zic -L /dev/null   -d $ZONEINFO       -y "sh yearistype.sh" ${tz}
    zic -L /dev/null   -d $ZONEINFO/posix -y "sh yearistype.sh" ${tz}
    zic -L leapseconds -d $ZONEINFO/right -y "sh yearistype.sh" ${tz}
done

cp -v zone.tab zone1970.tab iso3166.tab $ZONEINFO
zic -d $ZONEINFO -p America/New_York
unset ZONEINFO</userinput></screen>

    <variablelist>
      <title>The meaning of the zic commands:</title>

      <varlistentry>
        <term><parameter moreinfo="none">zic -L /dev/null ...</parameter></term>
        <listitem>
          <para>This creates posix timezones, without any leap seconds.  It is
          conventional to put these in both
          <filename class="directory" moreinfo="none">zoneinfo</filename> and
          <filename class="directory" moreinfo="none">zoneinfo/posix</filename>. It is
          necessary to put the POSIX timezones in
          <filename class="directory" moreinfo="none">zoneinfo</filename>, otherwise various
          test-suites will report errors. On an embedded system, where space is
          tight and you do not intend to ever update the timezones, you could save
          1.9MB by not using the <filename class="directory" moreinfo="none">posix</filename>
          directory, but some applications or test-suites might give less good
          results</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><parameter moreinfo="none">zic -L leapseconds ...</parameter></term>
        <listitem>
          <para>This creates right timezones, including leap seconds. On an
          embedded system, where space is tight and you do not intend to
          ever update the timezones, or care about the correct time, you could
          save 1.9MB by omitting the <filename class="directory" moreinfo="none">right</filename>
          directory.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><parameter moreinfo="none">zic ... -p ...</parameter></term>
        <listitem>
          <para>This creates the <filename moreinfo="none">posixrules</filename> file. We use
          New York because POSIX requires the daylight savings time rules
          to be in accordance with US rules.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>To determine the local time zone, run the following script:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">tzselect</userinput></screen>

    <para>After answering a few questions about the location, the script will
    output the name of the time zone (e.g., <emphasis>EST5EDT</emphasis> or
    <emphasis>Canada/Eastern</emphasis>). Then create the
    <filename moreinfo="none">/etc/localtime</filename> file by running:</para>

<screen format="linespecific"><userinput moreinfo="none">cp -v /usr/share/zoneinfo/<replaceable>[xxx]</replaceable> \
    /etc/localtime</userinput></screen>

    <para>Replace <replaceable>[xxx]</replaceable> with the name of the time zone
    that <command moreinfo="none">tzselect</command> provided (e.g., Canada/Eastern).</para>

  </sect2>

  <sect2 id="conf-ld" role="configuration" xml:base="../ppc/glibc.xml">
    <title>Configuring The Dynamic Loader</title>

    <indexterm zone="conf-ld" significance="normal">
      <primary sortas="e-/etc/ld.so.conf">/etc/ld.so.conf</primary>
    </indexterm>

    <para os="ld-a">By default, the dynamic loader (<filename class="libraryfile" moreinfo="none">/lib/ld.so.1</filename>) searches through
    <filename class="directory" moreinfo="none">/lib</filename> and <filename class="directory" moreinfo="none">/usr/lib</filename> for dynamic libraries that are
    needed by programs as they are run. However, if there are libraries in
    directories other than <filename class="directory" moreinfo="none">/lib</filename> and
    <filename class="directory" moreinfo="none">/usr/lib</filename>, these need to be
    added to the <filename moreinfo="none">/etc/ld.so.conf</filename> file in order
    for the dynamic loader to find them. Two directories that are commonly
    known to contain additional libraries are <filename class="directory" moreinfo="none">/usr/local/lib</filename> and <filename class="directory" moreinfo="none">/opt/lib</filename>, so add those directories to the
    dynamic loader's search path.</para>

    <para os="ld-b" xml:base="../common/glibc.xml">Create a new file <filename moreinfo="none">/etc/ld.so.conf</filename> by running the
    following:</para>

    <screen os="ld-c" xml:base="../common/glibc.xml" format="linespecific"><userinput moreinfo="none">cat &gt; /etc/ld.so.conf &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/ld.so.conf

/usr/local/lib
/opt/lib

# End /etc/ld.so.conf</literal>
EOF</userinput></screen>

  </sect2>

  <sect2 id="contents-glibc" role="content" xml:base="../common/glibc.xml">
    <title>Contents of Glibc</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>catchsegv, gencat, getconf, getent, iconv, iconvconfig, ldconfig,
        ldd, lddlibc4, locale, localedef, makedb, mtrace, nscd,
        pcprofiledump, pldd, rpcgen, sln, sotruss, sprof, tzselect, xtrace,
        zdump, zic</seg>
        <seg>ld.so, libBrokenLocale.[a,so], libSegFault.so, libanl.[a,so],
        libc.[a,so], libc_nonshared.a, libcidn.[a,so], libcrypt.[a,so],
        libdl.[a,so], libg.a, libieee.a, libm.[a,so], libmcheck.a,
        libmemusage.so, libnsl.a, libnss_compat.so, libnss_dns.so,
        libnss_files.so, libnss_hesiod.so, libnss_nis.so, libnss_nisplus.so,
        libpcprofile.so, libpthread.[a,so], libpthread_nonshared.a,
        libresolv.[a,so], librpcsvc.a, librt.[a,so], libthread_db.so,
        libutil.[a,so]</seg>
        <seg>/usr/include/arpa, /usr/include/bits, /usr/include/gnu,
        /usr/include/net, /usr/include/netash, /usr/include/netatalk,
        /usr/include/netax25, /usr/include/neteconet, /usr/include/netinet,
        /usr/include/netipx, /usr/include/netiucv, /usr/include/netpacket,
        /usr/include/netrom, /usr/include/netrose, /usr/include/nfs,
        /usr/include/protocols, /usr/include/rpc, /usr/include/rpcsvc,
        /usr/include/scsi, /usr/include/sys, /usr/lib/audit, /usr/lib/gconv,
        /usr/lib/glibc, /usr/lib/locale, /usr/share/i18n, /usr/share/zoneinfo,
        /var/cache/ldconfig, /var/cache/nscd</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="catchsegv">
        <term><command moreinfo="none">catchsegv</command></term>
        <listitem>
          <para>Can be used to create a stack trace when a program
          terminates with a segmentation fault</para>
          <indexterm zone="ch-system-glibc catchsegv" significance="normal">
            <primary sortas="b-catchsegv">catchsegv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gencat">
        <term><command moreinfo="none">gencat</command></term>
        <listitem>
          <para>Generates message catalogues</para>
          <indexterm zone="ch-system-glibc gencat" significance="normal">
            <primary sortas="b-gencat">gencat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getconf">
        <term><command moreinfo="none">getconf</command></term>
        <listitem>
          <para>Displays the system configuration values for file system specific
          variables</para>
          <indexterm zone="ch-system-glibc getconf" significance="normal">
            <primary sortas="b-getconf">getconf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getent">
        <term><command moreinfo="none">getent</command></term>
        <listitem>
          <para>Gets entries from an administrative database</para>
          <indexterm zone="ch-system-glibc getent" significance="normal">
            <primary sortas="b-getent">getent</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="iconv">
        <term><command moreinfo="none">iconv</command></term>
        <listitem>
          <para>Performs character set conversion</para>
          <indexterm zone="ch-system-glibc iconv" significance="normal">
            <primary sortas="b-iconv">iconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="iconvconfig">
        <term><command moreinfo="none">iconvconfig</command></term>
        <listitem>
          <para>Creates fastloading <command moreinfo="none">iconv</command> module configuration
          files</para>
          <indexterm zone="ch-system-glibc iconvconfig" significance="normal">
            <primary sortas="b-iconvconfig">iconvconfig</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ldconfig">
        <term><command moreinfo="none">ldconfig</command></term>
        <listitem>
          <para>Configures the dynamic linker runtime bindings</para>
          <indexterm zone="ch-system-glibc ldconfig" significance="normal">
            <primary sortas="b-ldconfig">ldconfig</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ldd">
        <term><command moreinfo="none">ldd</command></term>
        <listitem>
          <para>Reports which shared libraries are required
          by each given program or shared library</para>
          <indexterm zone="ch-system-glibc ldd" significance="normal">
            <primary sortas="b-ldd">ldd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lddlibc4">
        <term><command moreinfo="none">lddlibc4</command></term>
        <listitem>
          <para>Assists <command moreinfo="none">ldd</command> with object files</para>
          <indexterm zone="ch-system-glibc lddlibc4" significance="normal">
            <primary sortas="b-lddlibc4">lddlibc4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="locale">
        <term><command moreinfo="none">locale</command></term>
        <listitem>
          <para>Tells the compiler to enable or disable the use of POSIX locales
          for built-in operations</para>
          <indexterm zone="ch-system-glibc locale" significance="normal">
            <primary sortas="b-locale">locale</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="localedef">
        <term><command moreinfo="none">localedef</command></term>
        <listitem>
          <para>Compiles locale specifications</para>
          <indexterm zone="ch-system-glibc localedef" significance="normal">
            <primary sortas="b-localedef">localedef</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="makedb">
        <term><command moreinfo="none">makedb</command></term>
        <listitem>
          <para>Creates a simple database from textual input</para>
          <indexterm zone="ch-system-glibc makedb" significance="normal">
            <primary sortas="b-makedb">makedb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mtrace">
        <term><command moreinfo="none">mtrace</command></term>
        <listitem>
          <para>Reads and interprets a memory trace file and
          displays a summary in human-readable format</para>
          <indexterm zone="ch-system-glibc mtrace" significance="normal">
            <primary sortas="b-mtrace">mtrace</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nscd">
        <term><command moreinfo="none">nscd</command></term>
        <listitem>
          <para>A daemon that provides a cache for the most common name
          service requests</para>
          <indexterm zone="ch-system-glibc nscd" significance="normal">
            <primary sortas="b-nscd">nscd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pcprofiledump">
        <term><command moreinfo="none">pcprofiledump</command></term>
        <listitem>
          <para>Dumps information generated by PC profiling</para>
          <indexterm zone="ch-system-glibc pcprofiledump" significance="normal">
            <primary sortas="b-pcprofiledump">pcprofiledump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pldd">
        <term><command moreinfo="none">pldd</command></term>
        <listitem>
          <para>Lists dynamic shared objects used by running processes</para>
          <indexterm zone="ch-system-glibc pldd" significance="normal">
            <primary sortas="b-pldd">pldd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rpcgen">
        <term><command moreinfo="none">rpcgen</command></term>
        <listitem>
          <para>Generates C code to implement the Remote Procecure Call (RPC)
          protocol</para>
          <indexterm zone="ch-system-glibc rpcgen" significance="normal">
            <primary sortas="b-rpcgen">rpcgen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sln">
        <term><command moreinfo="none">sln</command></term>
        <listitem>
          <para>A statically linked program that creates symbolic links</para>
          <indexterm zone="ch-system-glibc sln" significance="normal">
            <primary sortas="b-sln">sln</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sotruss">
        <term><command moreinfo="none">sotruss</command></term>
        <listitem>
          <para>Traces shared library procedure calls of a specified command</para>
          <indexterm zone="ch-system-glibc sotruss" significance="normal">
            <primary sortas="b-sotruss">sotruss</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sprof">
        <term><command moreinfo="none">sprof</command></term>
        <listitem>
          <para>Reads and displays shared object profiling data</para>
          <indexterm zone="ch-system-glibc sprof" significance="normal">
            <primary sortas="b-sprof">sprof</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tzselect">
        <term><command moreinfo="none">tzselect</command></term>
        <listitem>
          <para>Asks the user about the location of the
          system and reports the corresponding time zone description</para>
          <indexterm zone="ch-system-glibc tzselect" significance="normal">
            <primary sortas="b-tzselect">tzselect</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xtrace">
        <term><command moreinfo="none">xtrace</command></term>
        <listitem>
          <para>Traces the execution of a program by
          printing the currently executed function</para>
          <indexterm zone="ch-system-glibc xtrace" significance="normal">
            <primary sortas="b-xtrace">xtrace</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zdump">
        <term><command moreinfo="none">zdump</command></term>
        <listitem>
          <para>The time zone dumper</para>
          <indexterm zone="ch-system-glibc zdump" significance="normal">
            <primary sortas="b-zdump">zdump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zic">
        <term><command moreinfo="none">zic</command></term>
        <listitem>
          <para>The time zone compiler</para>
          <indexterm zone="ch-system-glibc zic" significance="normal">
            <primary sortas="b-zic">zic</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ld.so">
        <term><filename class="libraryfile" moreinfo="none">ld.so</filename></term>
        <listitem>
          <para>The helper program for shared library executables</para>
          <indexterm zone="ch-system-glibc ld.so" significance="normal">
            <primary sortas="c-ld.so">ld.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libBrokenLocale">
        <term><filename class="libraryfile" moreinfo="none">libBrokenLocale</filename></term>
        <listitem>
          <para>Used by programs, such as Mozilla, to solve broken locales</para>
          <indexterm zone="ch-system-glibc libBrokenLocale" significance="normal">
            <primary sortas="c-libBrokenLocale">libBrokenLocale</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libSegFault">
        <term><filename class="libraryfile" moreinfo="none">libSegFault</filename></term>
        <listitem>
          <para>The segmentation fault signal handler</para>
          <indexterm zone="ch-system-glibc libSegFault" significance="normal">
            <primary sortas="c-libSegFault">libSegFault</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libanl">
        <term><filename class="libraryfile" moreinfo="none">libanl</filename></term>
        <listitem>
          <para>An asynchronous name lookup library</para>
          <indexterm zone="ch-system-glibc libanl" significance="normal">
            <primary sortas="c-libanl">libanl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libc">
        <term><filename class="libraryfile" moreinfo="none">libc</filename></term>
        <listitem>
          <para>The main C library</para>
          <indexterm zone="ch-system-glibc libc" significance="normal">
            <primary sortas="c-libc">libc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcidn">
        <term><filename class="libraryfile" moreinfo="none">libcidn</filename></term>
        <listitem>
          <para>Used internally by Glibc for handling internationalized domain
          names in the <function moreinfo="none">getaddrinfo()</function> function</para>
          <indexterm zone="ch-system-glibc libcidn" significance="normal">
            <primary sortas="c-libcidn">libcidn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcrypt">
        <term><filename class="libraryfile" moreinfo="none">libcrypt</filename></term>
        <listitem>
          <para>The cryptography library</para>
          <indexterm zone="ch-system-glibc libcrypt" significance="normal">
            <primary sortas="c-libcrypt">libcrypt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libdl">
        <term><filename class="libraryfile" moreinfo="none">libdl</filename></term>
        <listitem>
          <para>The dynamic linking interface library</para>
          <indexterm zone="ch-system-glibc libdl" significance="normal">
            <primary sortas="c-libdl">libdl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libg">
        <term><filename class="libraryfile" moreinfo="none">libg</filename></term>
        <listitem>
          <para>A runtime library for <command moreinfo="none">g++</command></para>
          <indexterm zone="ch-system-glibc libg" significance="normal">
            <primary sortas="c-libg">libg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libieee">
        <term><filename class="libraryfile" moreinfo="none">libieee</filename></term>
        <listitem>
          <para>The Institute of Electrical and Electronic Engineers (IEEE)
          floating point library</para>
          <indexterm zone="ch-system-glibc libieee" significance="normal">
            <primary sortas="c-libieee">libieee</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libm">
        <term><filename class="libraryfile" moreinfo="none">libm</filename></term>
        <listitem>
          <para>The mathematical library</para>
          <indexterm zone="ch-system-glibc libm" significance="normal">
            <primary sortas="c-libm">libm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libmcheck">
        <term><filename class="libraryfile" moreinfo="none">libmcheck</filename></term>
        <listitem>
          <para>Contains code run at boot</para>
          <indexterm zone="ch-system-glibc libmcheck" significance="normal">
            <primary sortas="c-libmcheck">libmcheck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libmemusage">
        <term><filename class="libraryfile" moreinfo="none">libmemusage</filename></term>
        <listitem>
          <para>Used by <command moreinfo="none">memusage</command> (included in Glibc, but
          not built in a base CLFS system as it has additional dependencies)
          to help collect information about the memory usage of a program</para>
          <indexterm zone="ch-system-glibc libmemusage" significance="normal">
            <primary sortas="c-libmemusage">libmemusage</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libnsl">
        <term><filename class="libraryfile" moreinfo="none">libnsl</filename></term>
        <listitem>
          <para>The network services library</para>
          <indexterm zone="ch-system-glibc libnsl" significance="normal">
            <primary sortas="c-libnsl">libnsl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libnss">
        <term><filename class="libraryfile" moreinfo="none">libnss</filename></term>
        <listitem>
          <para>The Name Service Switch libraries, containing functions for
          resolving host names, user names, group names, aliases, services,
          protocols, etc.</para>
          <indexterm zone="ch-system-glibc libnss" significance="normal">
            <primary sortas="c-libnss">libnss</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libpcprofile">
        <term><filename class="libraryfile" moreinfo="none">libpcprofile</filename></term>
        <listitem>
          <para>Contains profiling functions used to track the amount of CPU
          time spent in specific source code lines</para>
          <indexterm zone="ch-system-glibc libpcprofile" significance="normal">
            <primary sortas="c-libpcprofile">libpcprofile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libpthread">
        <term><filename class="libraryfile" moreinfo="none">libpthread</filename></term>
        <listitem>
          <para>The POSIX threads library</para>
          <indexterm zone="ch-system-glibc libpthread" significance="normal">
            <primary sortas="c-libpthread">libpthread</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libresolv">
        <term><filename class="libraryfile" moreinfo="none">libresolv</filename></term>
        <listitem>
          <para>Contains functions for creating, sending, and interpreting
          packets to the Internet domain name servers</para>
          <indexterm zone="ch-system-glibc libresolv" significance="normal">
            <primary sortas="c-libresolv">libresolv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="librpcsvc">
        <term><filename class="libraryfile" moreinfo="none">librpcsvc</filename></term>
        <listitem>
          <para>Contains functions providing miscellaneous RPC services</para>
          <indexterm zone="ch-system-glibc librpcsvc" significance="normal">
            <primary sortas="c-librpcsvc">librpcsvc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="librt">
        <term><filename class="libraryfile" moreinfo="none">librt</filename></term>
        <listitem>
          <para>Contains functions providing most of the interfaces specified by
          the POSIX.1b Realtime Extension</para>
          <indexterm zone="ch-system-glibc librt" significance="normal">
            <primary sortas="c-librt">librt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libthread_db">
        <term><filename class="libraryfile" moreinfo="none">libthread_db</filename></term>
        <listitem>
          <para>Contains functions useful for
          building debuggers for multi-threaded programs</para>
          <indexterm zone="ch-system-glibc libthread_db" significance="normal">
            <primary sortas="c-libthread_db">libthread_db</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libutil">
        <term><filename class="libraryfile" moreinfo="none">libutil</filename></term>
        <listitem>
          <para>Contains code for <quote>standard</quote> functions used in
          many different Unix utilities</para>
          <indexterm zone="ch-system-glibc libutil" significance="normal">
            <primary sortas="c-libutil">libutil</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-adjusting" xml:base="mips64-64/adjusting.xml">
  <?dbhtml filename="adjusting.html"?>

  <title>Adjusting the Toolchain</title>

  <para os="a" xml:base="../common/adjusting.xml">Now we adjust GCC's specs so that they point to the new
  dynamic linker. A <command moreinfo="none">perl</command> command accomplishes this:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">gcc -dumpspecs | \
perl -p -e 's@/tools/lib/ld@/lib/ld@g;' \
     -e 's@/tools/lib32/ld@/lib32/ld@g;' \
     -e 's@/tools/lib64/ld@/lib64/ld@g;' \
     -e 's@\*startfile_prefix_spec:\n@$_/usr/lib/ @g;' &gt; \
     $(dirname $(gcc --print-libgcc-file-name))/specs</userinput></screen>

  <para os="d" xml:base="../common/adjusting.xml">The <command moreinfo="none">perl</command> command above makes 2
  modifications to GCC's specs: it removes <quote>/tools</quote> from the
  pathname to the dynamic linker, and adds <quote>/usr/lib/</quote> to the
  startfile_prefix_spec. It is a good idea to visually inspect the
  <filename moreinfo="none">specs</filename> file, and compare with the output of
  <command moreinfo="none">gcc -dumpspecs</command>, to verify that
  the intended changes were actually made.</para>

  <caution>

    <para>It is imperative at this point to stop and ensure that
    the basic functions (compiling and linking) of the adjusted toolchain
    are working as expected. Since we are doing a 64 bit only build, we
    will only test the 64 bit ABI. To do this, perform a sanity
    check:</para>

    <screen os="g" xml:base="../common/adjusting.xml" format="linespecific"><userinput moreinfo="none">echo 'int main(){}' &gt; dummy.c
gcc dummy.c
readelf -l a.out | grep ': /lib'</userinput></screen>

    <para os="h" xml:base="../common/adjusting.xml">If everything is working correctly, there should be no errors,
    and the output of the last command will be:</para>

    <screen os="i" xml:base="../ppc/adjusting.xml" format="linespecific"><computeroutput moreinfo="none">[Requesting program interpreter: /lib/ld.so.1]</computeroutput></screen>

    <para os="j" xml:base="../common/adjusting.xml">Note that <filename class="directory" moreinfo="none">/lib</filename> is now
    the prefix of our dynamic linker.</para>

    <para os="k" xml:base="../common/adjusting.xml">If the output does not appear as shown above or is not received
    at all, then something is seriously wrong. Investigate and retrace the
    steps to find out where the problem is and correct it. The most likely
    reason is that something went wrong with the specs file amendment
    above. Any issues will need to be resolved before continuing on with
    the process.</para>

    <para os="l" xml:base="../common/adjusting.xml">Once everything is working correctly, clean up the test
    files:</para>

    <screen os="m" xml:base="../common/adjusting.xml" format="linespecific"><userinput moreinfo="none">rm -v dummy.c a.out</userinput></screen>

  </caution>

</sect1>
  <sect1 id="ch-system-m4" role="wrap" xml:base="common/m4.xml">
  <?dbhtml filename="m4.html"?>

  <title>M4-1.4.18</title>

  <indexterm zone="ch-system-m4" significance="normal">
    <primary sortas="a-M4">M4</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The M4 package contains a macro processor.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of M4</title>

    <para os="a">Prepare M4 for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-m4" role="content">
    <title>Contents of M4</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>

      <seglistitem>
        <seg>m4</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="m4">
         <!-- Don't remove the extra space, it prevet a FOP warning. -->
        <term><command moreinfo="none">m4 </command></term>
        <listitem>
          <para>copies the given files while expanding the macros that they
          contain. These macros are either built-in or user-defined and can
          take any number of arguments. Besides performing macro expansion,
          <command moreinfo="none">m4</command> has built-in functions for including named
          files, running Unix commands, performing integer arithmetic,
          manipulating text, recursion, etc. The <command moreinfo="none">m4</command>
          program can be used either as a front-end to a compiler or as a
          macro processor in its own right.</para>
          <indexterm zone="ch-system-m4 m4" significance="normal">
            <primary sortas="b-m4">m4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-gmp" role="wrap" xml:base="common/gmp.xml">
  <?dbhtml filename="gmp.html"?>

  <title>GMP-6.1.2</title>

  <indexterm zone="ch-system-gmp" significance="normal">
    <primary sortas="a-GMP">GMP</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>GMP is a library for arithmetic on arbitrary precision integers,
    rational numbers, and floating-point numbers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of GMP</title>

<!--
    <para os="p1">The following patch contains a number of updates to the
    &gmp-version; branch by the GMP developers:</para>

<screen os="p2"><userinput>patch -Np1 -i ../&gmp-branch_update-patch;</userinput></screen>

-->

    <note os="n1">
      <para>If you are compiling this package on a different CPU than you plan
      to run the CLFS system on, you must replace GMP's
      <filename moreinfo="none">config.guess</filename> and <filename moreinfo="none">config.sub</filename>
      wrappers with the originals. This will prevent GMP from optimizing for
      the wrong CPU. You can make this change with the following command:</para>

<screen format="linespecific">mv -v config{fsf,}.guess
mv -v config{fsf,}.sub</screen>

    </note>

    <para os="a">Prepare GMP for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">CC="gcc -isystem /usr/include" \
CXX="g++ -isystem /usr/include" \
LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
./configure \
    --prefix=/usr \
    --enable-cxx \
    --docdir=/usr/share/doc/gmp-6.1.2</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Build the HTML documentation:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make html</userinput></screen>

    <para os="g">Test the results:</para>

<screen os="h" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="i">Install the package:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="k">Install the documentation:</para>

<screen os="l" format="linespecific"><userinput moreinfo="none">make install-html</userinput></screen>

  </sect2>

  <sect2 id="contents-gmp" role="content">
    <title>Contents of GMP</title>

    <segmentedlist>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>libgmp.[a,so], libgmpxx.[a,so]</seg>
        <seg>/usr/share/doc/gmp-6.1.2</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libgmp">
        <term><filename class="libraryfile" moreinfo="none">libgmp</filename></term>
        <listitem>
          <para>Contains the definitions for GNU multiple precision functions.</para>
          <indexterm zone="ch-system-gmp libgmp" significance="normal">
            <primary sortas="c-libgmp">libgmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgmpxx">
        <term><filename class="libraryfile" moreinfo="none">libgmpxx</filename></term>
        <listitem>
          <para>Contains a C++ class wrapper for GMP types.</para>
          <indexterm zone="ch-system-gmp libgmpxx" significance="normal">
            <primary sortas="c-libgmpxx">libgmpxx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-mpfr" role="wrap" xml:base="common/mpfr.xml">
  <?dbhtml filename="mpfr.html"?>

  <title>MPFR-3.1.5</title>

  <indexterm zone="ch-system-mpfr" significance="normal">
    <primary sortas="a-MPFR">MPFR</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The MPFR library is a C library for multiple-precision floating-point
    computations with correct rounding.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of MPFR</title>

    <para os="p1">Apply a patch with upstream fixes:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../mpfr-3.1.5-fixes-1.patch</userinput></screen>

    <para os="a">Prepare MPFR for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">CC="gcc -isystem /usr/include" \
LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
./configure \
    --prefix=/usr \
    --with-gmp=/usr \
    --docdir=/usr/share/doc/mpfr-3.1.5</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make
make html</userinput></screen>

    <para os="e">Test the results:</para>

<screen os="f" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install
make install-html</userinput></screen>

  </sect2>

  <sect2 id="contents-mpfr" role="content">
    <title>Contents of MPFR</title>

    <segmentedlist>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>libmpfr.[a,so]</seg>
        <seg>/usr/share/doc/mpfr-3.1.5</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libmpfr">
        <term><filename class="libraryfile" moreinfo="none">libmpfr</filename></term>
        <listitem>
          <para>The Multiple Precision Floating-Point Reliable Library.</para>
          <indexterm zone="ch-system-mpfr libmpfr" significance="normal">
            <primary sortas="c-libmpfr">libmpfr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-mpc" role="wrap" xml:base="common/mpc.xml">
  <?dbhtml filename="mpc.html"?>

  <title>MPC-1.0.3</title>

  <indexterm zone="ch-system-mpc" significance="normal">
    <primary sortas="a-MPC">MPC</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>MPC is a C library for the arithmetic of complex numbers with
    arbitrarily high precision and correct rounding of the result.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of MPC</title>

    <para os="a">Prepare MPC for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">CC="gcc -isystem /usr/include" \
LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
./configure \
    --prefix=/usr \
    --docdir=/usr/share/doc/mpc-1.0.3</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Build the HTML documentation:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make html</userinput></screen>

    <para os="g">Test the results:</para>

<screen os="h" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="i">Install the package:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="k">Install the HTML documentation:</para>

<screen os="l" format="linespecific"><userinput moreinfo="none">make install-html</userinput></screen>

  </sect2>

  <sect2 id="contents-mpc" role="content">
    <title>Contents of MPC</title>

    <segmentedlist>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>libmpc.[a,so]</seg>
        <seg>/usr/share/doc/mpc-1.0.3</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libmpc">
        <term><filename class="libraryfile" moreinfo="none">libmpc</filename></term>
        <listitem>
          <para>The Multiple Precision Complex Library.</para>
          <indexterm zone="ch-system-mpc libmpc" significance="normal">
            <primary sortas="c-libmpc">libmpc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-isl" role="wrap" xml:base="common/isl.xml">
  <?dbhtml filename="isl.html"?>

  <title>ISL-0.17.1</title>

  <indexterm zone="ch-system-isl" significance="normal">
    <primary sortas="a-ISL">ISL</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>ISL is a library for manipulating sets and relations of integer
    points bounded by linear constraints.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of ISL</title>

    <para os="a">Prepare ISL for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">CC="gcc -isystem /usr/include" \
LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">Test the results:</para>

<screen os="f" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="i">Finally, move a misplaced file:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">mkdir -pv /usr/share/gdb/auto-load/usr/lib
mv -v /usr/lib/libisl*gdb.py /usr/share/gdb/auto-load/usr/lib</userinput></screen>
  </sect2>

  <sect2 id="contents-isl" role="content">
    <title>Contents of ISL</title>

    <segmentedlist>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>libisl.[a,so]</seg>
        <seg>/usr/include/isl</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libisl">
        <term><filename class="libraryfile" moreinfo="none">libisl</filename></term>
        <listitem>
          <para>The Integer Set Library.</para>
          <indexterm zone="ch-system-isl libisl" significance="normal">
            <primary sortas="c-libisl">libisl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-zlib" role="wrap" xml:base="common/zlib.xml">
  <?dbhtml filename="zlib.html"?>

  <title>Zlib-1.2.11</title>

  <indexterm zone="ch-system-zlib" significance="normal">
    <primary sortas="a-Zlib">Zlib</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Zlib package contains compression and decompression routines
    used by some programs.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Zlib</title>

    <para os="a">Prepare Zlib for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">CC="gcc -isystem /usr/include" \
CXX="g++ -isystem /usr/include" \
LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">The previous command installed two <filename class="extension" moreinfo="none">.so</filename> files into <filename class="directory" moreinfo="none">/usr/lib</filename>. We will move them into
    <filename class="directory" moreinfo="none">/lib</filename> and then recreate a link
    in <filename class="directory" moreinfo="none">/usr/lib</filename>:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/libz.so.* /lib
ln -sfv ../../lib/$(readlink /usr/lib/libz.so) /usr/lib/libz.so</userinput></screen>

    <para os="j">Install the documentation:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">mkdir -pv /usr/share/doc/zlib-1.2.11
cp -rv doc/* examples /usr/share/doc/zlib-1.2.11</userinput></screen>

  </sect2>

  <sect2 id="contents-zlib" role="content">
    <title>Contents of Zlib</title>

    <segmentedlist>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>libz.[a,so]</seg>
        <seg>/usr/share/doc/zlib-1.2.11</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libz">
        <term><filename class="libraryfile" moreinfo="none">libz</filename></term>
        <listitem>
          <para>Contains compression and decompression
          functions used by some programs</para>
          <indexterm zone="ch-system-zlib libz" significance="normal">
            <primary sortas="c-libz">libz</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-flex" role="wrap" xml:base="common/flex.xml">
  <?dbhtml filename="flex.html"?>

  <title>Flex-2.6.4</title>

  <indexterm zone="ch-system-flex" significance="normal">
    <primary sortas="a-Flex">Flex</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Flex package contains a utility for generating programs that
    recognize patterns in text.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Flex</title>

    <para os="a">Prepare Flex for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --docdir=/usr/share/doc/flex-2.6.4</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="e3">The test suite will report 3 failures for tests that
    use <command moreinfo="none">bison</command>, which is not installed yet. For full
    test coverage, you can run Flex's test suite again after Bison
    is installed.</para>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">A few programs do not know about <command moreinfo="none">flex</command> yet and
    try to run its predecessor, <command moreinfo="none">lex</command>. To support those
    programs, create a symbolic link named <filename moreinfo="none">lex</filename> that
    runs <filename moreinfo="none">flex</filename> in <command moreinfo="none">lex</command> emulation
    mode:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">ln -sv flex /usr/bin/lex</userinput></screen>

  </sect2>

  <sect2 id="contents-flex" role="content">
    <title>Contents of Flex</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>flex, flex++ (link to flex), lex</seg>
        <seg>libfl.[a,so], libfl_pic.[a,so]</seg>
        <seg>/usr/share/doc/flex-2.6.4</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="flex">
        <term><command moreinfo="none">flex</command></term>
        <listitem>
          <para>A tool for generating programs that recognize patterns in text;
          it allows for the versatility to specify the rules for pattern-finding,
          eradicating the need to develop a specialized program</para>
          <indexterm zone="ch-system-flex flex" significance="normal">
            <primary sortas="b-flex">flex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="flexpp">
        <term><command moreinfo="none">flex++</command></term>
        <listitem>
          <para>Link to <command moreinfo="none">flex</command> which makes it generate C++
          scanner classes</para>
          <indexterm zone="ch-system-flex flexpp" significance="normal">
            <primary sortas="b-flex++">flex++</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lex">
        <term><command moreinfo="none">lex</command></term>
        <listitem>
          <para>A script that runs <command moreinfo="none">flex</command> in
          <command moreinfo="none">lex</command> emulation mode</para>
          <indexterm zone="ch-system-flex lex" significance="normal">
            <primary sortas="b-lex">lex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libfl">
        <term><filename class="libraryfile" moreinfo="none">libfl</filename></term>
        <listitem>
          <para>The <filename class="libraryfile" moreinfo="none">flex</filename> library</para>
          <indexterm zone="ch-system-flex libfl" significance="normal">
            <primary sortas="c-libfl">libfl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libfl_pic">
        <term><filename class="libraryfile" moreinfo="none">libfl_pic</filename></term>
        <listitem>
          <para>The <filename class="libraryfile" moreinfo="none">flex</filename> library</para>
          <indexterm zone="ch-system-flex libfl_pic" significance="normal">
            <primary sortas="c-libfl">libfl_pic</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-bison" role="wrap" xml:base="common/bison.xml">
  <?dbhtml filename="bison.html"?>

  <title>Bison-3.0.4</title>

  <indexterm zone="ch-system-bison" significance="normal">
    <primary sortas="a-Bison">Bison</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Bison package contains a parser generator.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Bison</title>

    <para os="a">Prepare Bison for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
        --prefix=/usr \
        --docdir=/usr/share/doc/bison-3.0.4</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-bison" role="content">
    <title>Contents of Bison</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed library</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>bison, yacc</seg>
        <seg>liby.a</seg>
        <seg>/usr/share/bison, /usr/share/doc/bison-3.0.4</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bison">
        <term><command moreinfo="none">bison</command></term>
        <listitem>
          <para>Generates, from a series of rules, a program for analyzing
          the structure of text files; Bison is a replacement for Yacc (Yet
          Another Compiler Compiler)</para>
          <indexterm zone="ch-system-bison bison" significance="normal">
            <primary sortas="b-bison">bison</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="yacc">
        <term><command moreinfo="none">yacc</command></term>
        <listitem>
          <para>A wrapper for <command moreinfo="none">bison</command>, meant for programs that
          still call <command moreinfo="none">yacc</command> instead of <command moreinfo="none">bison</command>;
          it calls <command moreinfo="none">bison</command> with the <option>-y</option>
          option</para>
          <indexterm zone="ch-system-bison yacc" significance="normal">
            <primary sortas="b-yacc">yacc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="liby.a">
        <term><filename class="libraryfile" moreinfo="none">liby.a</filename></term>
        <listitem>
          <para>The Yacc library containing implementations of Yacc-compatible
          <emphasis>yyerror</emphasis> and <emphasis>main</emphasis> functions;
          this library is normally not very useful, but POSIX requires it</para>
          <indexterm zone="ch-system-bison liby.a" significance="normal">
            <primary sortas="c-liby.a">liby.a</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-binutils" role="wrap" xml:base="64/binutils.xml">
  <?dbhtml filename="binutils.html"?>

  <title>Binutils-2.28</title>

  <indexterm zone="ch-system-binutils" significance="normal">
    <primary sortas="a-Binutils">Binutils</primary>
  </indexterm>

  <sect2 role="package" xml:base="../common/binutils.xml">
    <title/>

    <para>The Binutils package contains a linker, an assembler, and other
    tools for handling object files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Binutils</title>

    <para os="b" xml:base="../common/binutils.xml">Verify that the PTYs are working properly inside the build
    environment. Check that everything is set up correctly by performing a
    simple test:</para>

    <screen os="c" role="nodump" xml:base="../common/binutils.xml" format="linespecific"><userinput moreinfo="none">expect -c "spawn ls"</userinput></screen>

    <para os="d" xml:base="../common/binutils.xml">This command should give the following output:</para>

    <screen os="e" xml:base="../common/binutils.xml" format="linespecific"><computeroutput moreinfo="none">spawn ls</computeroutput></screen>

    <para os="f" xml:base="../common/binutils.xml">If, instead, it gives a message saying to create more ptys,
    then the environment is not set up for proper PTY operation. This issue
    needs to be resolved before running the test suites for Binutils and GCC.</para>

<!-- Branch update patch area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/binutils.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../final-system/common/binutils.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->
    <para os="g" xml:base="../common/binutils.xml">The Binutils documentation recommends building Binutils outside of the
    source directory in a dedicated build directory:</para>

    <screen os="h" xml:base="../common/binutils.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../binutils-build
cd ../binutils-build</userinput></screen>

    <para os="i" xml:base="../common/binutils.xml">Prepare Binutils for compilation:</para>

<screen os="ca" format="linespecific"><userinput moreinfo="none">CC="gcc -isystem /usr/include" \
LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
../binutils-2.28/configure \
    --prefix=/usr \
    --libdir=/usr/lib \
    --enable-shared \
    --disable-multilib \
    --enable-64-bit-bfd \
    --enable-gold=yes \
    --enable-plugins \
    --with-system-zlib \
    --enable-threads</userinput></screen>

    <para os="j" xml:base="../common/binutils.xml">Compile the package:</para>

    <screen os="k" xml:base="../common/binutils.xml" format="linespecific"><userinput moreinfo="none">make tooldir=/usr</userinput></screen>

<!--    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/binutils.xml"
    xpointer="xpointer(//*[@os='l'])"/> -->

    <variablelist os="n" xml:base="../common/binutils.xml">
      <title>The meaning of the make parameter:</title>

      <varlistentry>
        <term><parameter moreinfo="none">tooldir=/usr</parameter></term>
        <listitem>
          <para>Normally, the tooldir (the directory where the executables
          will ultimately be located) is set to <filename class="directory" moreinfo="none">$(exec_prefix)/$(target_alias)</filename>. Because this
          is a custom system, this target-specific directory in <filename class="directory" moreinfo="none">/usr</filename> is not required.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <important os="o" xml:base="../common/binutils.xml">
      <para>Due to Binutils' critical role in a properly functioning system,
      the CLFS developers strongly recommend running the testsuite.</para>
    </important>

    <para os="p" xml:base="../common/binutils.xml">Test the results:</para>

    <screen os="q" xml:base="../common/binutils.xml" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="r" xml:base="../common/binutils.xml">Install the package:</para>

    <screen os="s" xml:base="../common/binutils.xml" format="linespecific"><userinput moreinfo="none">make tooldir=/usr install</userinput></screen>

  </sect2>

  <sect2 id="contents-binutils" role="content" xml:base="../common/binutils.xml">
    <title>Contents of Binutils</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>addr2line, ar, as, c++filt, elfedit, gprof, ld, ld.bfd, ld.gold,
        nm, objcopy, objdump, ranlib, readelf, size, strings, strip</seg>
        <seg>libbfd.[a,so], libopcodes.[a,so]</seg>
        <seg>/usr/lib/ldscripts</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="addr2line">
        <term><command moreinfo="none">addr2line</command></term>
        <listitem>
          <para>Translates program addresses to file names and line numbers;
          given an address and the name of an executable, it uses the debugging
          information in the executable to determine which source file and line
          number are associated with the address</para>
          <indexterm zone="ch-system-binutils addr2line" significance="normal">
            <primary sortas="b-addr2line">addr2line</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ar">
        <term><command moreinfo="none">ar</command></term>
        <listitem>
          <para>Creates, modifies, and extracts from archives</para>
          <indexterm zone="ch-system-binutils ar" significance="normal">
            <primary sortas="b-ar">ar</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="as">
        <term><command moreinfo="none">as</command></term>
        <listitem>
          <para>An assembler that assembles the output of <command moreinfo="none">gcc</command>
          into object files</para>
          <indexterm zone="ch-system-binutils as" significance="normal">
            <primary sortas="b-as">as</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="c-filt">
        <term><command moreinfo="none">c++filt</command></term>
        <listitem>
          <para>Used by the linker to de-mangle C++ and Java symbols and to keep
          overloaded functions from clashing</para>
          <indexterm zone="ch-system-binutils c-filt" significance="normal">
            <primary sortas="b-c++filt">c++filt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="elfedit">
        <term><command moreinfo="none">elfedit</command></term>
        <listitem>
          <para>Updates the ELF header of ELF files</para>
          <indexterm zone="ch-system-binutils elfedit" significance="normal">
            <primary sortas="b-elfedit">elfedit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gprof">
        <term><command moreinfo="none">gprof</command></term>
        <listitem>
          <para>Displays call graph profile data</para>
          <indexterm zone="ch-system-binutils gprof" significance="normal">
            <primary sortas="b-gprof">gprof</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ld">
        <term><command moreinfo="none">ld</command></term>
        <listitem>
          <para>A linker that combines a number of object and archive files
          into a single file, relocating their data and tying up symbol
          references</para>
          <indexterm zone="ch-system-binutils ld" significance="normal">
            <primary sortas="b-ld">ld</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ld.bfd">
        <term><command moreinfo="none">ld.bfd</command></term>
        <listitem>
          <para>Hard link to <command moreinfo="none">ld</command></para>
          <indexterm zone="ch-system-binutils ld.bfd" significance="normal">
            <primary sortas="b-ld.bfd">ld.bfd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ld.gold">
        <term><command moreinfo="none">ld.gold</command></term>
        <listitem>
          <para>A linker designed to be faster than <command moreinfo="none">ld</command>,
          especially for large C++ applications.</para>
          <indexterm zone="ch-system-binutils ld.gold" significance="normal">
            <primary sortas="b-ld.gold">ld.gold</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nm">
        <term><command moreinfo="none">nm</command></term>
        <listitem>
          <para>Lists the symbols occurring in a given object file</para>
          <indexterm zone="ch-system-binutils nm" significance="normal">
            <primary sortas="b-nm">nm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="objcopy">
        <term><command moreinfo="none">objcopy</command></term>
        <listitem>
          <para>Translates one type of object file into another</para>
          <indexterm zone="ch-system-binutils objcopy" significance="normal">
            <primary sortas="b-objcopy">objcopy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="objdump">
        <term><command moreinfo="none">objdump</command></term>
        <listitem>
          <para>Displays information about the given object file, with options
          controlling the particular information to display; the information
          shown is useful to programmers who are working on the compilation
          tools</para>
          <indexterm zone="ch-system-binutils objdump" significance="normal">
            <primary sortas="b-objdump">objdump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ranlib">
        <term><command moreinfo="none">ranlib</command></term>
        <listitem>
          <para>Generates an index of the contents of an archive and stores it
          in the archive; the index lists all of the symbols defined by archive
          members that are relocatable object files</para>
          <indexterm zone="ch-system-binutils ranlib" significance="normal">
            <primary sortas="b-ranlib">ranlib</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="readelf">
        <term><command moreinfo="none">readelf</command></term>
        <listitem>
          <para>Displays information about ELF type binaries</para>
          <indexterm zone="ch-system-binutils readelf" significance="normal">
            <primary sortas="b-readelf">readelf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="size">
        <term><command moreinfo="none">size</command></term>
        <listitem>
          <para>Lists the section sizes and the total size for the given
          object files</para>
          <indexterm zone="ch-system-binutils size" significance="normal">
            <primary sortas="b-size">size</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="strings">
        <term><command moreinfo="none">strings</command></term>
        <listitem>
          <para>Outputs, for each given file, the sequences of printable
          characters that are of at least the specified length (defaulting to
          four); for object files, it prints, by default, only the strings from
          the initializing and loading sections while for other types of files,
          it scans the entire file</para>
          <indexterm zone="ch-system-binutils strings" significance="normal">
            <primary sortas="b-strings">strings</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="strip">
        <term><command moreinfo="none">strip</command></term>
        <listitem>
          <para>Discards symbols from object files</para>
          <indexterm zone="ch-system-binutils strip" significance="normal">
            <primary sortas="b-strip">strip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libbfd">
        <term><filename class="libraryfile" moreinfo="none">libbfd</filename></term>
        <listitem>
          <para>The Binary File Descriptor library</para>
          <indexterm zone="ch-system-binutils libbfd" significance="normal">
            <primary sortas="c-libbfd">libbfd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libopcodes">
        <term><filename class="libraryfile" moreinfo="none">libopcodes</filename></term>
        <listitem>
          <para>A library for dealing with opcodes—the <quote>readable
          text</quote> versions of instructions for the processor;
          it is used for building utilities like
          <command moreinfo="none">objdump</command>.</para>
          <indexterm zone="ch-system-binutils libopcodes" significance="normal">
            <primary sortas="c-libopcodes">libopcodes</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-gcc" role="wrap" xml:base="64/gcc.xml">
  <?dbhtml filename="gcc.html"?>

  <title>GCC-7.1.0</title>

  <indexterm zone="ch-system-gcc" significance="normal">
    <primary sortas="a-GCC">GCC</primary>
  </indexterm>

  <sect2 role="package" xml:base="../common/gcc.xml">
    <title/>

    <para>The GCC package contains the GNU compiler collection, which includes
    the C and C++ compilers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of GCC</title>

<!--GCC Branch Update Area
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/gcc.xml"
    xpointer="xpointer(//*[@os='p1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/gcc.xml"
    xpointer="xpointer(//*[@os='p2'])"/>
-->

    <para os="p5">Apply the following patch so that GCC links to
    <filename class="directory" moreinfo="none">/lib</filename> instead of
    <filename class="directory" moreinfo="none">/lib64</filename>:</para>

<screen os="p6" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../gcc-7.1.0-pure64-1.patch</userinput></screen>

    <para os="fix1" xml:base="../common/gcc.xml">Apply a <command moreinfo="none">sed</command> substitution that will
    suppress the execution of the <command moreinfo="none">fixincludes</command> script:</para>

    <screen os="fix2" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">sed -i 's@\./fixinc\.sh@-c true@' gcc/Makefile.in</userinput></screen>

    <para os="f" xml:base="../common/gcc.xml">The GCC documentation recommends building GCC outside of the source
    directory in a dedicated build directory:</para>

    <screen os="g" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">mkdir -v ../gcc-build
cd ../gcc-build</userinput></screen>

    <para os="h" xml:base="../common/gcc.xml">Prepare GCC for compilation:</para>

   <screen os="i" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">SED=sed CC="gcc -isystem /usr/include" \
CXX="g++ -isystem /usr/include" \
LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
../gcc-7.1.0/configure \
    --prefix=/usr \
    --libexecdir=/usr/lib \
    --enable-languages=c,c++ \
    --disable-multilib \
    --with-system-zlib \
    --enable-install-libiberty \
    --disable-bootstrap</userinput></screen>

   <variablelist os="i1" xml:base="../common/gcc.xml">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">SED=sed</parameter></term>
        <listitem>
          <para>This prevents a hard-coded path to
          <filename moreinfo="none">/tools/bin/sed</filename> in the <command moreinfo="none">fixincl</command>
          program.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-bootstrap</parameter></term>
        <listitem>
          <para>For a native build, GCC defaults to performing a 3-stage
          "bootstrap" of the compiler. This means that GCC is compiled a total
          of 3 times - it is compiled once, the first stage compiler is used
          to build itself again, and the second stage compiler builds itself
          once more. The second and third passes are then compared, verifying
          that GCC is able to reproduce itself successfully. However, there is
          no need for this with the CLFS build process so we disable it here.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="j" xml:base="../common/gcc.xml">Compile the package:</para>

    <screen os="k" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <important os="l" xml:base="../common/gcc.xml">
      <para>Due to GCC's critical role in a properly functioning system,
      the CLFS developers strongly recommend running the testsuite.</para>
    </important>

    <para os="s1" xml:base="../common/gcc.xml">Increase the stack size prior to running the tests:</para>

    <screen os="s2" xml:base="../common/gcc.xml" format="linespecific"><userinput remap="test" moreinfo="none">ulimit -s 32768</userinput></screen>

    <para os="m" xml:base="../common/gcc.xml">Test the results, but do not stop at errors:</para>

    <screen os="n" xml:base="../common/gcc.xml" format="linespecific"><userinput remap="test" moreinfo="none">make -k check</userinput></screen>

    <para os="o" xml:base="../common/gcc.xml">The <parameter moreinfo="none">-k</parameter> flag is used to make the test suite
    run through to completion and not stop at the first failure. The GCC test
    suite is very comprehensive and is almost guaranteed to generate a few
    failures. To receive a summary of the test suite results, run:</para>

    <screen os="p" xml:base="../common/gcc.xml" format="linespecific"><userinput remap="test" moreinfo="none">../gcc-7.1.0/contrib/test_summary</userinput></screen>

    <para os="q" xml:base="../common/gcc.xml">For only the summaries, pipe the output through
    <userinput moreinfo="none">grep -A7 Summ</userinput>.</para>

    <para os="r" xml:base="../common/gcc.xml">A few unexpected failures cannot always be avoided. The
    GCC developers are usually aware of these issues, but have not
    resolved them yet.</para>

    <para os="s" xml:base="../common/gcc.xml">Install the package:</para>

    <screen os="t" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="w" xml:base="../common/gcc.xml">Create a link to satisfy FHS requirements:</para>

    <screen os="x" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">ln -sv ../usr/bin/cpp /lib</userinput></screen>

    <para os="y" xml:base="../common/gcc.xml">Many packages use the name <command moreinfo="none">cc</command> to call the C
    compiler. To satisfy those packages, create a symlink:</para>

    <screen os="z" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">ln -sv gcc /usr/bin/cc</userinput></screen>

    <para os="aa" xml:base="../common/gcc.xml">Finally, move a misplaced file:</para>

    <screen os="ab" xml:base="../common/gcc.xml" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/libstdc++*gdb.py /usr/share/gdb/auto-load/usr/lib</userinput></screen>

  </sect2>

  <sect2 id="contents-gcc" role="content" xml:base="../common/gcc.xml">
    <title>Contents of GCC</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>c++, cc (link to gcc), cpp, g++, gcc, gcov, gcov-tool</seg>
        <seg>libasan.[a,so], libatomic.[a,so], libcc1.so, libcilkrts.[a,so],
        libgcc.a, libgcc_eh.a, libgcc_s.so, libgcov.a, libgomp.[a,so],
        libiberty.a, libitm.[a,so], liblsan.[a,so], liblto_plugin.so,
        libquadmath.[a,so], libssp.[a,so], libssp_nonshared.a,
        libstdc++.[a,so], libsupc++.a, libtsan.[a,so], libubsan.[a,so],
        libvtv.[a,so]</seg>
        <seg>/usr/include/[c++,libiberty], /usr/lib/gcc,
        /usr/share/gcc-7.1.0</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="cc">
        <term><command moreinfo="none">cc</command></term>
        <listitem>
          <para>The C compiler</para>
          <indexterm zone="ch-system-gcc cc" significance="normal">
            <primary sortas="b-cc">cc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cpp">
        <term><command moreinfo="none">cpp</command></term>
        <listitem>
          <para>The C preprocessor; it is used by the compiler to expand the
          #include, #define, and similar statements in the source files</para>
          <indexterm zone="ch-system-gcc cpp" significance="normal">
            <primary sortas="b-cpp">cpp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="c">
        <term><command moreinfo="none">c++</command></term>
        <listitem>
          <para>The C++ compiler</para>
          <indexterm zone="ch-system-gcc c" significance="normal">
            <primary sortas="b-c++">c++</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="g">
        <term><command moreinfo="none">g++</command></term>
        <listitem>
          <para>The C++ compiler</para>
          <indexterm zone="ch-system-gcc g" significance="normal">
            <primary sortas="b-g++">g++</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gcc">
        <term><command moreinfo="none">gcc</command></term>
        <listitem>
          <para>The C compiler</para>
          <indexterm zone="ch-system-gcc gcc" significance="normal">
            <primary sortas="b-gcc">gcc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gcov">
        <term><command moreinfo="none">gcov</command></term>
        <listitem>
          <para>A coverage testing tool; it is used to analyze programs to
          determine where optimizations will have the most effect</para>
          <indexterm zone="ch-system-gcc gcov" significance="normal">
            <primary sortas="b-gcov">gcov</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gcovtool">
        <term><command moreinfo="none">gcov-tool</command></term>
        <listitem>
          <para>An offline tool to handle gcda counts</para>
          <indexterm zone="ch-system-gcc gcovtool" significance="normal">
            <primary sortas="b-gcov-tool">gcov-tool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libasan">
        <term><filename class="libraryfile" moreinfo="none">libasan</filename></term>
        <listitem>
          <para>The Address Sanitizer runtime library</para>
          <indexterm zone="ch-system-gcc libasan" significance="normal">
            <primary sortas="c-libasan">libasan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libatomic">
        <term><filename class="libraryfile" moreinfo="none">libatomic</filename></term>
        <listitem>
          <para>A GCC support runtime library for atomic operations not
          supported by hardware</para>
          <indexterm zone="ch-system-gcc libatomic" significance="normal">
            <primary sortas="c-libatomic">libatomic</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcc1">
        <term><filename class="libraryfile" moreinfo="none">libcc1</filename></term>
        <listitem>
          <para>Translates API into RPC calls</para>
          <indexterm zone="ch-system-gcc libcc1" significance="normal">
            <primary sortas="c-libcc1">libcc1</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcilkrts">
        <term><filename class="libraryfile" moreinfo="none">libcilkrts</filename></term>
        <listitem>
          <para>Intel® Cilk™ Plus runtime library</para>
          <indexterm zone="ch-system-gcc libcilkrts" significance="normal">
            <primary sortas="c-libcilkrts">libcilkrts</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgcc">
        <term><filename class="libraryfile" moreinfo="none">libgcc</filename></term>
        <listitem>
          <para>Contains run-time support for <command moreinfo="none">gcc</command></para>
          <indexterm zone="ch-system-gcc libgcc" significance="normal">
            <primary sortas="c-libgcc*">libgcc*</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgcov">
        <term><filename class="libraryfile" moreinfo="none">libgcov</filename></term>
        <listitem>
          <para>Library that is linked into a program when
          <command moreinfo="none">gcc</command> is instructed to enable profiling</para>
          <indexterm zone="ch-system-gcc libgcov" significance="normal">
            <primary sortas="c-libgcov">libgcov</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgomp">
        <term><filename class="libraryfile" moreinfo="none">libgomp</filename></term>
        <listitem>
          <para>GNU implementation of the OpenMP API for multi-platform
          shared-memory parallel programming in C/C++ and Fortran</para>
          <indexterm zone="ch-system-gcc libgomp" significance="normal">
            <primary sortas="c-libgomp">libgomp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libiberty">
        <term><filename class="libraryfile" moreinfo="none">libiberty</filename></term>
        <listitem>
          <para>Contains routines used by various GNU programs, including
          <command moreinfo="none">getopt</command>, <command moreinfo="none">obstack</command>,
          <command moreinfo="none">strerror</command>, <command moreinfo="none">strtol</command>, and
          <command moreinfo="none">strtoul</command></para>
          <indexterm zone="ch-system-gcc libiberty" significance="normal">
            <primary sortas="c-libiberty">libiberty</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libitm">
        <term><filename class="libraryfile" moreinfo="none">libitm</filename></term>
        <listitem>
          <para>The GNU Transactional Memory Library, which provides
          transaction support for accesses to a process's memory</para>
          <indexterm zone="ch-system-gcc libitm" significance="normal">
            <primary sortas="c-libitm*">libitm*</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="liblsan">
        <term><filename class="libraryfile" moreinfo="none">liblsan</filename></term>
        <listitem>
          <para>The Leak Sanitizer runtime library</para>
          <indexterm zone="ch-system-gcc liblsan" significance="normal">
            <primary sortas="c-liblsan">liblsan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="liblto_plugin">
        <term><filename class="libraryfile" moreinfo="none">liblto_plugin</filename></term>
        <listitem>
          <para>Runtime library for GCC's link-time optimization plugin</para>
          <indexterm zone="ch-system-gcc liblto_plugin" significance="normal">
            <primary sortas="c-liblto_plugin">liblto_plugin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libquadmath">
        <term><filename class="libraryfile" moreinfo="none">libquadmath</filename></term>
        <listitem>
          <para>The GCC Quad-Precision Math Libarary API</para>
          <indexterm zone="ch-system-gcc libquadmath" significance="normal">
            <primary sortas="c-libquadmath*">libquadmath*</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libssp">
        <term><filename class="libraryfile" moreinfo="none">libssp</filename></term>
        <listitem>
          <para>Contains routines supporting GCC's stack-smashing protection
          functionality</para>
          <indexterm zone="ch-system-gcc libssp" significance="normal">
            <primary sortas="c-libssp*">libssp*</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libstdc">
        <term><filename class="libraryfile" moreinfo="none">libstdc++</filename></term>
        <listitem>
          <para>The standard C++ library</para>
          <indexterm zone="ch-system-gcc libstdc" significance="normal">
            <primary sortas="c-libstdc++">libstdc++</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libsupc">
        <term><filename class="libraryfile" moreinfo="none">libsupc++</filename></term>
        <listitem>
          <para>Provides supporting routines for the C++ programming
          language</para>
          <indexterm zone="ch-system-gcc libsupc" significance="normal">
            <primary sortas="c-libsupc++">libsupc++</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libtsan">
        <term><filename class="libraryfile" moreinfo="none">libtsan</filename></term>
        <listitem>
          <para>The Thread Sanitizer runtime library</para>
          <indexterm zone="ch-system-gcc libtsan" significance="normal">
            <primary sortas="c-libtsan">libtsan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libubsan">
        <term><filename class="libraryfile" moreinfo="none">libubsan</filename></term>
        <listitem>
          <para>The Undefined Behavior Sanitizer runtime library</para>
          <indexterm zone="ch-system-gcc libubsan" significance="normal">
            <primary sortas="c-libubsan">libubsan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libvtv">
        <term><filename class="libraryfile" moreinfo="none">libvtv</filename></term>
        <listitem>
          <para>The Virtual Table Verification runtime library</para>
          <indexterm zone="ch-system-gcc libvtv" significance="normal">
            <primary sortas="c-libvtv">libvtv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-attr" role="wrap" xml:base="common/attr.xml">
  <?dbhtml filename="attr.html"?>

  <title>Attr-2.4.47</title>

  <indexterm zone="ch-system-attr" significance="normal">
    <primary sortas="a-Attr">Attr</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Attr is a library for getting and setting POSIX.1e
    (formerly POSIX 6) draft 15 capabilities.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Attr</title>

    <para os="s1">Apply a sed which prevents man-pages which were installed by
    the <xref linkend="ch-system-man-pages"/> package:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i -e "/SUBDIRS/s|man[25]||g" man/Makefile</userinput></screen>

    <para os="a">Apply a sed to install the documentation with a versioned
    directory:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">sed -i -e 's|/@pkg_name@|&amp;-@pkg_version@|' include/builddefs.in</userinput></screen>

    <para os="c">Prepare Attr for compilation:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="e">Compile the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g">The tests need to run with a filesystem which supports extended
    attributes. Test the results:</para>

<screen os="h" format="linespecific"><userinput remap="test" moreinfo="none">make -j1 tests root-tests</userinput></screen>

    <para os="i">Install the package:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make install install-dev install-lib</userinput></screen>

    <para os="k">Move the shared library to <filename class="directory" moreinfo="none">/lib
    </filename> and recreate the symlink in <filename class="directory" moreinfo="none">/usr/lib
    </filename>:</para>

<screen os="l" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/libattr.so.* /lib
ln -sfv ../../lib/$(readlink /usr/lib/libattr.so) /usr/lib/libattr.so</userinput></screen>

    <para os="m">Set the proper permissions on the shared library:</para>

<screen os="n" format="linespecific"><userinput moreinfo="none">chmod 755 -v /lib/libattr.so.1.1.0</userinput></screen>

  </sect2>

  <sect2 id="contents-attr" role="content">
    <title>Contents of Attr</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>attr, getfattr, setfattr</seg>
        <seg>libattr.[a,so]</seg>
        <seg>/usr/include/attr, /usr/share/doc/attr-2.4.47</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="attr">
        <term><command moreinfo="none">attr</command></term>
        <listitem>
          <para>Manage extended attributes on filesystem objects</para>
          <indexterm zone="ch-system-attr attr" significance="normal">
            <primary sortas="b-attr">attr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getfattr">
        <term><command moreinfo="none">getfattr</command></term>
        <listitem>
          <para>Get extended attributes of filesystem objects</para>
          <indexterm zone="ch-system-attr getfattr" significance="normal">
            <primary sortas="b-getfattr">getfattr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setfattr">
        <term><command moreinfo="none">setfattr</command></term>
        <listitem>
          <para>Set extended attributes of filesystem objects</para>
          <indexterm zone="ch-system-attr setfattr" significance="normal">
            <primary sortas="b-setfattr">setfattr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libattr">
        <term><filename class="libraryfile" moreinfo="none">libattr</filename></term>
        <listitem>
          <para>Library to manage extended attributes on filesystem objects</para>
          <indexterm zone="ch-system-attr libattr" significance="normal">
            <primary sortas="c-libattr">libattr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-libcap" role="wrap" xml:base="common/libcap.xml">
  <?dbhtml filename="libcap.html"?>

  <title>Libcap-2.25</title>

  <indexterm zone="ch-system-libcap" significance="normal">
    <primary sortas="a-Libcap">Libcap</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Libcap is a library for getting and setting POSIX.1e
    (formerly POSIX 6) draft 15 capabilities.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Libcap</title>

    <para os="a">Compile the package:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="c">This package does not come with a test suite.</para>

    <para os="d">Install the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make RAISE_SETFCAP=no install
chmod -v 755 /lib/libcap.so.2.25
ln -sfv ../../lib/$(readlink /lib/libcap.so) /usr/lib/libcap.so
rm -v /lib/libcap.so
mv -v /lib/libcap.a /usr/lib</userinput></screen>

    <variablelist os="f">
      <title>The meaning of the make option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">RAISE_SETFCAP=no</parameter></term>
        <listitem>
          <para>This prevents <command moreinfo="none">setcap</command> from being run on
          itself, which will fail if the kernel or file system does not
          support extended capabilities.</para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

  <sect2 id="contents-libcap" role="content">
    <title>Contents of Libcap</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>

      <seglistitem>
        <seg>capsh, getcap, getpcaps, setcap</seg>
        <seg>libcap.[a,so]</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="capsh">
        <term><command moreinfo="none">capsh</command></term>
        <listitem>
          <para>Capability support and use can be explored and constrained
          with this tool</para>
          <indexterm zone="ch-system-libcap capsh" significance="normal">
            <primary sortas="b-capsh">capsh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getcap">
        <term><command moreinfo="none">getcap</command></term>
        <listitem>
          <para>Examines file capabilities</para>
          <indexterm zone="ch-system-libcap getcap" significance="normal">
            <primary sortas="b-getcap">getcap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getpcaps">
        <term><command moreinfo="none">getpcaps</command></term>
        <listitem>
          <para>Displays the capabilities on the queried process(es)</para>
          <indexterm zone="ch-system-libcap getpcaps" significance="normal">
            <primary sortas="b-getpcaps">getpcaps</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setcap">
        <term><command moreinfo="none">setcap</command></term>
        <listitem>
          <para>Sets file capabilities</para>
          <indexterm zone="ch-system-libcap setcap" significance="normal">
            <primary sortas="b-setcap">setcap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcap">
        <term><filename class="libraryfile" moreinfo="none">libcap</filename></term>
        <listitem>
          <para>Library for setting and clearing POSIX.1e capabilities</para>
          <indexterm zone="ch-system-libcap libcap" significance="normal">
            <primary sortas="c-libcap">libcap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-acl" role="wrap" xml:base="common/acl.xml">
  <?dbhtml filename="acl.html"?>

  <title>Acl-2.2.52</title>

  <indexterm zone="ch-system-acl" significance="normal">
    <primary sortas="a-Acl">Acl</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Acl is a library for getting and setting POSIX Access Control Lists.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Acl</title>

    <para os="s1">Apply a sed for a test:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i -e "/TABS-1;/a if (x &gt; (TABS-1)) x = (TABS-1);" \
    libacl/__acl_to_any_text.c</userinput></screen>

    <para os="a">Apply a sed to install the documentation with a versioned
    directory:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">sed -i -e 's|/@pkg_name@|&amp;-@pkg_version@|' include/builddefs.in</userinput></screen>

    <para os="c">Apply a sed to fix a few tests:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">sed -i "s:| sed.*::g" test/{sbits-restore,cp,misc}.test</userinput></screen>

    <para os="e">Prepare Acl for compilation:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --libexecdir=/usr/lib</userinput></screen>

    <para os="g">Compile the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="i">The Acl tests need a filesystem which supports access controls
    after Coreutils has been built with the Acl libraries. Return to this
    section after Coreutils has been installed. Test the results:</para>

<screen os="j" format="linespecific"><userinput remap="test" moreinfo="none">make tests</userinput></screen>

    <para os="k">Install the package:</para>

<screen os="l" format="linespecific"><userinput moreinfo="none">make install install-dev install-lib</userinput></screen>

    <para os="m">Move the shared library to <filename class="directory" moreinfo="none">/lib</filename>
    and recreate the symlink in <filename class="directory" moreinfo="none">/usr/lib</filename>:</para>

<screen os="n" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/libacl.so.* /lib
ln -sfv ../../lib/libacl.so.1 /usr/lib/libacl.so</userinput></screen>

    <para os="o">Set the proper permissions on the shared library:</para>

<screen os="p" format="linespecific"><userinput moreinfo="none">chmod 755 -v /lib/libacl.so.1.1.0</userinput></screen>

  </sect2>

  <sect2 id="contents-acl" role="content">
    <title>Contents of Acl</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>chacl, getfacl, setfacl</seg>
        <seg>libattr.[a,so]</seg>
        <seg>/usr/include/acl, /usr/share/doc/acl-2.2.52</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="chacl">
        <term><command moreinfo="none">chacl</command></term>
        <listitem>
          <para>Changes the access control list of a file or directory</para>
          <indexterm zone="ch-system-acl chacl" significance="normal">
            <primary sortas="b-chacl">chacl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getfacl">
        <term><command moreinfo="none">getfacl</command></term>
        <listitem>
          <para>Get file access control lists</para>
          <indexterm zone="ch-system-acl getfacl" significance="normal">
            <primary sortas="b-getfacl">getfacl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setfacl">
        <term><command moreinfo="none">setfacl</command></term>
        <listitem>
          <para>Set file access control lists</para>
          <indexterm zone="ch-system-acl setfacl" significance="normal">
            <primary sortas="b-setfacl">setfacl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libacl">
        <term><filename class="libraryfile" moreinfo="none">libacl</filename></term>
        <listitem>
          <para>Library to manage access control lists</para>
          <indexterm zone="ch-system-acl libacl" significance="normal">
            <primary sortas="c-libacl">libacl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-sed" role="wrap" xml:base="common/sed.xml">
  <?dbhtml filename="sed.html"?>

  <title>Sed-4.4</title>

  <indexterm zone="ch-system-sed" significance="normal">
    <primary sortas="a-Sed">Sed</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Sed package contains a stream editor.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Sed</title>

    <para os="a">Prepare Sed for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --bindir=/bin \
    --docdir=/usr/share/doc/sed-4.4</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e"> Build the HTML documentation:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make html</userinput></screen>

    <para os="g">To test the results, issue:</para>

<screen os="g2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="h">Install the package:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="j">Install the HTML documentation:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">make install-html-am</userinput></screen>

  </sect2>

  <sect2 id="contents-sed" role="content">
    <title>Contents of Sed</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>sed</seg>
        <seg>/usr/share/doc/sed-4.4</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="sed">
        <term><command moreinfo="none">sed</command></term>
        <listitem>
          <para>Filters and transforms text files in a single pass</para>
          <indexterm zone="ch-system-sed sed" significance="normal">
            <primary sortas="b-sed">sed</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-pkg-config-lite" role="wrap" xml:base="common/pkg-config-lite.xml">
  <?dbhtml filename="pkg-config-lite.html"?>

  <title>Pkg-config-lite-0.28-1</title>

  <indexterm zone="ch-system-pkg-config-lite" significance="normal">
    <primary sortas="a-Pkg-config-lite">Pkg-config-lite</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Pkg-config-lite is a tool to help you insert the correct compiler options
    on the command line when compiling applications and libraries.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Pkg-config-lite</title>

    <para os="a">Prepare Pkg-config-lite for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --docdir=/usr/share/doc/pkg-config-0.28-1</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-pkg-config-lite" role="content">
    <title>Contents of Pkg-config-lite</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>pkg-config</seg>
        <seg>/usr/share/doc/pkg-config-0.28-1</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="pkg-config-lite">
        <term><command moreinfo="none">pkg-config</command></term>
        <listitem>
          <para>The <command moreinfo="none">pkg-config</command> program is used to retrieve
          information about installed libraries in the system. It is typically
          used to compile and link against one or more libraries.</para>
          <indexterm zone="ch-system-pkg-config-lite pkg-config-lite" significance="normal">
            <primary sortas="b-pkg-config-lite">pkg-config</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-ncurses" role="wrap" xml:base="common/ncurses.xml">
  <?dbhtml filename="ncurses.html"?>

  <title>Ncurses-6.0</title>

  <indexterm zone="ch-system-ncurses" significance="normal">
    <primary sortas="a-Ncurses">Ncurses</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Ncurses package contains libraries for terminal-independent
    handling of character screens.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Ncurses</title>

<!--Ncurses Branch Update Area
    <para os="p1">The following patch contains updates from the &ncurses-version; branch
    by the Ncurses developers:</para>

<screen os="p2"><userinput>patch -Np1 -i ../&ncurses-branch_update-patch;</userinput></screen>
-->

    <para os="a">Prepare Ncurses for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --with-shared \
    --without-debug \
    --enable-widec \
    --enable-pc-files</userinput></screen>

    <variablelist os="b1">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-pc-files</parameter></term>
        <listitem>
          <para>This tells Ncurses to generate and install .pc files for
          <command moreinfo="none">pkg-config</command>.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">This package has a test suite, but it can only be run after
    the package is installed. The tests are in the
    <filename class="directory" moreinfo="none">test/</filename> directory. See the
    <filename moreinfo="none">README</filename> file in that directory for details.</para>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Move the <filename class="libraryfile" moreinfo="none">libncursesw</filename>
    shared library to <filename class="directory" moreinfo="none">/lib</filename>
    and create a new symlink in <filename class="directory" moreinfo="none">/usr/lib</filename>:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/libncursesw.so.* /lib
ln -svf ../../lib/$(readlink /usr/lib/libncursesw.so) /usr/lib/libncursesw.so</userinput></screen>

    <para os="l">Many packages that use Ncurses will compile just fine against
    the widechar libraries, but won't know to look for them. Create linker
    scripts and symbolic links to allow older and non-widec compatible
    programs to build properly:</para>

<screen os="m" format="linespecific"><userinput moreinfo="none">for lib in ncurses form panel menu ; do
        echo "INPUT(-l${lib}w)" &gt; /usr/lib/lib${lib}.so
        ln -sfv lib${lib}w.a /usr/lib/lib${lib}.a
done
ln -sfv libncurses++w.a /usr/lib/libncurses++.a
ln -sfv ncursesw6-config /usr/bin/ncurses6-config</userinput></screen>

  </sect2>

  <sect2 id="contents-ncurses" role="content">
    <title>Contents of Ncurses</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>captoinfo (link to tic), clear, infocmp, infotocap (link to tic),
        ncursesw6-config, reset (link to tset), tabs, tic, toe, tput, tset</seg>
        <seg>libcursesw.so (link to libncursesw.so), libformw.[a,so],
        libmenuw.[a,so], libncurses++w.a, libncursesw.[a,so],
        libpanelw.[a,so]</seg>
        <seg>/usr/share/tabset, /usr/share/terminfo</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="captoinfo">
        <term><command moreinfo="none">captoinfo</command></term>
        <listitem>
          <para>Converts a termcap description into a terminfo description</para>
          <indexterm zone="ch-system-ncurses captoinfo" significance="normal">
            <primary sortas="b-captoinfo">captoinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="clear">
        <term><command moreinfo="none">clear</command></term>
        <listitem>
          <para>Clears the screen, if possible</para>
          <indexterm zone="ch-system-ncurses clear" significance="normal">
            <primary sortas="b-clear">clear</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="infocmp">
        <term><command moreinfo="none">infocmp</command></term>
        <listitem>
          <para>Compares or prints out terminfo descriptions</para>
          <indexterm zone="ch-system-ncurses infocmp" significance="normal">
            <primary sortas="b-infocmp">infocmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="infotocap">
        <term><command moreinfo="none">infotocap</command></term>
        <listitem>
          <para>Converts a terminfo description into a termcap description</para>
          <indexterm zone="ch-system-ncurses infotocap" significance="normal">
            <primary sortas="b-infotocap">infotocap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ncursesw6-config">
        <term><command moreinfo="none">ncursesw6-config</command></term>
        <listitem>
          <para>Provides configuration information for ncurses</para>
          <indexterm zone="ch-system-ncurses ncursesw6-config" significance="normal">
            <primary sortas="b-ncursesw6-config">ncursesw6-config</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="reset">
        <term><command moreinfo="none">reset</command></term>
        <listitem>
          <para>Reinitializes a terminal to its default values</para>
          <indexterm zone="ch-system-ncurses reset" significance="normal">
            <primary sortas="b-reset">reset</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tabs">
        <term><command moreinfo="none">tabs</command></term>
        <listitem>
          <para>Sets and clears tab stops on a terminal</para>
          <indexterm zone="ch-system-ncurses tabs" significance="normal">
            <primary sortas="b-tabs">tabs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tic">
        <term><command moreinfo="none">tic</command></term>
        <listitem>
          <para>The terminfo entry-description compiler that translates a
          terminfo file from source format into the binary format needed for the
          ncurses library routines. A terminfo file contains information on the
          capabilities of a certain terminal</para>
          <indexterm zone="ch-system-ncurses tic" significance="normal">
            <primary sortas="b-tic">tic</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="toe">
        <term><command moreinfo="none">toe</command></term>
        <listitem>
          <para>Lists all available terminal types, giving the primary name and
          description for each</para>
          <indexterm zone="ch-system-ncurses toe" significance="normal">
            <primary sortas="b-toe">toe</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tput">
        <term><command moreinfo="none">tput</command></term>
        <listitem>
          <para>Makes the values of terminal-dependent capabilities available to
          the shell; it can also be used to reset or initialize a terminal or
          report its long name</para>
          <indexterm zone="ch-system-ncurses tput" significance="normal">
            <primary sortas="b-tput">tput</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tset">
        <term><command moreinfo="none">tset</command></term>
        <listitem>
          <para>Can be used to initialize terminals</para>
          <indexterm zone="ch-system-ncurses tset" significance="normal">
            <primary sortas="b-tset">tset</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcursesw">
        <term><filename class="libraryfile" moreinfo="none">libcursesw</filename></term>
        <listitem>
          <para>A link to <filename moreinfo="none">libncursesw</filename></para>
          <indexterm zone="ch-system-ncurses libcursesw" significance="normal">
            <primary sortas="c-libcursesw">libcursesw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libncursesw">
        <term><filename class="libraryfile" moreinfo="none">libncursesw</filename></term>
        <listitem>
          <para>Contains functions to display text in many complex ways on a
          terminal screen; a good example of the use of these functions is the
          menu displayed during the kernel's
          <command moreinfo="none">make menuconfig</command></para>
          <indexterm zone="ch-system-ncurses libncursesw" significance="normal">
            <primary sortas="c-libncursesw">libncursesw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libformw">
        <term><filename class="libraryfile" moreinfo="none">libformw</filename></term>
        <listitem>
          <para>Contains functions to implement forms</para>
          <indexterm zone="ch-system-ncurses libformw" significance="normal">
            <primary sortas="c-libformw">libformw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libmenuw">
        <term><filename class="libraryfile" moreinfo="none">libmenuw</filename></term>
        <listitem>
          <para>Contains functions to implement menus</para>
          <indexterm zone="ch-system-ncurses libmenuw" significance="normal">
            <primary sortas="c-libmenuw">libmenuw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libpanelw">
        <term><filename class="libraryfile" moreinfo="none">libpanelw</filename></term>
        <listitem>
          <para>Contains functions to implement panels</para>
          <indexterm zone="ch-system-ncurses libpanelw" significance="normal">
            <primary sortas="c-libpanelw">libpanelw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-shadow" role="wrap" xml:base="common/shadow.xml">
  <?dbhtml filename="shadow.html"?>

  <title>Shadow-4.5</title>

  <indexterm zone="ch-system-shadow" significance="normal">
    <primary sortas="a-Shadow">Shadow</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Shadow package contains programs for handling passwords in a
    secure way.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Shadow</title>

    <note os="a">
      <para>If you would like to enforce the use of strong passwords,
      refer to <ulink url="http://cblfs.clfs.org/index.php/Cracklib"/>
      for installing Cracklib prior to building Shadow. After Cracklib is
      installed, execute this <command moreinfo="none">sed</command> in Shadow's source
      directory to correct the path to the Cracklib dictionary:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">sed -i 's@\(DICTPATH.\).*@\1/lib/cracklib/pw_dict@' etc/login.defs</userinput></screen>

      <para>Finally, add <parameter moreinfo="none">--with-libcrack</parameter> to the
      <command moreinfo="none">configure</command> command below.</para>

    </note>

    <para os="b">Disable the installation of the <command moreinfo="none">groups</command>
    program and man pages, as better versions of these programs are provided by
    Coreutils, Util-linux and Man-pages:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">sed -i src/Makefile.in \
  -e 's/groups$(EXEEXT) //'
find man -name Makefile.in -exec sed -i \
  -e 's/man1\/groups\.1 //' \
  -e 's/man3\/getspnam\.3 //' \
  -e 's/man5\/passwd\.5 //' '{}' \;</userinput></screen>

    <para os="d">Prepare Shadow for compilation:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">./configure \
    --sysconfdir=/etc \
    --with-group-max-length=32</userinput></screen>

  <variablelist os="f">
    <title>The meaning of the new configure option:</title>

    <varlistentry>
      <term><parameter moreinfo="none">--sysconfdir=/etc</parameter></term>
      <listitem><para>Tells Shadow to install its configuration files into
      <filename class="directory" moreinfo="none">/etc</filename>, rather than
      <filename class="directory" moreinfo="none">/usr/etc</filename>.</para></listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter moreinfo="none">--with-group-max-length=32</parameter></term>
      <listitem><para>The maximum user name is 32 characters.
      Make the maximum group name the same.</para></listitem>
    </varlistentry>

  </variablelist>

    <para os="g">Compile the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="i">This package does not come with a test suite.</para>

    <para os="j">Install the package:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="l" id="shadow-login_defs">Instead of using the default
    <emphasis>DES</emphasis> method, use the more secure
    <emphasis>SHA512</emphasis> method of password encryption, which also allows
    passwords longer than 8 characters. It is also necessary to change the
    obsolete <filename class="directory" moreinfo="none">/var/spool/mail</filename> location
    for user mailboxes that Shadow uses by default to the <filename class="directory" moreinfo="none">/var/mail</filename> location used currently. Use the
    following sed command to make these changes to the appropriate
    configuration file:</para>

    <indexterm os="m" zone="shadow-login_defs" significance="normal">
      <primary sortas="e-/etc/login.defs">/etc/login.defs</primary>
    </indexterm>

<screen os="n" format="linespecific"><userinput moreinfo="none">sed -i /etc/login.defs \
    -e 's@#\(ENCRYPT_METHOD \).*@\1SHA512@' \
    -e 's@/var/spool/mail@/var/mail@'</userinput></screen>

    <para os="o">Move a misplaced program to its proper location:</para>

<screen os="p" format="linespecific"><userinput moreinfo="none">mv -v /usr/bin/passwd /bin</userinput></screen>

    <para os="q">The <command moreinfo="none">login</command> program will write to
    <filename moreinfo="none">/var/log/faillog</filename>, to record failed login attempts, and
    <filename moreinfo="none">/var/log/lastlog</filename>, to record the date and
    time of the latest successful login for each user. These log files are not
    created automatically if they do not already exist, so we will
    create them now and give them appropriate ownership and permissions:</para>

<screen os="r" format="linespecific"><userinput moreinfo="none">touch /var/log/{fail,last}log
chgrp -v utmp /var/log/{fail,last}log
chmod -v 664 /var/log/{fail,last}log</userinput></screen>

  </sect2>

  <sect2 id="conf-shadow" role="configuration">
    <title>Configuring Shadow</title>

    <indexterm zone="conf-shadow" significance="normal">
      <primary sortas="a-Shadow">Shadow</primary>
      <secondary>configuring</secondary>
    </indexterm>

    <para>This package contains utilities to add, modify, and delete users and
    groups; set and change their passwords; and perform other administrative
    tasks. For a full explanation of what <emphasis>password shadowing</emphasis>
    means, see the <filename moreinfo="none">doc/HOWTO</filename> file within the unpacked source
    tree. If using Shadow support, keep in mind that programs which need to
    verify passwords (display managers, FTP programs, pop3 daemons, etc.) must
    be Shadow-compliant. That is, they need to be able to work with shadowed
    passwords.</para>

    <para>To enable shadowed passwords, run the following command:</para>

<screen format="linespecific"><userinput moreinfo="none">pwconv</userinput></screen>

    <para>To enable shadowed group passwords, run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">grpconv</userinput></screen>

    <para>To view or change the default settings for new user accounts that
    you create, you can edit <filename moreinfo="none">/etc/default/useradd</filename>. See
    <command moreinfo="none">man useradd</command> or
    <ulink url="http://cblfs.clfs.org/index.php/Configuring_for_Adding_Users"/> for more
    information.</para>

  </sect2>

  <sect2 id="root-password" role="configuration">
    <title>Setting the root password</title>

    <para>Choose a password for user <systemitem class="username" moreinfo="none">root</systemitem> and set it by running:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">passwd root</userinput></screen>

  </sect2>

  <sect2 id="contents-shadow" role="content">
    <title>Contents of Shadow</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>chage, chfn, chgpasswd, chpasswd, chsh, expiry, faillog, gpasswd,
        groupadd, groupdel, groupmems, groupmod, grpck, grpconv, grpunconv,
        lastlog, login, logoutd, newgrp, newusers, nologin, passwd, pwck,
        pwconv, pwunconv, sg (link to newgrp), su, useradd, userdel, usermod,
        vigr (link to vipw), vipw</seg>
        <seg>/etc/default</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="chage">
        <term><command moreinfo="none">chage</command></term>
        <listitem>
          <para>Used to change the maximum number of days between obligatory
          password changes</para>
          <indexterm zone="ch-system-shadow chage" significance="normal">
            <primary sortas="b-chage">chage</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chfn">
        <term><command moreinfo="none">chfn</command></term>
        <listitem>
          <para>Used to change a user's full name and other information</para>
          <indexterm zone="ch-system-shadow chfn" significance="normal">
            <primary sortas="b-chfn">chfn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chgpasswd">
        <term><command moreinfo="none">chgpasswd</command></term>
        <listitem>
          <para>Used to update group passwords in batch mode</para>
          <indexterm zone="ch-system-shadow chgpasswd" significance="normal">
            <primary sortas="b-chgpasswd">chgpasswd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chpasswd">
        <term><command moreinfo="none">chpasswd</command></term>
        <listitem>
          <para>Used to update the passwords of an entire series of user
          accounts</para>
          <indexterm zone="ch-system-shadow chpasswd" significance="normal">
            <primary sortas="b-chpasswd">chpasswd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chsh">
        <term><command moreinfo="none">chsh</command></term>
        <listitem>
          <para>Used to change a user's default login shell</para>
          <indexterm zone="ch-system-shadow chsh" significance="normal">
            <primary sortas="b-chsh">chsh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="expiry">
        <term><command moreinfo="none">expiry</command></term>
        <listitem>
          <para>Checks and enforces the current password expiration policy</para>
          <indexterm zone="ch-system-shadow expiry" significance="normal">
            <primary sortas="b-expiry">expiry</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="faillog">
        <term><command moreinfo="none">faillog</command></term>
        <listitem>
          <para>Is used to examine the log of login failures, to set a maximum
          number of failures before an account is blocked, or to reset the
          failure count</para>
          <indexterm zone="ch-system-shadow faillog" significance="normal">
            <primary sortas="b-faillog">faillog</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpasswd">
        <term><command moreinfo="none">gpasswd</command></term>
        <listitem>
          <para>Is used to add and delete members and administrators to
          groups</para>
          <indexterm zone="ch-system-shadow gpasswd" significance="normal">
            <primary sortas="b-gpasswd">gpasswd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="groupadd">
        <term><command moreinfo="none">groupadd</command></term>
        <listitem>
          <para>Creates a group with the given name</para>
          <indexterm zone="ch-system-shadow groupadd" significance="normal">
            <primary sortas="b-groupadd">groupadd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="groupdel">
        <term><command moreinfo="none">groupdel</command></term>
        <listitem>
          <para>Deletes the group with the given name</para>
          <indexterm zone="ch-system-shadow groupdel" significance="normal">
            <primary sortas="b-groupdel">groupdel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="groupmems">
        <term><command moreinfo="none">groupmems</command></term>
        <listitem>
          <para>Allows a user to administer his/her own group membership list
          without the requirement of superuser privileges</para>
          <indexterm zone="ch-system-shadow groupmems" significance="normal">
            <primary sortas="b-groupmems">groupmems</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="groupmod">
        <term><command moreinfo="none">groupmod</command></term>
        <listitem>
          <para>Is used to modify the given group's name or GID</para>
          <indexterm zone="ch-system-shadow groupmod" significance="normal">
            <primary sortas="b-groupmod">groupmod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grpck">
        <term><command moreinfo="none">grpck</command></term>
        <listitem>
          <para>Verifies the integrity of the group files
          <filename moreinfo="none">/etc/group</filename> and
          <filename moreinfo="none">/etc/gshadow</filename></para>
          <indexterm zone="ch-system-shadow grpck" significance="normal">
            <primary sortas="b-grpck">grpck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grpconv">
        <term><command moreinfo="none">grpconv</command></term>
        <listitem>
          <para>Creates or updates the shadow group file from the normal
          group file</para>
          <indexterm zone="ch-system-shadow grpconv" significance="normal">
            <primary sortas="b-grpconv">grpconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grpunconv">
        <term><command moreinfo="none">grpunconv</command></term>
        <listitem>
          <para>Updates <filename moreinfo="none">/etc/group</filename> from
          <filename moreinfo="none">/etc/gshadow</filename> and then deletes the latter</para>
          <indexterm zone="ch-system-shadow grpunconv" significance="normal">
            <primary sortas="b-grpunconv">grpunconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lastlog">
        <term><command moreinfo="none">lastlog</command></term>
        <listitem>
          <para>Reports the most recent login of all users or of a
          given user</para>
          <indexterm zone="ch-system-shadow lastlog" significance="normal">
            <primary sortas="b-lastlog">lastlog</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="login">
        <term><command moreinfo="none">login</command></term>
        <listitem>
          <para>Is used by the system to let users sign on</para>
          <indexterm zone="ch-system-shadow login" significance="normal">
            <primary sortas="b-login">login</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="logoutd">
        <term><command moreinfo="none">logoutd</command></term>
        <listitem>
          <para>Is a daemon used to enforce restrictions on log-on time
          and ports</para>
          <indexterm zone="ch-system-shadow logoutd" significance="normal">
            <primary sortas="b-logoutd">logoutd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="newgrp">
        <term><command moreinfo="none">newgrp</command></term>
        <listitem>
          <para>Is used to change the current GID during a login session</para>
          <indexterm zone="ch-system-shadow newgrp" significance="normal">
            <primary sortas="b-newgrp">newgrp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="newusers">
        <term><command moreinfo="none">newusers</command></term>
        <listitem>
          <para>Is used to create or update an entire series of user
          accounts</para>
          <indexterm zone="ch-system-shadow newusers" significance="normal">
            <primary sortas="b-newusers">newusers</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nologin">
        <term><command moreinfo="none">nologin</command></term>
        <listitem>
          <para>Displays a message that an account is not available. It is
          designed to be used as the default shell for disabled accounts.</para>
          <indexterm zone="ch-system-shadow nologin" significance="normal">
            <primary sortas="b-nologin">nologin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="passwd">
        <term><command moreinfo="none">passwd</command></term>
        <listitem>
          <para>Is used to change the password for a user or group account</para>
          <indexterm zone="ch-system-shadow passwd" significance="normal">
            <primary sortas="b-passwd">passwd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pwck">
        <term><command moreinfo="none">pwck</command></term>
        <listitem>
          <para>Verifies the integrity of the password files
          <filename moreinfo="none">/etc/passwd</filename> and
          <filename moreinfo="none">/etc/shadow</filename></para>
          <indexterm zone="ch-system-shadow pwck" significance="normal">
            <primary sortas="b-pwck">pwck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pwconv">
        <term><command moreinfo="none">pwconv</command></term>
        <listitem>
          <para>Creates or updates the shadow password file from the normal
          password file</para>
          <indexterm zone="ch-system-shadow pwconv" significance="normal">
            <primary sortas="b-pwconv">pwconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pwunconv">
        <term><command moreinfo="none">pwunconv</command></term>
        <listitem>
          <para>Updates <filename moreinfo="none">/etc/passwd</filename> from
          <filename moreinfo="none">/etc/shadow</filename> and then deletes the latter</para>
          <indexterm zone="ch-system-shadow pwunconv" significance="normal">
            <primary sortas="b-pwunconv">pwunconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sg">
        <term><command moreinfo="none">sg</command></term>
        <listitem>
          <para>Executes a given command while the user's GID
          is set to that of the given group</para>
          <indexterm zone="ch-system-shadow sg" significance="normal">
            <primary sortas="b-sg">sg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="su">
        <term><command moreinfo="none">su</command></term>
        <listitem>
          <para>Runs a shell with substitute user and group IDs</para>
          <indexterm zone="ch-system-shadow su" significance="normal">
            <primary sortas="b-su">su</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="useradd">
        <term><command moreinfo="none">useradd</command></term>
        <listitem>
          <para>Creates a new user with the given name, or updates the default
          new-user information</para>
          <indexterm zone="ch-system-shadow useradd" significance="normal">
            <primary sortas="b-useradd">useradd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="userdel">
        <term><command moreinfo="none">userdel</command></term>
        <listitem>
          <para>Deletes the given user account</para>
          <indexterm zone="ch-system-shadow userdel" significance="normal">
            <primary sortas="b-userdel">userdel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="usermod">
        <term><command moreinfo="none">usermod</command></term>
        <listitem>
          <para>Is used to modify the given user's login name, User
          Identification (UID), shell, initial group, home directory, etc.</para>
          <indexterm zone="ch-system-shadow usermod" significance="normal">
            <primary sortas="b-usermod">usermod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vigr">
        <term><command moreinfo="none">vigr</command></term>
        <listitem>
          <para>Edits the <filename moreinfo="none">/etc/group</filename> or
          <filename moreinfo="none">/etc/gshadow</filename> files</para>
          <indexterm zone="ch-system-shadow vigr" significance="normal">
            <primary sortas="b-vigr">vigr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vipw">
        <term><command moreinfo="none">vipw</command></term>
        <listitem>
          <para>Edits the <filename moreinfo="none">/etc/passwd</filename> or
          <filename moreinfo="none">/etc/shadow</filename> files</para>
          <indexterm zone="ch-system-shadow vipw" significance="normal">
            <primary sortas="b-vipw">vipw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-util-linux-pass1" role="wrap" xml:base="common/util-linux-pass1.xml">
  <?dbhtml filename="util-linux-pass1.html"?>

  <title>Util-linux-2.29.2 Pass 1</title>

  <indexterm zone="ch-system-util-linux-pass1" significance="normal">
    <primary sortas="a-Util-linux-pass1">Util-linux</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Util-linux package contains miscellaneous utility programs.
    Among them are utilities for handling file systems, consoles, partitions,
    and messages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Util-linux Pass 1</title>

    <para os="a">Prepare Util-linux for compilation:</para>

    <screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    ADJTIME_PATH=/var/lib/hwclock/adjtime \
    --enable-write \
    --disable-chfn-chsh \
    --disable-login \
    --disable-nologin \
    --disable-su \
    --disable-setpriv \
    --disable-runuser \
    --docdir=/usr/share/doc/util-linux-2.29.2</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-write</parameter></term>
        <listitem>
          <para>This option allows the <command moreinfo="none">write</command> program to be
          installed.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-*</parameter></term>
        <listitem>
          <para>This option disables various programs</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

    <screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g">Install the package:</para>

    <screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref linkend="contents-util-linux" role="."/></para>

  </sect2>

</sect1>
  <sect1 id="ch-system-procps-ng" role="wrap" xml:base="common/procps-ng.xml">
  <?dbhtml filename="procps-ng.html"?>

  <title>Procps-ng-3.3.12</title>

  <indexterm zone="ch-system-procps-ng" significance="normal">
    <primary sortas="a-Procps-ng">Procps-ng</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Procps-ng package contains programs for monitoring
    processes.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Procps-ng</title>

    <para os="a">Prepare procps-ng for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --exec-prefix= \
    --libdir=/usr/lib \
    --docdir=/usr/share/doc/procps-ng-3.3.12 \
    --disable-kill</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure options:</title>
      <varlistentry>
        <term><parameter moreinfo="none">--disable-kill</parameter></term>
        <listitem>
          <para>This switch disables building the <command moreinfo="none">kill</command>
          program - a better version was installed by the Util-linux package.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <note os="note1">
      <para>When using the boot method, two tests will fail if the hostname is
      not set. If you have booted the temporary system, and want to run the
      test suite, run the following command:</para>

<screen format="linespecific"><userinput remap="test" moreinfo="none">hostname clfs</userinput></screen>
    </note>

    <para os="f">If running the testsuite, first disable a test which fails
    when scripting does not use a tty device:</para>

<screen os="g" format="linespecific"><userinput remap="test" moreinfo="none">sed -i -r 's|(pmap_initname)\\\$|\1|' testsuite/pmap.test/pmap.exp
make check</userinput></screen>

    <para os="h">Install the package:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="j">Move essential files to a location that can be found if
    <filename class="directory" moreinfo="none">/usr</filename> is not mounted:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/libprocps.so.* /lib
ln -sfv ../../lib/$(readlink /usr/lib/libprocps.so) /usr/lib/libprocps.so</userinput></screen>

  </sect2>

  <sect2 id="contents-procps-ng" role="content">
    <title>Contents of Procps-ng</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed library</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>free, pgrep, pidof, pkill, pmap, ps, pwdx, slabtop, sysctl, tload,
        top, uptime, vmstat, w, watch</seg>
        <seg>libprocps.{a,so}</seg>
        <seg>/usr/include/proc, /usr/share/doc/procps-ng-3.3.12</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="free">
        <term><command moreinfo="none">free</command></term>
        <listitem>
          <para>Reports the amount of free and used memory (both physical and
          swap memory) in the system</para>
          <indexterm zone="ch-system-procps-ng free" significance="normal">
            <primary sortas="b-free">free</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pgrep">
        <term><command moreinfo="none">pgrep</command></term>
        <listitem>
          <para>Looks up processes based on their name and other attributes</para>
          <indexterm zone="ch-system-procps-ng pgrep" significance="normal">
            <primary sortas="b-pgrep">pgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pidof">
        <term><command moreinfo="none">pidof</command></term>
        <listitem>
          <para>Reports the PIDs of the given programs</para>
          <indexterm zone="ch-system-procps-ng pidof" significance="normal">
            <primary sortas="b-pidof">pidof</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pkill">
        <term><command moreinfo="none">pkill</command></term>
        <listitem>
          <para>Signals processes based on their name and other attributes</para>
          <indexterm zone="ch-system-procps-ng pkill" significance="normal">
            <primary sortas="b-pkill">pkill</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pmap">
        <term><command moreinfo="none">pmap</command></term>
        <listitem>
          <para>Reports the memory map of the given process</para>
          <indexterm zone="ch-system-procps-ng pmap" significance="normal">
            <primary sortas="b-pmap">pmap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ps">
        <term><command moreinfo="none">ps</command></term>
        <listitem>
          <para>Lists the current running processes</para>
          <indexterm zone="ch-system-procps-ng ps" significance="normal">
            <primary sortas="b-ps">ps</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pwdx">
        <term><command moreinfo="none">pwdx</command></term>
        <listitem>
          <para>Reports the current working directory of a process</para>
          <indexterm zone="ch-system-procps-ng pwdx" significance="normal">
            <primary sortas="b-pwdx">pwdx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="slabtop">
        <term><command moreinfo="none">slabtop</command></term>
        <listitem>
          <para>Displays detailed kernel slab cache information in real time</para>
          <indexterm zone="ch-system-procps-ng slabtop" significance="normal">
            <primary sortas="b-slabtop">slabtop</primary>
          </indexterm>
        </listitem>
      </varlistentry>


      <varlistentry id="sysctl">
        <term><command moreinfo="none">sysctl</command></term>
        <listitem>
          <para>Modifies kernel parameters at run time</para>
          <indexterm zone="ch-system-procps-ng sysctl" significance="normal">
            <primary sortas="b-sysctl">sysctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tload">
        <term><command moreinfo="none">tload</command></term>
        <listitem>
          <para>Prints a graph of the current system load average</para>
          <indexterm zone="ch-system-procps-ng tload" significance="normal">
            <primary sortas="b-tload">tload</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="top">
        <term><command moreinfo="none">top</command></term>
        <listitem>
          <para>Displays a list of the most CPU intensive processes; it
          provides an ongoing look at processor activity in real time</para>
          <indexterm zone="ch-system-procps-ng top" significance="normal">
            <primary sortas="b-top">top</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uptime">
        <term><command moreinfo="none">uptime</command></term>
        <listitem>
          <para>Reports how long the system has been running, how many users are
          logged on, and the system load averages</para>
          <indexterm zone="ch-system-procps-ng uptime" significance="normal">
            <primary sortas="b-uptime">uptime</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vmstat">
        <term><command moreinfo="none">vmstat</command></term>
        <listitem>
          <para>Reports virtual memory statistics, giving information about
          processes, memory, paging, block Input/Output (IO), traps, and CPU
          activity</para>
          <indexterm zone="ch-system-procps-ng vmstat" significance="normal">
            <primary sortas="b-vmstat">vmstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="w">
        <term><command moreinfo="none">w</command></term>
        <listitem>
          <para>Shows which users are currently logged on, where, and since
          when</para>
          <indexterm zone="ch-system-procps-ng w" significance="normal">
            <primary sortas="b-w">w</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="watch">
        <term><command moreinfo="none">watch</command></term>
        <listitem>
          <para>Runs a given command repeatedly, displaying the first
          screen-full of its output; this allows a user to watch the output
          change over time</para>
          <indexterm zone="ch-system-procps-ng watch" significance="normal">
            <primary sortas="b-watch">watch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libprocps">
        <term><filename class="libraryfile" moreinfo="none">libprocps</filename></term>
        <listitem>
          <para>Contains the functions used by most programs in this
          package</para>
          <indexterm zone="ch-system-procps-ng libprocps" significance="normal">
            <primary sortas="c-libprocps">libprocps</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-e2fsprogs" role="wrap" xml:base="common/e2fsprogs.xml">
  <?dbhtml filename="e2fsprogs.html"?>

  <title>E2fsprogs-1.43.4</title>

  <indexterm zone="ch-system-e2fsprogs" significance="normal">
    <primary sortas="a-E2fsprogs">E2fsprogs</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The E2fsprogs package contains the utilities for handling the
    <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system. It also
    supports the <systemitem class="filesystem" moreinfo="none">ext3</systemitem> and
    <systemitem class="filesystem" moreinfo="none">ext4</systemitem> journaling
    file systems.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of E2fsprogs</title>

    <para os="a">The E2fsprogs documentation recommends that the package be
    built in a subdirectory of the source tree:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">mkdir -v build
cd build</userinput></screen>

    <para os="c">Prepare E2fsprogs for compilation:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">../configure \
    --prefix=/usr \
    --bindir=/bin \
    --with-root-prefix="" \
    --enable-elf-shlibs \
    --disable-libblkid \
    --disable-libuuid \
    --disable-fsck \
    --disable-uuidd</userinput></screen>

    <variablelist os="e">
      <title>The meaning of the configure options:</title>

      <varlistentry os="e1">
        <term><parameter moreinfo="none">--with-root-prefix=""</parameter></term>
        <listitem>
          <para>Certain programs (such as the <command moreinfo="none">e2fsck</command>
          program) are considered essential programs. When, for example,
          <filename class="directory" moreinfo="none">/usr</filename> is not mounted,
          these programs still need to be available. They belong in
          directories like <filename class="directory" moreinfo="none">/lib</filename> and
          <filename class="directory" moreinfo="none">/sbin</filename>. If this option is
          not passed to E2fsprogs' configure, the programs are installed into
          the <filename class="directory" moreinfo="none">/usr</filename> directory.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="e2">
        <term><parameter moreinfo="none">--enable-elf-shlibs</parameter></term>
        <listitem>
          <para>This creates the shared libraries which some programs
          in this package use.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="e3">
        <term><parameter moreinfo="none">--disable-*</parameter></term>
        <listitem>
          <para>This prevents E2fsprogs from building and installing the
          <systemitem class="library" moreinfo="none">libuuid</systemitem> and
          <systemitem class="library" moreinfo="none">libblkid</systemitem> libraries, the
          <systemitem class="daemon" moreinfo="none">uuidd</systemitem> daemon, and the
          <command moreinfo="none">fsck</command> wrapper, as Util-Linux installed all of
          them earlier.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="f">Compile the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="h">To test the results, issue:</para>

<screen os="h2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="i">Install the binaries, documentation and shared libraries:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="k">Install the static libraries and headers:</para>

<screen os="l" format="linespecific"><userinput moreinfo="none">make install-libs</userinput></screen>

  </sect2>

  <sect2 id="contents-e2fsprogs" role="content">
    <title>Contents of E2fsprogs</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>badblocks, chattr, compile_et, debugfs, dumpe2fs, e2freefrag,
        e2fsck, e2image, e2initrd_helper, e2label, e2undo, e4defrag, filefrag,
        fsck.ext2, fsck.ext3, fsck.ext4, fsck.ext4dev, logsave, lsattr,
        mk_cmds, mke2fs, mkfs.ext2, mkfs.ext3, mkfs.ext4, mkfs.ext4dev,
        mklost+found, resize2fs, tune2fs</seg>
        <seg>libcom_err.[a,so], libe2p.[a,so], libext2fs.[a,so],
        libss.[a,so], libquota.a</seg>
        <seg>/usr/include/e2p, /usr/include/et, /usr/include/ext2fs,
        /usr/include/quota, /usr/include/ss, /usr/share/et, /usr/share/ss</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="badblocks">
        <term><command moreinfo="none">badblocks</command></term>
        <listitem>
          <para>Searches a device (usually a disk partition) for bad
          blocks</para>
          <indexterm zone="ch-system-e2fsprogs badblocks" significance="normal">
            <primary sortas="b-badblocks">badblocks</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chattr">
        <term><command moreinfo="none">chattr</command></term>
        <listitem>
          <para>Changes the attributes on a Linux file system</para>
          <indexterm zone="ch-system-e2fsprogs chattr" significance="normal">
            <primary sortas="b-chattr">chattr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="compile_et">
        <term><command moreinfo="none">compile_et</command></term>
        <listitem>
          <para>An error table compiler; it converts a table of error-code
          names and messages into a C source file suitable for use with the
          <filename class="libraryfile" moreinfo="none">com_err</filename> library</para>
          <indexterm zone="ch-system-e2fsprogs compile_et" significance="normal">
            <primary sortas="b-compile_et">compile_et</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="debugfs">
        <term><command moreinfo="none">debugfs</command></term>
        <listitem>
          <para>A file system debugger; it can be used to examine and change
          the state of an <systemitem class="filesystem" moreinfo="none">ext2</systemitem>
          file system</para>
          <indexterm zone="ch-system-e2fsprogs debugfs" significance="normal">
            <primary sortas="b-debugfs">debugfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dumpe2fs">
        <term><command moreinfo="none">dumpe2fs</command></term>
        <listitem>
          <para>Prints the super block and blocks group information for the
          file system present on a given device</para>
          <indexterm zone="ch-system-e2fsprogs dumpe2fs" significance="normal">
            <primary sortas="b-dumpe2fs">dumpe2fs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e2freefrag">
        <term><command moreinfo="none">e2freefrag</command></term>
        <listitem>
          <para> Reports free space fragmentation information</para>
          <indexterm zone="ch-system-e2fsprogs e2freefrag" significance="normal">
            <primary sortas="b-e2freefrag">e2freefrag</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e2fsck">
        <term><command moreinfo="none">e2fsck</command></term>
        <listitem>
          <para>Is used to check, and optionally repair <systemitem class="filesystem" moreinfo="none">ext2</systemitem>, <systemitem class="filesystem" moreinfo="none">ext3</systemitem> and <systemitem class="filesystem" moreinfo="none">ext4</systemitem>file systems</para>
          <indexterm zone="ch-system-e2fsprogs e2fsck" significance="normal">
            <primary sortas="b-e2fsck">e2fsck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e2image">
        <term><command moreinfo="none">e2image</command></term>
        <listitem>
          <para>Is used to save critical <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system data to a file</para>
          <indexterm zone="ch-system-e2fsprogs e2image" significance="normal">
            <primary sortas="b-e2image">e2image</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e2initrd_helper">
        <term><command moreinfo="none">e2initrd_helper</command></term>
        <listitem>
          <para>Prints the FS type of a given filesystem, given either a
          device name or label</para>
          <indexterm zone="ch-system-e2fsprogs e2initrd_helper" significance="normal">
            <primary sortas="b-e2initrd_helper">e2initrd_helper</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e2label">
        <term><command moreinfo="none">e2label</command></term>
        <listitem>
          <para>Displays or changes the file system label on the <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system present on a given
          device</para>
          <indexterm zone="ch-system-e2fsprogs e2label" significance="normal">
            <primary sortas="b-e2label">e2label</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e2undo">
        <term><command moreinfo="none">e2undo</command></term>
        <listitem>
          <para>Replays an undo log for an ext2/ext3/ext4 filesystem</para>
          <indexterm zone="ch-system-e2fsprogs e2undo" significance="normal">
            <primary sortas="b-e2undo">e2undo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e4defrag">
        <term><command moreinfo="none">e4defrag</command></term>
        <listitem>
          <para>Online defragmenter for ext4 filesystems</para>
          <indexterm zone="ch-system-e2fsprogs e4defrag" significance="normal">
            <primary sortas="b-e4defrag">e4defrag</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="filefrag">
        <term><command moreinfo="none">filefrag</command></term>
        <listitem>
          <para>Reports on how badly fragmented a particular file might be</para>
          <indexterm zone="ch-system-e2fsprogs filefrag" significance="normal">
            <primary sortas="b-filefrag">filefrag</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsck.ext2">
        <term><command moreinfo="none">fsck.ext2</command></term>
        <listitem>
          <para>By default checks <systemitem class="filesystem" moreinfo="none">ext2</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs fsck.ext2" significance="normal">
            <primary sortas="b-fsck.ext2">fsck.ext2</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsck.ext3">
        <term><command moreinfo="none">fsck.ext3</command></term>
        <listitem>
          <para>By default checks <systemitem class="filesystem" moreinfo="none">ext3</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs fsck.ext3" significance="normal">
            <primary sortas="b-fsck.ext3">fsck.ext3</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsck.ext4">
        <term><command moreinfo="none">fsck.ext4</command></term>
        <listitem>
          <para>By default checks <systemitem class="filesystem" moreinfo="none">ext4</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs fsck.ext4" significance="normal">
            <primary sortas="b-fsck.ext4">fsck.ext4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsck.ext4dev">
        <term><command moreinfo="none">fsck.ext4dev</command></term>
        <listitem>
          <para>By default checks <systemitem class="filesystem" moreinfo="none">ext4dev</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs fsck.ext4dev" significance="normal">
            <primary sortas="b-fsck.ext4dev">fsck.ext4dev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="logsave">
        <term><command moreinfo="none">logsave</command></term>
        <listitem>
          <para>Saves the output of a command in a log file</para>
          <indexterm zone="ch-system-e2fsprogs logsave" significance="normal">
            <primary sortas="b-logsave">logsave</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lsattr">
        <term><command moreinfo="none">lsattr</command></term>
        <listitem>
          <para>Lists the attributes of files on a second extended file
          system</para>
          <indexterm zone="ch-system-e2fsprogs lsattr" significance="normal">
            <primary sortas="b-lsattr">lsattr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mk_cmds">
        <term><command moreinfo="none">mk_cmds</command></term>
        <listitem>
          <para>Converts a table of command names and help messages into a C
          source file suitable for use with the <filename class="libraryfile" moreinfo="none">libss</filename> subsystem library</para>
          <indexterm zone="ch-system-e2fsprogs mk_cmds" significance="normal">
            <primary sortas="b-mk_cmds">mk_cmds</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mke2fs">
        <term><command moreinfo="none">mke2fs</command></term>
        <listitem>
          <para>Creates an <systemitem class="filesystem" moreinfo="none">ext2</systemitem>,
          <systemitem class="filesystem" moreinfo="none">ext3</systemitem> or <systemitem class="filesystem" moreinfo="none">ext4</systemitem> file system on the given device</para>
          <indexterm zone="ch-system-e2fsprogs mke2fs" significance="normal">
            <primary sortas="b-mke2fs">mke2fs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.ext2">
        <term><command moreinfo="none">mkfs.ext2</command></term>
        <listitem>
          <para>By default creates <systemitem class="filesystem" moreinfo="none">ext2</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs mkfs.ext2" significance="normal">
            <primary sortas="b-mkfs.ext2">mkfs.ext2</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.ext3">
        <term><command moreinfo="none">mkfs.ext3</command></term>
        <listitem>
          <para>By default creates <systemitem class="filesystem" moreinfo="none">ext3</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs mkfs.ext3" significance="normal">
            <primary sortas="b-mkfs.ext3">mkfs.ext3</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.ext4">
        <term><command moreinfo="none">mkfs.ext4</command></term>
        <listitem>
          <para>By default creates <systemitem class="filesystem" moreinfo="none">ext4</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs mkfs.ext4" significance="normal">
            <primary sortas="b-mkfs.ext4">mkfs.ext4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.ext4dev">
        <term><command moreinfo="none">mkfs.ext4dev</command></term>
        <listitem>
          <para>By default creates <systemitem class="filesystem" moreinfo="none">ext4dev</systemitem>
          file systems</para>
          <indexterm zone="ch-system-e2fsprogs mkfs.ext4dev" significance="normal">
            <primary sortas="b-mkfs.ext4dev">mkfs.ext4dev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mklost-found">
        <term><command moreinfo="none">mklost+found</command></term>
        <listitem>
          <para>Used to create a <filename class="directory" moreinfo="none">lost+found</filename>
          directory on an <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file
          system; it pre-allocates disk blocks to this directory to lighten the
          task of <command moreinfo="none">e2fsck</command></para>
          <indexterm zone="ch-system-e2fsprogs mklost-found" significance="normal">
            <primary sortas="b-mklost+found">mklost+found</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="resize2fs">
        <term><command moreinfo="none">resize2fs</command></term>
        <listitem>
          <para>Can be used to enlarge or shrink an <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system</para>
          <indexterm zone="ch-system-e2fsprogs resize2fs" significance="normal">
            <primary sortas="b-resize2fs">resize2fs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tune2fs">
        <term><command moreinfo="none">tune2fs</command></term>
        <listitem>
          <para>Adjusts tunable file system parameters on an <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system</para>
          <indexterm zone="ch-system-e2fsprogs tune2fs" significance="normal">
            <primary sortas="b-tune2fs">tune2fs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcom_err">
        <term><filename class="libraryfile" moreinfo="none">libcom_err</filename></term>
        <listitem>
          <para>The common error display routine</para>
          <indexterm zone="ch-system-e2fsprogs libcom_err" significance="normal">
            <primary sortas="c-libcom_err">libcom_err</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libe2p">
        <term><filename class="libraryfile" moreinfo="none">libe2p</filename></term>
        <listitem>
          <para>Used by <command moreinfo="none">dumpe2fs</command>, <command moreinfo="none">chattr</command>,
          and <command moreinfo="none">lsattr</command></para>
          <indexterm zone="ch-system-e2fsprogs libe2p" significance="normal">
            <primary sortas="c-libe2p">libe2p</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libext2fs">
        <term><filename class="libraryfile" moreinfo="none">libext2fs</filename></term>
        <listitem>
          <para>Contains routines to enable user-level programs to manipulate an
          <systemitem class="filesystem" moreinfo="none">ext2</systemitem> file system</para>
          <indexterm zone="ch-system-e2fsprogs libext2fs" significance="normal">
            <primary sortas="c-libext2fs">libext2fs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libquota">
        <term><filename class="libraryfile" moreinfo="none">libquota</filename></term>
        <listitem>
          <para>Provides an interface for creating and updating quota files
          and ext4 superblock fields</para>
          <indexterm zone="ch-system-e2fsprogs libquota" significance="normal">
            <primary sortas="c-libquota">libquota</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libss">
        <term><filename class="libraryfile" moreinfo="none">libss</filename></term>
        <listitem>
          <para>Used by <command moreinfo="none">debugfs</command></para>
          <indexterm zone="ch-system-e2fsprogs libss" significance="normal">
            <primary sortas="c-libss">libss</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-coreutils" role="wrap" xml:base="common/coreutils.xml">
  <?dbhtml filename="coreutils.html"?>

  <title>Coreutils-8.27</title>

  <indexterm zone="ch-system-coreutils" significance="normal">
    <primary sortas="a-Coreutils">Coreutils</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Coreutils package contains utilities for showing and setting the
    basic system characteristics.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Coreutils</title>

    <para os="p1">A known issue with the <command moreinfo="none">uname</command> program from
    this package is that the <option>-p</option> switch always
    returns <computeroutput moreinfo="none">unknown</computeroutput>. The following patch
    fixes this behavior for all architectures:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../coreutils-8.27-uname-1.patch</userinput></screen>

    <para os="c">Now prepare Coreutils for compilation:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">FORCE_UNSAFE_CONFIGURE=1 \
./configure \
    --prefix=/usr \
    --enable-no-install-program=kill,uptime \
    --enable-install-program=hostname \
    --libexecdir=/usr/lib</userinput></screen>

    <variablelist os="d1">
      <title>The meaning of the configure options:</title>

        <varlistentry os="d2">
          <term><parameter moreinfo="none">FORCE_UNSAFE_CONFIGURE=1</parameter></term>
          <listitem>
            <para>Forces Coreutils to compile when using the root user.</para>
          </listitem>
        </varlistentry>

      </variablelist>

    <para os="e">Compile the package:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

   <para os="g">Now the test suite is ready to be run. First, run
    the tests that are meant to be run as user
    <systemitem class="username" moreinfo="none">root</systemitem>:</para>

<screen os="h" format="linespecific"><userinput remap="test" moreinfo="none">make NON_ROOT_USERNAME=nobody check-root</userinput></screen>

    <para os="i">The test suite will now be run as the
    <systemitem class="username" moreinfo="none">nobody</systemitem> user. Some tests require
    that the user be a member of more than one group. Add a temporary group
    and make the user <systemitem class="username" moreinfo="none">nobody</systemitem> a part
    of it so that the tests are not skipped:</para>

<screen os="j" format="linespecific"><userinput remap="test" moreinfo="none">echo "dummy:x:1000:nobody" &gt;&gt; /etc/group</userinput></screen>

    <para os="k">Fix permissions of some files so the non-root user can compile
    and run the tests:</para>

<screen os="l" format="linespecific"><userinput remap="test" moreinfo="none">chown -Rv nobody .</userinput></screen>

    <para os="m">Then run the remainder of the tests as the
    <systemitem class="username" moreinfo="none">nobody</systemitem> user:</para>

<screen os="n" format="linespecific"><userinput remap="test" moreinfo="none">su nobody -s /bin/bash \
    -c "PATH=$PATH make RUN_EXPENSIVE_TESTS=yes -k check || true"</userinput></screen>

    <para os="o">Remove the temporary group:</para>

<screen os="p" format="linespecific"><userinput remap="test" moreinfo="none">sed -i '/dummy/d' /etc/group</userinput></screen>

    <para os="q">Install the package:</para>

<screen os="r" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="s">Move programs to the locations specified by the FHS:</para>

<screen os="t" format="linespecific"><userinput moreinfo="none">mv -v /usr/bin/{cat,chgrp,chmod,chown,cp,date} /bin
mv -v /usr/bin/{dd,df,echo,false,hostname,ln,ls,mkdir,mknod} /bin
mv -v /usr/bin/{mv,pwd,rm,rmdir,stty,true,uname} /bin
mv -v /usr/bin/chroot /usr/sbin</userinput></screen>

  </sect2>

  <sect2 id="contents-coreutils" role="content">
    <title>Contents of Coreutils</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed library</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>[, base64, basename, cat, chcon, chgrp, chmod, chown, chroot,
        cksum, comm, cp, csplit, cut, date, dd, df, dir, dircolors, dirname, du,
        echo, env, expand, expr, factor, false, fmt, fold, groups, head,
        hostid, hostname, id, install, join, link, ln, logname, ls, md5sum,
        mkdir, mkfifo, mknod, mktemp, mv, nice, nl, nohup, nproc, numfmt, od, paste,
        pathchk, pinky, pr, printenv, printf, ptx, pwd, readlink, realpath, rm,
        rmdir, runcon, seq, sha1sum, sha224sum, sha256sum, sha384sum,
        sha512sum, shred, shuf, sleep, sort, split, stat, stdbuf, stty, sum,
        sync, tac, tail, tee, test, timeout, touch, tr, true, truncate, tsort,
        tty, uname, unexpand, uniq, unlink, users, vdir, wc, who, whoami, yes</seg>
        <seg>libstdbuf.so</seg>
        <seg>/usr/lib/coreutils</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="base64">
        <term><command moreinfo="none">base64</command></term>
        <listitem>
          <para>Base64 encode/decode data and print to standard output</para>
          <indexterm zone="ch-system-coreutils base64" significance="normal">
            <primary sortas="b-base64">base64</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="basename">
        <term><command moreinfo="none">basename</command></term>
        <listitem>
          <para>Strips any path and a given suffix from a file name</para>
          <indexterm zone="ch-system-coreutils basename" significance="normal">
            <primary sortas="b-basename">basename</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cat">
        <term><command moreinfo="none">cat</command></term>
        <listitem>
          <para>Concatenates files to standard output</para>
          <indexterm zone="ch-system-coreutils cat" significance="normal">
            <primary sortas="b-cat">cat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chcon">
        <term><command moreinfo="none">chcon</command></term>
        <listitem>
          <para>Changes security context for files and directories</para>
          <indexterm zone="ch-system-coreutils chcon" significance="normal">
            <primary sortas="b-chcon">chcon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chgrp">
        <term><command moreinfo="none">chgrp</command></term>
        <listitem>
          <para>Changes the group ownership of files and directories</para>
          <indexterm zone="ch-system-coreutils chgrp" significance="normal">
            <primary sortas="b-chgrp">chgrp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chmod">
        <term><command moreinfo="none">chmod</command></term>
        <listitem>
          <para>Changes the permissions of each file to the given mode; the mode
          can be either a symbolic representation of the changes to make or an
          octal number representing the new permissions</para>
          <indexterm zone="ch-system-coreutils chmod" significance="normal">
            <primary sortas="b-chmod">chmod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chown">
        <term><command moreinfo="none">chown</command></term>
        <listitem>
          <para>Changes the user and/or group ownership of files and
          directories</para>
          <indexterm zone="ch-system-coreutils chown" significance="normal">
            <primary sortas="b-chown">chown</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chroot">
        <term><command moreinfo="none">chroot</command></term>
        <listitem>
          <para>Runs a command with the specified directory as the
          <filename class="directory" moreinfo="none">/</filename> directory</para>
          <indexterm zone="ch-system-coreutils chroot" significance="normal">
            <primary sortas="b-chroot">chroot</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cksum">
        <term><command moreinfo="none">cksum</command></term>
        <listitem>
          <para>Prints the Cyclic Redundancy Check (CRC) checksum and the byte
          counts of each specified file</para>
          <indexterm zone="ch-system-coreutils cksum" significance="normal">
            <primary sortas="b-cksum">cksum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="comm">
        <term><command moreinfo="none">comm</command></term>
        <listitem>
          <para>Compares two sorted files, outputting in three columns the lines
          that are unique and the lines that are common</para>
          <indexterm zone="ch-system-coreutils comm" significance="normal">
            <primary sortas="b-comm">comm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cp">
        <term><command moreinfo="none">cp</command></term>
        <listitem>
          <para>Copies files</para>
          <indexterm zone="ch-system-coreutils cp" significance="normal">
            <primary sortas="b-cp">cp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="csplit">
        <term><command moreinfo="none">csplit</command></term>
        <listitem>
          <para>Splits a given file into several new files, separating them
          according to given patterns or line numbers and outputting the byte
          count of each new file</para>
          <indexterm zone="ch-system-coreutils csplit" significance="normal">
            <primary sortas="b-csplit">csplit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cut">
        <term><command moreinfo="none">cut</command></term>
        <listitem>
          <para>Prints sections of lines, selecting the parts according to given
          fields or positions</para>
          <indexterm zone="ch-system-coreutils cut" significance="normal">
            <primary sortas="b-cut">cut</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="date">
        <term><command moreinfo="none">date</command></term>
        <listitem>
          <para>Displays the current time in the given format, or sets the
          system date</para>
          <indexterm zone="ch-system-coreutils date" significance="normal">
            <primary sortas="b-date">date</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dd">
        <term><command moreinfo="none">dd</command> </term>
        <listitem>
          <para>Copies a file using the given block size and count, while
          optionally performing conversions on it</para>
          <indexterm zone="ch-system-coreutils dd" significance="normal">
            <primary sortas="b-dd">dd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="df">
        <term><command moreinfo="none">df</command></term>
        <listitem>
          <para>Reports the amount of disk space available (and used) on all
          mounted file systems, or only on the file systems holding the selected
          files</para>
          <indexterm zone="ch-system-coreutils df" significance="normal">
            <primary sortas="b-df">df</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dir">
        <term><command moreinfo="none">dir</command></term>
        <listitem>
          <para>Lists the contents of each given directory (the same as
          the <command moreinfo="none">ls</command> command)</para>
          <indexterm zone="ch-system-coreutils dir" significance="normal">
            <primary sortas="b-dir">dir</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dircolors">
        <term><command moreinfo="none">dircolors</command></term>
        <listitem>
          <para>Outputs commands to set the <envar>LS_COLOR</envar>
          environment variable to change the color scheme used by
          <command moreinfo="none">ls</command></para>
          <indexterm zone="ch-system-coreutils dircolors" significance="normal">
            <primary sortas="b-dircolors">dircolors</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dirname">
        <term><command moreinfo="none">dirname</command></term>
        <listitem>
          <para>Strips the non-directory suffix from a file name</para>
          <indexterm zone="ch-system-coreutils dirname" significance="normal">
            <primary sortas="b-dirname">dirname</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="du">
        <term><command moreinfo="none">du</command></term>
        <listitem>
          <para>Reports the amount of disk space used by the current directory,
          by each of the given directories (including all subdirectories) or by
          each of the given files</para>
          <indexterm zone="ch-system-coreutils du" significance="normal">
            <primary sortas="b-du">du</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="echo">
        <term><command moreinfo="none">echo</command></term>
        <listitem>
          <para>Displays the given strings</para>
          <indexterm zone="ch-system-coreutils echo" significance="normal">
            <primary sortas="b-echo">echo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="env">
        <term><command moreinfo="none">env</command></term>
        <listitem>
          <para>Runs a command in a modified environment</para>
          <indexterm zone="ch-system-coreutils env" significance="normal">
            <primary sortas="b-env">env</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="expand">
        <term><command moreinfo="none">expand</command></term>
        <listitem>
          <para>Converts tabs to spaces</para>
          <indexterm zone="ch-system-coreutils expand" significance="normal">
            <primary sortas="b-expand">expand</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="expr">
        <term><command moreinfo="none">expr</command></term>
        <listitem>
          <para>Evaluates expressions</para>
          <indexterm zone="ch-system-coreutils expr" significance="normal">
            <primary sortas="b-expr">expr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="factor">
        <term><command moreinfo="none">factor</command></term>
        <listitem>
          <para>Prints the prime factors of all specified integer numbers</para>
          <indexterm zone="ch-system-coreutils factor" significance="normal">
            <primary sortas="b-factor">factor</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="false">
        <term><command moreinfo="none">false</command></term>
        <listitem>
          <para>Does nothing, unsuccessfully; it always exits with a status code
          indicating failure</para>
          <indexterm zone="ch-system-coreutils false" significance="normal">
            <primary sortas="b-false">false</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fmt">
        <term><command moreinfo="none">fmt</command></term>
        <listitem>
          <para>Reformats the paragraphs in the given files</para>
          <indexterm zone="ch-system-coreutils fmt" significance="normal">
            <primary sortas="b-fmt">fmt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fold">
        <term><command moreinfo="none">fold</command></term>
        <listitem>
          <para>Wraps the lines in the given files</para>
          <indexterm zone="ch-system-coreutils fold" significance="normal">
            <primary sortas="b-fold">fold</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="groups">
        <term><command moreinfo="none">groups</command></term>
        <listitem>
          <para>Reports a user's group memberships</para>
          <indexterm zone="ch-system-coreutils groups" significance="normal">
            <primary sortas="b-groups">groups</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="head">
        <term><command moreinfo="none">head</command></term>
        <listitem>
          <para>Prints the first ten lines (or the given number of lines)
          of each given file</para>
          <indexterm zone="ch-system-coreutils head" significance="normal">
            <primary sortas="b-head">head</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hostid">
        <term><command moreinfo="none">hostid</command></term>
        <listitem>
          <para>Reports the numeric identifier (in hexadecimal) of the host</para>
          <indexterm zone="ch-system-coreutils hostid" significance="normal">
            <primary sortas="b-hostid">hostid</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hostname">
        <term><command moreinfo="none">hostname</command></term>
        <listitem>
          <para>Reports or sets the name of the host</para>
          <indexterm zone="ch-system-coreutils hostname" significance="normal">
            <primary sortas="b-hostname">hostname</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="id">
        <term><command moreinfo="none">id</command></term>
        <listitem>
          <para>Reports the effective user ID, group ID, and group memberships
          of the current user or specified user</para>
          <indexterm zone="ch-system-coreutils id" significance="normal">
            <primary sortas="b-id">id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="install">
        <term><command moreinfo="none">install</command> </term>
        <listitem>
          <para>Copies files while setting their permission modes and, if
          possible, their owner and group</para>
          <indexterm zone="ch-system-coreutils install" significance="normal">
            <primary sortas="b-install">install</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="join">
        <term><command moreinfo="none">join</command></term>
        <listitem>
          <para>Joins the lines that have identical join fields from two
          separate files</para>
          <indexterm zone="ch-system-coreutils join" significance="normal">
            <primary sortas="b-join">join</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="link">
        <term><command moreinfo="none">link</command></term>
        <listitem>
          <para>Creates a hard link with the given name to a file</para>
          <indexterm zone="ch-system-coreutils link" significance="normal">
            <primary sortas="b-link">link</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ln">
        <term><command moreinfo="none">ln</command></term>
        <listitem>
          <para>Makes hard links or soft (symbolic) links between files</para>
          <indexterm zone="ch-system-coreutils ln" significance="normal">
            <primary sortas="b-ln">ln</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="logname">
        <term><command moreinfo="none">logname</command></term>
        <listitem>
          <para>Reports the current user's login name</para>
          <indexterm zone="ch-system-coreutils logname" significance="normal">
            <primary sortas="b-logname">logname</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ls">
        <term><command moreinfo="none">ls</command></term>
        <listitem>
          <para>Lists the contents of each given directory</para>
          <indexterm zone="ch-system-coreutils ls" significance="normal">
            <primary sortas="b-ls">ls</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="md5sum">
        <term><command moreinfo="none">md5sum</command></term>
        <listitem>
          <para>Reports or checks Message Digest 5 (MD5) checksums</para>
          <indexterm zone="ch-system-coreutils md5sum" significance="normal">
            <primary sortas="b-md5sum">md5sum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkdir">
        <term><command moreinfo="none">mkdir</command></term>
        <listitem>
          <para>Creates directories with the given names</para>
          <indexterm zone="ch-system-coreutils mkdir" significance="normal">
            <primary sortas="b-mkdir">mkdir</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfifo">
        <term><command moreinfo="none">mkfifo</command></term>
        <listitem>
          <para>Creates First-In, First-Outs (FIFOs), a <quote>named
          pipe</quote> in UNIX parlance, with the given names</para>
          <indexterm zone="ch-system-coreutils mkfifo" significance="normal">
            <primary sortas="b-mkfifo">mkfifo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mknod">
        <term><command moreinfo="none">mknod</command></term>
        <listitem>
          <para>Creates device nodes with the given names; a device node is a
          character special file, a block special file, or a FIFO</para>
          <indexterm zone="ch-system-coreutils mknod" significance="normal">
            <primary sortas="b-mknod">mknod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mktemp">
        <term><command moreinfo="none">mktemp</command></term>
        <listitem>
          <para>Creates temporary files in a secure manner; it is used in
          scripts</para>
          <indexterm zone="ch-system-coreutils mktemp" significance="normal">
            <primary sortas="b-mktemp">mktemp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mv">
        <term><command moreinfo="none">mv</command></term>
        <listitem>
          <para>Moves or renames files or directories</para>
          <indexterm zone="ch-system-coreutils mv" significance="normal">
            <primary sortas="b-mv">mv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nice">
        <term><command moreinfo="none">nice</command></term>
        <listitem>
          <para>Runs a program with modified scheduling priority</para>
          <indexterm zone="ch-system-coreutils nice" significance="normal">
            <primary sortas="b-nice">nice</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nl">
        <term><command moreinfo="none">nl</command></term>
        <listitem>
          <para>Numbers the lines from the given files</para>
          <indexterm zone="ch-system-coreutils nl" significance="normal">
            <primary sortas="b-nl">nl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nohup">
        <term><command moreinfo="none">nohup</command></term>
        <listitem>
          <para>Runs a command immune to hangups, with its output redirected to
          a log file</para>
          <indexterm zone="ch-system-coreutils nohup" significance="normal">
            <primary sortas="b-nohup">nohup</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nproc">
        <term><command moreinfo="none">nproc</command></term>
        <listitem>
          <para>Prints the number of processing units available to the current
          process</para>
          <indexterm zone="ch-system-coreutils nproc" significance="normal">
            <primary sortas="b-nproc">nproc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="numfmt">
        <term><command moreinfo="none">numfmt</command></term>
        <listitem>
          <para>Converts numbers to or from human-readable strings</para>
          <indexterm zone="ch-system-coreutils numfmt" significance="normal">
            <primary sortas="b-numfmt">numfmt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="od">
        <term><command moreinfo="none">od</command></term>
        <listitem>
          <para>Dumps files in octal and other formats</para>
          <indexterm zone="ch-system-coreutils od" significance="normal">
            <primary sortas="b-od">od</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="paste">
        <term><command moreinfo="none">paste</command></term>
        <listitem>
          <para>Merges the given files, joining sequentially corresponding lines
          side by side, separated by tab characters</para>
          <indexterm zone="ch-system-coreutils paste" significance="normal">
            <primary sortas="b-paste">paste</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pathchk">
        <term><command moreinfo="none">pathchk</command></term>
        <listitem>
          <para>Checks if file names are valid or portable</para>
          <indexterm zone="ch-system-coreutils pathchk" significance="normal">
            <primary sortas="b-pathchk">pathchk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pinky">
        <term><command moreinfo="none">pinky</command></term>
        <listitem>
          <para>Is a lightweight finger client; it reports some information
          about the given users</para>
          <indexterm zone="ch-system-coreutils pinky" significance="normal">
            <primary sortas="b-pinky">pinky</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pr">
        <term><command moreinfo="none">pr</command></term>
        <listitem>
          <para>Paginates and columnates files for printing</para>
          <indexterm zone="ch-system-coreutils pr" significance="normal">
            <primary sortas="b-pr">pr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="printenv">
        <term><command moreinfo="none">printenv</command></term>
        <listitem>
          <para>Prints the environment</para>
          <indexterm zone="ch-system-coreutils printenv" significance="normal">
            <primary sortas="b-printenv">printenv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="printf">
        <term><command moreinfo="none">printf</command></term>
        <listitem>
          <para>Prints the given arguments according to the given format, much
          like the C printf function</para>
          <indexterm zone="ch-system-coreutils printf" significance="normal">
            <primary sortas="b-printf">printf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ptx">
        <term><command moreinfo="none">ptx</command></term>
        <listitem>
          <para>Produces a permuted index from the contents of the given files,
          with each keyword in its context</para>
          <indexterm zone="ch-system-coreutils ptx" significance="normal">
            <primary sortas="b-ptx">ptx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pwd">
        <term><command moreinfo="none">pwd</command></term>
        <listitem>
          <para>Reports the name of the current working directory</para>
          <indexterm zone="ch-system-coreutils pwd" significance="normal">
            <primary sortas="b-pwd">pwd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="readlink">
        <term><command moreinfo="none">readlink</command></term>
        <listitem>
          <para>Reports the value of the given symbolic link</para>
          <indexterm zone="ch-system-coreutils readlink" significance="normal">
            <primary sortas="b-readlink">readlink</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="realpath">
        <term><command moreinfo="none">realpath</command></term>
        <listitem>
          <para>Prints the resolved path</para>
          <indexterm zone="ch-system-coreutils realpath" significance="normal">
            <primary sortas="b-realpath">realpath</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rm">
        <term><command moreinfo="none">rm</command></term>
        <listitem>
          <para>Removes files or directories</para>
          <indexterm zone="ch-system-coreutils rm" significance="normal">
            <primary sortas="b-rm">rm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rmdir">
        <term><command moreinfo="none">rmdir</command></term>
        <listitem>
          <para>Removes directories if they are empty</para>
          <indexterm zone="ch-system-coreutils rmdir" significance="normal">
            <primary sortas="b-rmdir">rmdir</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="runcon">
        <term><command moreinfo="none">runcon</command></term>
        <listitem>
          <para>Runs a command with specified security context</para>
          <indexterm zone="ch-system-coreutils runcon" significance="normal">
            <primary sortas="b-runcon">runcon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="seq">
        <term><command moreinfo="none">seq</command></term>
        <listitem>
          <para>Prints a sequence of numbers within a given range and with a
          given increment</para>
          <indexterm zone="ch-system-coreutils seq" significance="normal">
            <primary sortas="b-seq">seq</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sha1sum">
        <term><command moreinfo="none">sha1sum</command></term>
        <listitem>
          <para>Prints or checks 160-bit Secure Hash Algorithm 1 (SHA1)
          checksums</para>
          <indexterm zone="ch-system-coreutils sha1sum" significance="normal">
            <primary sortas="b-sha1sum">sha1sum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sha224sum">
        <term><command moreinfo="none">sha224sum</command></term>
        <listitem>
          <para>Prints or checks SHA224 checksums</para>
          <indexterm zone="ch-system-coreutils sha224sum" significance="normal">
            <primary sortas="b-sha224sum">sha224sum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sha256sum">
        <term><command moreinfo="none">sha256sum</command></term>
        <listitem>
          <para>Prints or checks SHA256 checksums</para>
          <indexterm zone="ch-system-coreutils sha256sum" significance="normal">
            <primary sortas="b-sha256sum">sha256sum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sha384sum">
        <term><command moreinfo="none">sha384sum</command></term>
        <listitem>
          <para>Prints or checks SHA384 checksums</para>
          <indexterm zone="ch-system-coreutils sha384sum" significance="normal">
            <primary sortas="b-sha384sum">sha384sum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sha512sum">
        <term><command moreinfo="none">sha512sum</command></term>
        <listitem>
          <para>Prints or checks SHA512 checksums</para>
          <indexterm zone="ch-system-coreutils sha512sum" significance="normal">
            <primary sortas="b-sha512sum">sha512sum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="shred">
        <term><command moreinfo="none">shred</command></term>
        <listitem>
          <para>Overwrites the given files repeatedly with complex patterns,
          making it difficult to recover the data</para>
          <indexterm zone="ch-system-coreutils shred" significance="normal">
            <primary sortas="b-shred">shred</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="shuf">
        <term><command moreinfo="none">shuf</command></term>
        <listitem>
          <para>Write a random permutation of the input lines to standard output or a file</para>
          <indexterm zone="ch-system-coreutils shuf" significance="normal">
            <primary sortas="b-shuf">shuf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sleep">
        <term><command moreinfo="none">sleep</command></term>
        <listitem>
          <para>Pauses for the given amount of time</para>
          <indexterm zone="ch-system-coreutils sleep" significance="normal">
            <primary sortas="b-sleep">sleep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sort">
        <term><command moreinfo="none">sort</command></term>
        <listitem>
          <para>Sorts the lines from the given files</para>
          <indexterm zone="ch-system-coreutils sort" significance="normal">
            <primary sortas="b-sort">sort</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="split">
        <term><command moreinfo="none">split</command></term>
        <listitem>
          <para>Splits the given file into pieces, by size or by number of
          lines</para>
          <indexterm zone="ch-system-coreutils split" significance="normal">
            <primary sortas="b-split">split</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="stat">
        <term><command moreinfo="none">stat</command></term>
        <listitem>
          <para>Displays file or filesystem status</para>
          <indexterm zone="ch-system-coreutils stat" significance="normal">
            <primary sortas="b-stat">stat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="stdbuf">
        <term><command moreinfo="none">stdbuf</command></term>
        <listitem>
          <para>Runs a command with modified buffering operations for its
          standard streams</para>
          <indexterm zone="ch-system-coreutils stdbuf" significance="normal">
            <primary sortas="b-stdbuf">stdbuf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="stty">
        <term><command moreinfo="none">stty</command></term>
        <listitem>
          <para>Sets or reports terminal line settings</para>
          <indexterm zone="ch-system-coreutils stty" significance="normal">
            <primary sortas="b-stty">stty</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sum">
        <term><command moreinfo="none">sum</command></term>
        <listitem>
          <para>Prints checksum and block counts for each given file</para>
          <indexterm zone="ch-system-coreutils sum" significance="normal">
            <primary sortas="b-sum">sum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sync">
        <term><command moreinfo="none">sync</command></term>
        <listitem>
          <para>Flushes file system buffers; it forces changed blocks to disk
          and updates the super block</para>
          <indexterm zone="ch-system-coreutils sync" significance="normal">
            <primary sortas="b-sync">sync</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tac">
        <term><command moreinfo="none">tac</command></term>
        <listitem>
          <para>Concatenates the given files in reverse</para>
          <indexterm zone="ch-system-coreutils tac" significance="normal">
            <primary sortas="b-tac">tac</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tail">
        <term><command moreinfo="none">tail</command></term>
        <listitem>
          <para>Prints the last ten lines (or the given number of lines) of each
          given file</para>
          <indexterm zone="ch-system-coreutils tail" significance="normal">
            <primary sortas="b-tail">tail</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tee">
        <term><command moreinfo="none">tee</command></term>
        <listitem>
          <para>Reads from standard input while writing both to standard output
          and to the given files</para>
          <indexterm zone="ch-system-coreutils tee" significance="normal">
            <primary sortas="b-tee">tee</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="test">
        <term><command moreinfo="none">test</command> or <command moreinfo="none">[</command></term>
        <listitem>
          <para>Compares values and checks file types</para>
          <indexterm zone="ch-system-coreutils test" significance="normal">
            <primary sortas="b-test">test</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="timeout">
        <term><command moreinfo="none">timeout</command></term>
        <listitem>
          <para>Runs a command with a time limit</para>
          <indexterm zone="ch-system-coreutils timeout" significance="normal">
            <primary sortas="b-timeout">timeout</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="touch">
        <term><command moreinfo="none">touch</command></term>
        <listitem>
          <para>Changes file timestamps, setting the access and modification
          times of the given files to the current time; files that do not exist
          are created with zero length</para>
          <indexterm zone="ch-system-coreutils touch" significance="normal">
            <primary sortas="b-touch">touch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tr">
        <term><command moreinfo="none">tr</command></term>
        <listitem>
          <para>Translates, squeezes, and deletes the given characters from
          standard input</para>
          <indexterm zone="ch-system-coreutils tr" significance="normal">
            <primary sortas="b-tr">tr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="true">
        <term><command moreinfo="none">true</command></term>
        <listitem>
          <para>Does nothing, successfully; it always exits with a status code
          indicating success</para>
          <indexterm zone="ch-system-coreutils true" significance="normal">
            <primary sortas="b-true">true</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="truncate">
        <term><command moreinfo="none">truncate</command></term>
        <listitem>
          <para>Shrinks or expands a file to the specified size</para>
          <indexterm zone="ch-system-coreutils truncate" significance="normal">
            <primary sortas="b-truncate">truncate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tsort">
        <term><command moreinfo="none">tsort</command></term>
        <listitem>
          <para>Performs a topological sort; it writes a completely ordered list
          according to the partial ordering in a given file</para>
          <indexterm zone="ch-system-coreutils tsort" significance="normal">
            <primary sortas="b-tsort">tsort</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tty">
        <term><command moreinfo="none">tty</command></term>
        <listitem>
          <para>Reports the file name of the terminal connected to standard
          input</para>
          <indexterm zone="ch-system-coreutils tty" significance="normal">
            <primary sortas="b-tty">tty</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uname">
        <term><command moreinfo="none">uname</command></term>
        <listitem>
          <para>Reports system information</para>
          <indexterm zone="ch-system-coreutils uname" significance="normal">
            <primary sortas="b-uname">uname</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unexpand">
        <term><command moreinfo="none">unexpand</command></term>
        <listitem>
          <para>Converts spaces to tabs</para>
          <indexterm zone="ch-system-coreutils unexpand" significance="normal">
            <primary sortas="b-unexpand">unexpand</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uniq">
        <term><command moreinfo="none">uniq</command></term>
        <listitem>
          <para>Discards all but one of successive identical lines</para>
          <indexterm zone="ch-system-coreutils uniq" significance="normal">
            <primary sortas="b-uniq">uniq</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unlink">
        <term><command moreinfo="none">unlink</command></term>
        <listitem>
          <para>Removes the given file</para>
          <indexterm zone="ch-system-coreutils unlink" significance="normal">
            <primary sortas="b-unlink">unlink</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="users">
        <term><command moreinfo="none">users</command></term>
        <listitem>
          <para>Reports the names of the users currently logged on</para>
          <indexterm zone="ch-system-coreutils users" significance="normal">
            <primary sortas="b-users">users</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vdir">
        <term><command moreinfo="none">vdir</command></term>
        <listitem>
          <para>Is the same as <command moreinfo="none">ls -l</command></para>
          <indexterm zone="ch-system-coreutils vdir" significance="normal">
            <primary sortas="b-vdir">vdir</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="wc">
        <term><command moreinfo="none">wc</command></term>
        <listitem>
          <para>Reports the number of lines, words, and bytes for each given
          file, as well as a total line when more than one file is given</para>
          <indexterm zone="ch-system-coreutils wc" significance="normal">
            <primary sortas="b-wc">wc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="who">
        <term><command moreinfo="none">who</command></term>
        <listitem>
          <para>Reports who is logged on</para>
          <indexterm zone="ch-system-coreutils who" significance="normal">
            <primary sortas="b-who">who</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="whoami">
        <term><command moreinfo="none">whoami</command></term>
        <listitem>
          <para>Reports the user name associated with the current effective
          user ID</para>
          <indexterm zone="ch-system-coreutils whoami" significance="normal">
            <primary sortas="b-whoami">whoami</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="yes">
        <term><command moreinfo="none">yes</command></term>
        <listitem>
          <para>Repeatedly outputs <quote>y</quote> or a given string until
          killed</para>
          <indexterm zone="ch-system-coreutils yes" significance="normal">
            <primary sortas="b-yes">yes</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libstdbuf">
        <term><filename class="libraryfile" moreinfo="none">libstdbuf</filename></term>
        <listitem>
          <para>Library used by <command moreinfo="none">stdbuf</command></para>
          <indexterm zone="ch-system-coreutils libstdbuf" significance="normal">
            <primary sortas="c-libstdbuf">libstdbuf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-iana-etc" role="wrap" xml:base="common/iana-etc.xml">
  <?dbhtml filename="iana-etc.html"?>

  <title>Iana-Etc-2.30</title>

  <indexterm zone="ch-system-iana-etc" significance="normal">
    <primary sortas="a-Iana-Etc">Iana-Etc</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Iana-Etc package provides data for network services and
    protocols.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Iana-Etc</title>

    <para os="p2">The following patch contains xml files which provide updates
    to the services and protocol files:</para>

<screen os="p3" format="linespecific"><userinput moreinfo="none">xzcat ../iana-etc-2.30-numbers_update-20140202-2.patch.xz | patch -Np1 -i -</userinput></screen>

    <para os="a">The following command converts the raw data provided by IANA into
    the correct formats for the <filename moreinfo="none">/etc/protocols</filename> and
    <filename moreinfo="none">/etc/services</filename> data files:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="c">This package does not come with a test suite.</para>

    <para os="d">Install the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-iana-etc" role="content">
    <title>Contents of Iana-Etc</title>

    <segmentedlist>
      <segtitle>Installed files</segtitle>

      <seglistitem>
        <seg>/etc/protocols, /etc/services</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="protocols">
        <term><filename moreinfo="none">/etc/protocols</filename></term>
        <listitem>
          <para>Describes the various DARPA Internet protocols that are
          available from the TCP/IP subsystem</para>
          <indexterm zone="ch-system-iana-etc" significance="normal">
            <primary sortas="e-/etc/protocols">/etc/protocols</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="services">
        <term><filename moreinfo="none">/etc/services</filename></term>
        <listitem>
          <para>Provides a mapping between friendly textual names for internet
          services, and their underlying assigned port numbers and protocol
          types</para>
          <indexterm zone="ch-system-iana-etc" significance="normal">
            <primary sortas="e-/etc/services">/etc/services</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-libtool" role="wrap" xml:base="common/libtool.xml">
  <?dbhtml filename="libtool.html"?>

  <title>Libtool-2.4.6</title>

  <indexterm zone="ch-system-libtool" significance="normal">
    <primary sortas="a-Libtool">Libtool</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Libtool package contains the GNU generic library support script.
    It wraps the complexity of using shared libraries in a consistent, portable
    interface.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Libtool</title>

    <para os="a">Prepare Libtool for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-libtool" role="content">
    <title>Contents of Libtool</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>libtool, libtoolize</seg>
        <seg>libltdl.[a,so]</seg>
        <seg>/usr/include/libltdl, /usr/share/libtool</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libtool">
        <term><command moreinfo="none">libtool</command></term>
        <listitem>
          <para>Provides generalized library-building support services</para>
          <indexterm zone="ch-system-libtool libtool" significance="normal">
            <primary sortas="b-libtool">libtool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libtoolize">
        <term><command moreinfo="none">libtoolize</command></term>
        <listitem>
          <para>Provides a standard way to add <command moreinfo="none">libtool</command> support
          to a package</para>
          <indexterm zone="ch-system-libtool libtoolize" significance="normal">
            <primary sortas="b-libtoolize">libtoolize</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libltdl">
        <term><filename class="libraryfile" moreinfo="none">libltdl</filename></term>
        <listitem>
          <para>Hides the various difficulties of dlopening libraries</para>
          <indexterm zone="ch-system-libtool libltdl" significance="normal">
            <primary sortas="c-libltdl">libltdl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-iproute2" role="wrap" xml:base="common/iproute2.xml">
  <?dbhtml filename="iproute2.html"?>

  <title>IPRoute2-4.9.0</title>

  <indexterm zone="ch-system-iproute2" significance="normal">
    <primary sortas="a-IPRoute2">IPRoute2</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The IPRoute2 package contains programs for basic and advanced
    IPV4-based networking.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of IPRoute2</title>

    <para os="s1">ARPD will not be installed as Berkeley DB is not installed.
        Remove any <command moreinfo="none">arpd</command> references during install.</para>

    <screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i '/ARPD/d' Makefile
            sed -i 's/arpd.8//' man/man8/Makefile
            sed -i '/tc-simple/s@tc-skbmod.8 @@' man/man8/Makefile
            rm -v doc/arpd.sgml
    </userinput></screen>

    <para os="a">Compile the package:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="c">This package does not come with a test suite.</para>

    <para os="d">Install the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make DOCDIR=/usr/share/doc/iproute2-4.9.0 install</userinput></screen>

  </sect2>

  <sect2 id="contents-iproute2" role="content">
    <title>Contents of IPRoute2</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>bridge, ctstat (link to lnstat), genl, ifcfg, ifstat, ip, lnstat,
        nstat, routef, routel, rtacct, rtmon, rtpr, rtstat (link to lnstat), ss,
        tc</seg>
        <seg>/etc/iproute2, /usr/lib/tc,
        /usr/share/doc/iproute2-4.9.0</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bridge">
        <term><command moreinfo="none">bridge</command></term>
        <listitem>
          <para>Configures network bridges</para>
          <indexterm zone="ch-system-iproute2 bridge" significance="normal">
            <primary sortas="b-bridge">bridge</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ctstat">
        <term><command moreinfo="none">ctstat</command></term>
        <listitem>
          <para>Connection status utility</para>
          <indexterm zone="ch-system-iproute2 ctstat" significance="normal">
            <primary sortas="b-ctstat">ctstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="genl">
        <term><command moreinfo="none">genl</command></term>
        <listitem>
          <para>Needs description</para>
          <indexterm zone="ch-system-iproute2 genl" significance="normal">
            <primary sortas="b-genl">genl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ifcfg">
        <term><command moreinfo="none">ifcfg</command></term>
        <listitem>
          <para>A shell script wrapper for the <command moreinfo="none">ip</command>
          command</para>
          <indexterm zone="ch-system-iproute2 ifcfg" significance="normal">
            <primary sortas="b-ifcfg">ifcfg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ifstat">
        <term><command moreinfo="none">ifstat</command></term>
        <listitem>
          <para>Shows the interface statistics, including the amount of
          transmitted and received packets by interface</para>
          <indexterm zone="ch-system-iproute2 ifstat" significance="normal">
            <primary sortas="b-ifstat">ifstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ip">
        <term><command moreinfo="none">ip</command></term>
        <listitem>
          <para>The main executable. It has several different functions:</para>

          <para><command moreinfo="none">ip link <replaceable>[device]</replaceable></command>
          allows users to look at the state of devices and to make changes</para>

          <para><command moreinfo="none">ip addr</command> allows users to look at addresses and
          their properties, add new addresses, and delete old ones</para>

          <para><command moreinfo="none">ip neighbor</command> allows users to look at neighbor
          bindings and their properties, add new neighbor entries, and delete
          old ones</para>

          <para><command moreinfo="none">ip rule</command> allows users to look at the routing
          policies and change them</para>

          <para><command moreinfo="none">ip route</command> allows users to look at the routing
          table and change routing table rules</para>

          <para><command moreinfo="none">ip tunnel</command> allows users to look at the IP
          tunnels and their properties, and change them</para>

          <para><command moreinfo="none">ip maddr</command> allows users to look at the multicast
          addresses and their properties, and change them</para>

          <para><command moreinfo="none">ip mroute</command> allows users to set, change, or
          delete the multicast routing</para>

          <para><command moreinfo="none">ip monitor</command> allows users to continuously monitor
          the state of devices, addresses and routes</para>
          <indexterm zone="ch-system-iproute2 ip" significance="normal">
            <primary sortas="b-ip">ip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lnstat">
        <term><command moreinfo="none">lnstat</command></term>
        <listitem>
          <para>Provides Linux network statistics. It is a generalized and more
          feature-complete replacement for the old <command moreinfo="none">rtstat</command>
          program</para>
          <indexterm zone="ch-system-iproute2 lnstat" significance="normal">
            <primary sortas="b-lnstat">lnstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nstat">
        <term><command moreinfo="none">nstat</command></term>
        <listitem>
          <para>Shows network statistics</para>
          <indexterm zone="ch-system-iproute2 nstat" significance="normal">
            <primary sortas="b-nstat">nstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="routef">
        <term><command moreinfo="none">routef</command></term>
        <listitem>
          <para>A component of <command moreinfo="none">ip route</command>. This is for flushing
          the routing tables</para>
          <indexterm zone="ch-system-iproute2 routef" significance="normal">
            <primary sortas="b-routef">routef</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="routel">
        <term><command moreinfo="none">routel</command></term>
        <listitem>
          <para>A component of <command moreinfo="none">ip route</command>. This is for listing
          the routing tables</para>
          <indexterm zone="ch-system-iproute2 routel" significance="normal">
            <primary sortas="b-routel">routel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtacct">
        <term><command moreinfo="none">rtacct</command></term>
        <listitem>
          <para>Displays the contents of
          <filename moreinfo="none">/proc/net/rt_acct</filename></para>
          <indexterm zone="ch-system-iproute2 rtacct" significance="normal">
            <primary sortas="b-rtacct">rtacct</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtmon">
        <term><command moreinfo="none">rtmon</command></term>
        <listitem>
          <para>Route monitoring utility</para>
          <indexterm zone="ch-system-iproute2 rtmon" significance="normal">
            <primary sortas="b-rtmon">rtmon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtpr">
        <term><command moreinfo="none">rtpr</command></term>
        <listitem>
          <para>Converts the output of <command moreinfo="none">ip -o</command> back into a
          readable form</para>
          <indexterm zone="ch-system-iproute2 rtpr" significance="normal">
            <primary sortas="b-rtpr">rtpr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtstat">
        <term><command moreinfo="none">rtstat</command></term>
        <listitem>
          <para>Route status utility</para>
          <indexterm zone="ch-system-iproute2 rtstat" significance="normal">
            <primary sortas="b-rtstat">rtstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ss">
        <term><command moreinfo="none">ss</command></term>
        <listitem>
          <para>Similar to the <command moreinfo="none">netstat</command> command; shows
          active connections</para>
          <indexterm zone="ch-system-iproute2 ss" significance="normal">
            <primary sortas="b-ss">ss</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tc">
        <term><command moreinfo="none">tc</command></term>
        <listitem>
          <para>Traffic Controlling Executable; this is for Quality Of Service
          (QOS) and Class Of Service (COS) implementations</para>

          <para><command moreinfo="none">tc qdisc</command> allows users to setup the queueing
          discipline</para>

          <para><command moreinfo="none">tc class</command> allows users to setup classes based on
          the queuing discipline scheduling</para>

          <para><command moreinfo="none">tc estimator</command> allows users to estimate the
          network flow into a network</para>

          <para><command moreinfo="none">tc filter</command> allows users to setup the QOS/COS
          packet filtering</para>

          <para><command moreinfo="none">tc policy</command> allows users to setup the QOS/COS
          policies</para>
          <indexterm zone="ch-system-iproute2 ss" significance="normal">
            <primary sortas="b-tc">tc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-bzip2" role="wrap" xml:base="common/bzip2.xml">
  <?dbhtml filename="bzip2.html"?>

  <title>Bzip2-1.0.6</title>

  <indexterm zone="ch-system-bzip2" significance="normal">
    <primary sortas="a-Bzip2">Bzip2</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Bzip2 package contains programs for compressing and
    decompressing files. Compressing text files with <command moreinfo="none">bzip2</command>
    yields a much better compression percentage than with the traditional
    <command moreinfo="none">gzip</command>.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Bzip2</title>

    <para os="s1">By default Bzip2 creates some symlinks that use absolute
    pathnames. The following sed will cause them to be created with relative
    paths instead:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i -e 's:ln -s -f $(PREFIX)/bin/:ln -s :' Makefile</userinput></screen>

    <para os="s3">Make Bzip2 install its manpages in
    <filename class="directory" moreinfo="none">/usr/share/man</filename> instead of
    <filename class="directory" moreinfo="none">/usr/man</filename>:</para>

<screen os="s4" format="linespecific"><userinput moreinfo="none">sed -i 's@X)/man@X)/share/man@g' ./Makefile</userinput></screen>

    <para os="a">The Bzip2 package does not contain a <command moreinfo="none">configure</command>
    script. Compile it with:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">make -f Makefile-libbz2_so
make clean</userinput></screen>

    <para os="c">The <parameter moreinfo="none">-f</parameter> flag will cause Bzip2 to be built
    using a different <filename moreinfo="none">Makefile</filename> file, in this case the
    <filename moreinfo="none">Makefile-libbz2_so</filename> file, which creates a dynamic
    <filename class="libraryfile" moreinfo="none">libbz2.so</filename> library and links the
    Bzip2 utilities against it.</para>

    <para os="d">Recompile the package using a non-shared library and test it:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="g">Install the programs:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make PREFIX=/usr install</userinput></screen>

    <para os="i">Install the shared <command moreinfo="none">bzip2</command> binary into the
    <filename class="directory" moreinfo="none">/bin</filename> directory, make
    some necessary symbolic links, and clean up:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">cp -v bzip2-shared /bin/bzip2
cp -av libbz2.so* /lib
ln -sv ../../lib/libbz2.so.1.0 /usr/lib/libbz2.so
rm -v /usr/bin/{bunzip2,bzcat,bzip2}
ln -sv bzip2 /bin/bunzip2
ln -sv bzip2 /bin/bzcat</userinput></screen>

  </sect2>

  <sect2 id="contents-bzip2" role="content">
    <title>Contents of Bzip2</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>

      <seglistitem>
        <seg>bunzip2 (link to bzip2), bzcat (link to bzip2), bzcmp (link to
        bzdiff), bzdiff, bzegrep (link to bzgrep), bzfgrep (link to bzgrep),
        bzgrep, bzip2, bzip2recover, bzless (link to bzmore), bzmore</seg>
        <seg>libbz2.a, libbz2.so (link to libbz2.so.1.0), libbz2.so.1.0 (link to
        libbz2.so.1.0.6), libbz2.so.1.0.6</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bunzip2">
        <term><command moreinfo="none">bunzip2</command></term>
        <listitem>
          <para>Decompresses bzipped files</para>
          <indexterm zone="ch-system-bzip2 bunzip2" significance="normal">
            <primary sortas="b-bunzip2">bunzip2</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzcat">
        <term><command moreinfo="none">bzcat</command></term>
        <listitem>
          <para>Decompresses to standard output</para>
          <indexterm zone="ch-system-bzip2 bzcat" significance="normal">
            <primary sortas="b-bzcat">bzcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzcmp">
        <term><command moreinfo="none">bzcmp</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">cmp</command> on bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzcmp" significance="normal">
            <primary sortas="b-bzcmp">bzcmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzdiff">
        <term><command moreinfo="none">bzdiff</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">diff</command> on bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzdiff" significance="normal">
            <primary sortas="b-bzdiff">bzdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzegrep">
        <term><command moreinfo="none">bzegrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">egrep</command> on bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzegrep" significance="normal">
            <primary sortas="b-bzegrep">bzegrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzfgrep">
        <term><command moreinfo="none">bzfgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">fgrep</command> on bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzfgrep" significance="normal">
            <primary sortas="b-bzfgrep">bzfgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzgrep">
        <term><command moreinfo="none">bzgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">grep</command> on bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzgrep" significance="normal">
            <primary sortas="b-bzgrep">bzgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzip2">
        <term><command moreinfo="none">bzip2</command></term>
        <listitem>
          <para>Compresses files using the Burrows-Wheeler block sorting text
          compression algorithm with Huffman coding; the compression rate is
          better than that achieved by more conventional compressors using
          <quote>Lempel-Ziv</quote> algorithms, like <command moreinfo="none">gzip</command></para>
          <indexterm zone="ch-system-bzip2 bzip2" significance="normal">
            <primary sortas="b-bzip2">bzip2</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzip2recover">
        <term><command moreinfo="none">bzip2recover</command></term>
        <listitem>
          <para>Tries to recover data from damaged bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzip2recover" significance="normal">
            <primary sortas="b-bzip2recover">bzip2recover</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzless">
        <term><command moreinfo="none">bzless</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">less</command> on bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzless" significance="normal">
            <primary sortas="b-bzless">bzless</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzmore">
        <term><command moreinfo="none">bzmore</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">more</command> on bzipped files</para>
          <indexterm zone="ch-system-bzip2 bzmore" significance="normal">
            <primary sortas="b-bzmore">bzmore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libbz2">
        <term><filename class="libraryfile" moreinfo="none">libbz2*</filename></term>
        <listitem>
          <para>The library implementing lossless, block-sorting data
          compression, using the Burrows-Wheeler algorithm</para>
          <indexterm zone="ch-system-bzip2 libbz2" significance="normal">
            <primary sortas="c-libbz2*">libbz2*</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-gdbm" role="wrap" xml:base="common/gdbm.xml">
  <?dbhtml filename="gdbm.html"?>

  <title>GDBM-1.13</title>

  <indexterm zone="ch-system-gdbm" significance="normal">
    <primary sortas="a-Gdbm">GDBM</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The GDBM package contains the GNU Database Manager. This is a disk
    file format database which stores key/data-pairs in single files. The
    actual data of any record being stored is indexed by a unique key, which can
    be retrieved in less time than if it was stored in a text file.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of GDBM</title>

    <para os="a">Prepare GDBM for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --enable-libgdbm-compat</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure option:</title>

      <varlistentry>
        <term><envar>--enable-libgdbm-compat</envar></term>
        <listitem>
          <para>This switch enables the libgdbm compatibility library to be
          built, as some packages outside of CLFS may require the older DBM
          routines it provides.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">To test the results, issue:</para>

<screen os="g" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="h">Install the package:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-gdbm" role="content">
    <title>Contents of GDBM</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>

      <seglistitem>
        <seg>gdbm_dump, gdbm_load, gdbmtool</seg>
        <seg>libgdbm.{a,so}, libgdbm_compat.{a,so}</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gdbm_dump">
        <term><command moreinfo="none">gdbm_dump</command></term>
        <listitem>
          <para>Dumps a GDBM database to a file.</para>
          <indexterm zone="ch-system-gdbm gdbm_dump" significance="normal">
            <primary sortas="b-gdbm_dump">gdbm_dump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gdbm_load">
        <term><command moreinfo="none">gdbm_load</command></term>
        <listitem>
          <para>Recreates a GDBM database from a dump file.</para>
          <indexterm zone="ch-system-gdbm gdbm_load" significance="normal">
            <primary sortas="b-gdbm_load">gdbm_load</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gdbmtool">
        <term><command moreinfo="none">gdbmtool</command></term>
        <listitem>
          <para>Tests and modifies a GDBM database</para>
          <indexterm zone="ch-system-gdbm gdbmtool" significance="normal">
            <primary sortas="b-gdbmtool">gdbmtool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgdbm">
        <term><filename class="libraryfile" moreinfo="none">libgdbm</filename></term>
        <listitem>
          <para>Contains functions to manipulate a hashed database</para>
          <indexterm zone="ch-system-gdbm libgdbm" significance="normal">
            <primary sortas="c-libgdbm">libgdbm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgdbm_compat">
        <term><filename class="libraryfile" moreinfo="none">libgdbm_compat</filename></term>
        <listitem>
          <para>Compatibility library containing older DBM functions</para>
          <indexterm zone="ch-system-gdbm libgdbm_compat" significance="normal">
            <primary sortas="c-libgdbm_compat">libgdbm_compat</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-perl" role="wrap" xml:base="common/perl.xml">
  <?dbhtml filename="perl.html"?>

  <title>Perl-5.26.0</title>

  <indexterm zone="ch-system-perl" significance="normal">
    <primary sortas="a-Perl">Perl</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Perl package contains the Practical Extraction and Report
    Language.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Perl</title>

    <para os="s3">By default, Perl's Compress::Raw::Zlib and
    Compress::Raw::Bzip2 modules build and link against internal copies of
    Zlib and Bzip2. The following command will make Perl use the
    system-installed copies of these libraries:</para>

<screen os="s4" format="linespecific"><userinput moreinfo="none">export BUILD_ZLIB=False
export BUILD_BZIP2=0</userinput></screen>

    <note os="a00">
      <para>If you are following the boot method you will need to enable the
      loopback device:</para>

<screen format="linespecific"><userinput remap="test" moreinfo="none">ip link set lo up</userinput></screen>
    </note>

    <para os="a01">Before starting to configure, create a basic
    <filename moreinfo="none">/etc/hosts</filename> file which will be referenced by one
    of Perl's configuration files as well as used by the test suite:</para>

<screen os="a02" format="linespecific"><userinput remap="test" moreinfo="none">echo "127.0.0.1 localhost $(hostname)" &gt; /etc/hosts</userinput></screen>

    <para os="a">To have full control over the way Perl is set up, you can
    run the interactive <command moreinfo="none">Configure</command> script and hand-pick
    the way this package is built. If you prefer instead to use the defaults
    that Perl auto-detects, prepare Perl for compilation with:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure.gnu \
    --prefix=/usr \
    -Dvendorprefix=/usr \
    -Dman1dir=/usr/share/man/man1 \
    -Dman3dir=/usr/share/man/man3 \
    -Dpager="/bin/less -isR" \
    -Dusethreads \
    -Duseshrplib</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure option:</title>

      <varlistentry os="c1">
        <term><parameter moreinfo="none">-Dman1dir=/usr/share/man/man1 -Dman3dir=/usr/share/man/man3</parameter></term>
        <listitem>
          <para>Since Groff is not installed yet,
          <command moreinfo="none">configure.gnu</command> thinks that we do not want
          man pages for Perl. Issuing these parameters overrides this decision.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="c2">
        <term><parameter moreinfo="none">-Dpager="/bin/less -isR"</parameter></term>
        <listitem>
          <para>Less has not yet been installed, so by default
          <command moreinfo="none">perldoc</command> will invoke the <command moreinfo="none">more</command>
          program for viewing documentation. This option ensures that it will
          use <command moreinfo="none">less</command> instead.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="c3">
        <term><parameter moreinfo="none">-Dusethreads</parameter></term>
        <listitem>
          <para>This tells Perl to use threads.</para>
        </listitem>
      </varlistentry>

      <varlistentry os="c4">
        <term><parameter moreinfo="none">-Duseshrplib</parameter></term>
        <listitem>
          <para>This tells Perl to build a shared libperl.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="h">To test the results, issue:</para>

<screen os="h2" format="linespecific"><userinput remap="test" moreinfo="none">make test</userinput></screen>

    <para os="j">Install the package and remove the variables set previously:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">make install
unset BUILD_ZLIB BUILD_BZIP2</userinput></screen>

  </sect2>

  <sect2 id="contents-perl" role="content">
    <title>Contents of Perl</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>a2p, c2ph, config_data, corelist, cpan, cpan2dist, cpanp,
        cpanp-run-perl, enc2xs, find2perl, h2ph, h2xs, instmodsh, json_pp,
        libnetcfg, perl, perl5.26.0 (link to perl), perlbug,
        perldoc, perlivp, perlthanks (link to perlbug), piconv, pl2pm, pod2html,
        pod2latex, pod2man, pod2text, pod2usage, podchecker, podselect, prove,
        psed (link to s2p), pstruct (link to c2ph), ptar, ptardiff, ptargrep,
        s2p, shasum, splain, xsubpp, zipdetails</seg>
        <seg>Several hundred which cannot all be listed here</seg>
        <seg>/usr/lib/perl5</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="a2p">
        <term><command moreinfo="none">a2p</command></term>
        <listitem>
          <para>Translates awk to Perl</para>
          <indexterm zone="ch-system-perl a2p" significance="normal">
            <primary sortas="b-a2p">a2p</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="c2ph">
        <term><command moreinfo="none">c2ph</command></term>
        <listitem>
          <para>Dumps C structures as generated from
          <command moreinfo="none">cc -g -S</command></para>
          <indexterm zone="ch-system-perl c2ph" significance="normal">
            <primary sortas="b-c2ph">c2ph</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="config_data">
        <term><command moreinfo="none">config_data</command></term>
        <listitem>
          <para>Queries or changes configuration of Perl modules</para>
          <indexterm zone="ch-system-perl config_data" significance="normal">
            <primary sortas="b-config_data">config_data</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="corelist">
        <term><command moreinfo="none">corelist</command></term>
        <listitem>
          <para>A commandline frontend to Module::CoreList</para>
          <indexterm zone="ch-system-perl corelist" significance="normal">
            <primary sortas="b-corelist">corelist</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cpan">
        <term><command moreinfo="none">cpan</command></term>
        <listitem>
          <para>Shell script that provides a command interface to CPAN.pm</para>
          <indexterm zone="ch-system-perl cpan" significance="normal">
            <primary sortas="b-cpan">cpan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cpan2dist">
        <term><command moreinfo="none">cpan2dist</command></term>
        <listitem>
          <para>The CPANPLUS distribution creator</para>
          <indexterm zone="ch-system-perl cpan2dist" significance="normal">
            <primary sortas="b-cpan2dist">cpan2dist</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cpanp">
        <term><command moreinfo="none">cpanp</command></term>
        <listitem>
          <para>The CPANPLUS launcher</para>
          <indexterm zone="ch-system-perl cpanp" significance="normal">
            <primary sortas="b-cpanp">cpanp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cpanp-run-perl">
        <term><command moreinfo="none">cpanp-run-perl</command></term>
        <listitem>
          <para>Perl script that (description needed)</para>
          <indexterm zone="ch-system-perl cpanp-run-perl" significance="normal">
            <primary sortas="b-cpanp-run-perl">cpanp-run-perl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="enc2xs">
        <term><command moreinfo="none">enc2xs</command></term>
        <listitem>
          <para>Builds a Perl extension for the Encode module from either
          Unicode Character Mappings or Tcl Encoding Files</para>
          <indexterm zone="ch-system-perl enc2xs" significance="normal">
            <primary sortas="b-enc2xs">enc2xs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="find2perl">
        <term><command moreinfo="none">find2perl</command></term>
        <listitem>
          <para>Translates <command moreinfo="none">find</command> commands to Perl</para>
          <indexterm zone="ch-system-perl find2perl" significance="normal">
            <primary sortas="b-find2perl">find2perl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="h2ph">
        <term><command moreinfo="none">h2ph</command></term>
        <listitem>
          <para>Converts <filename class="extension" moreinfo="none">.h</filename> C header
          files to <filename class="extension" moreinfo="none">.ph</filename> Perl header
          files</para>
          <indexterm zone="ch-system-perl h2ph" significance="normal">
            <primary sortas="b-h2ph">h2ph</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="h2xs">
        <term><command moreinfo="none">h2xs</command></term>
        <listitem>
          <para>Converts <filename class="extension" moreinfo="none">.h</filename> C header
          files to Perl extensions</para>
          <indexterm zone="ch-system-perl h2xs" significance="normal">
            <primary sortas="b-h2xs">h2xs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="instmodsh">
        <term><command moreinfo="none">instmodsh</command></term>
        <listitem>
          <para>A shell script for examining installed Perl modules,
          and can even create a tarball from an installed module</para>
          <indexterm zone="ch-system-perl instmodsh" significance="normal">
            <primary sortas="b-instmodsh">instmodsh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="json_pp">
        <term><command moreinfo="none">json_pp</command></term>
        <listitem>
          <para>Converts data between certain input and output formats</para>
          <indexterm zone="ch-system-perl json_pp" significance="normal">
            <primary sortas="b-json_pp">json_pp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libnetcfg">
        <term><command moreinfo="none">libnetcfg</command></term>
        <listitem>
          <para>Can be used to configure the
          <filename class="libraryfile" moreinfo="none">libnet</filename></para>
          <indexterm zone="ch-system-perl libnetcfg" significance="normal">
            <primary sortas="b-libnetcfg">libnetcfg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="perl">
        <term><command moreinfo="none">perl</command></term>
        <listitem>
          <para>Combines some of the best features of C, <command moreinfo="none">sed</command>,
          <command moreinfo="none">awk</command> and <command moreinfo="none">sh</command> into a single
          swiss-army-knife language</para>
          <indexterm zone="ch-system-perl perl" significance="normal">
            <primary sortas="b-perl">perl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="perl-version">
        <term><command moreinfo="none">perl5.26.0</command></term>
        <listitem>
          <para>A hard link to <command moreinfo="none">perl</command></para>
          <indexterm zone="ch-system-perl perl-version" significance="normal">
            <primary sortas="b-perl5.26.0">perl5.26.0</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="perlbug">
        <term><command moreinfo="none">perlbug</command></term>
        <listitem>
          <para>Used to generate bug reports about Perl, or the modules that come
          with it, and mail them</para>
          <indexterm zone="ch-system-perl perlbug" significance="normal">
            <primary sortas="b-perlbug">perlbug</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="perldoc">
        <term><command moreinfo="none">perldoc</command></term>
        <listitem>
          <para>Displays a piece of documentation in pod format that is embedded
          in the Perl installation tree or in a Perl script</para>
          <indexterm zone="ch-system-perl perldoc" significance="normal">
            <primary sortas="b-perldoc">perldoc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="perlivp">
        <term><command moreinfo="none">perlivp</command></term>
        <listitem>
          <para>The Perl Installation Verification Procedure; it can be used to
          verify that Perl and its libraries have been installed
          correctly</para>
          <indexterm zone="ch-system-perl perlivp" significance="normal">
            <primary sortas="b-perlivp">perlivp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="perlthanks">
        <term><command moreinfo="none">perlthanks</command></term>
        <listitem>
          <para>Used to generate thank you messages to mail to the Perl
          developers</para>
          <indexterm zone="ch-system-perl perlthanks" significance="normal">
            <primary sortas="b-perlthanks">perlthanks</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="piconv">
        <term><command moreinfo="none">piconv</command></term>
        <listitem>
          <para>A Perl version of the character encoding converter
          <command moreinfo="none">iconv</command></para>
          <indexterm zone="ch-system-perl piconv" significance="normal">
            <primary sortas="b-piconv">piconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pl2pm">
        <term><command moreinfo="none">pl2pm</command></term>
        <listitem>
          <para>A rough tool for converting Perl4
          <filename class="extension" moreinfo="none">.pl</filename> files to Perl5
          <filename class="extension" moreinfo="none">.pm</filename> modules</para>
          <indexterm zone="ch-system-perl pl2pm" significance="normal">
            <primary sortas="b-pl2pm">pl2pm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pod2html">
        <term><command moreinfo="none">pod2html</command></term>
        <listitem>
          <para>Converts files from pod format to HTML format</para>
          <indexterm zone="ch-system-perl pod2html" significance="normal">
            <primary sortas="b-pod2html">pod2html</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pod2latex">
        <term><command moreinfo="none">pod2latex</command></term>
        <listitem>
          <para>Converts files from pod format to LaTeX format</para>
          <indexterm zone="ch-system-perl pod2latex" significance="normal">
            <primary sortas="b-pod2latex">pod2latex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pod2man">
        <term><command moreinfo="none">pod2man</command></term>
        <listitem>
          <para>Converts pod data to formatted *roff input</para>
          <indexterm zone="ch-system-perl pod2man" significance="normal">
            <primary sortas="b-pod2man">pod2man</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pod2text">
        <term><command moreinfo="none">pod2text</command></term>
        <listitem>
          <para>Converts pod data to formatted ASCII text</para>
          <indexterm zone="ch-system-perl pod2text" significance="normal">
            <primary sortas="b-pod2text">pod2text</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pod2usage">
        <term><command moreinfo="none">pod2usage</command></term>
        <listitem>
          <para>Prints usage messages from embedded pod docs in files</para>
          <indexterm zone="ch-system-perl pod2usage" significance="normal">
            <primary sortas="b-pod2usage">pod2usage</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="podchecker">
        <term><command moreinfo="none">podchecker</command></term>
        <listitem>
          <para>Checks the syntax of pod format documentation files</para>
          <indexterm zone="ch-system-perl podchecker" significance="normal">
            <primary sortas="b-podchecker">podchecker</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="podselect">
        <term><command moreinfo="none">podselect</command></term>
        <listitem>
          <para>Displays selected sections of pod documentation</para>
          <indexterm zone="ch-system-perl podselect" significance="normal">
            <primary sortas="b-podselect">podselect</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="prove">
        <term><command moreinfo="none">prove</command></term>
        <listitem>
          <para>A command-line tool for running tests against Test::Harness</para>
          <indexterm zone="ch-system-perl prove" significance="normal">
            <primary sortas="b-prove">prove</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psed">
        <term><command moreinfo="none">psed</command></term>
        <listitem>
          <para>A Perl version of the stream editor <command moreinfo="none">sed</command></para>
          <indexterm zone="ch-system-perl psed" significance="normal">
            <primary sortas="b-psed">psed</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pstruct">
        <term><command moreinfo="none">pstruct</command></term>
        <listitem>
          <para>Dumps C structures as generated from <command moreinfo="none">cc -g -S</command>
          stabs</para>
          <indexterm zone="ch-system-perl pstruct" significance="normal">
            <primary sortas="b-pstruct">pstruct</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ptar">
        <term><command moreinfo="none">ptar</command></term>
        <listitem>
          <para>A <command moreinfo="none">tar</command>-like program written in Perl</para>
          <indexterm zone="ch-system-perl ptar" significance="normal">
            <primary sortas="b-ptar">ptar</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ptardiff">
        <term><command moreinfo="none">ptardiff</command></term>
        <listitem>
          <para>A Perl program that compares an extracted archive with an
          unextracted one</para>
          <indexterm zone="ch-system-perl ptardiff" significance="normal">
            <primary sortas="b-ptardiff">ptardiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ptargrep">
        <term><command moreinfo="none">ptargrep</command></term>
        <listitem>
          <para>A Perl program that applies pattern matching to the contents
          of files in a tar archive</para>
          <indexterm zone="ch-system-perl ptargrep" significance="normal">
            <primary sortas="b-ptargrep">ptargrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="s2p">
        <term><command moreinfo="none">s2p</command></term>
        <listitem>
          <para>Translates <command moreinfo="none">sed</command> to Perl</para>
          <indexterm zone="ch-system-perl s2p" significance="normal">
            <primary sortas="b-s2p">s2p</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="shasum">
        <term><command moreinfo="none">shasum</command></term>
        <listitem>
          <para>Prints or checks SHA checksums</para>
          <indexterm zone="ch-system-perl shasum" significance="normal">
            <primary sortas="b-shasum">shasum</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="splain">
        <term><command moreinfo="none">splain</command></term>
        <listitem>
          <para>Is used to force verbose warning diagnostics in Perl</para>
          <indexterm zone="ch-system-perl splain" significance="normal">
            <primary sortas="b-splain">splain</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xsubpp">
        <term><command moreinfo="none">xsubpp</command></term>
        <listitem>
          <para>Converts Perl XS code into C code</para>
          <indexterm zone="ch-system-perl xsubpp" significance="normal">
            <primary sortas="b-xsubpp">xsubpp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zipdetails">
        <term><command moreinfo="none">zipdetails</command></term>
        <listitem>
          <para>Displays details about the internal structure of a Zip file</para>
          <indexterm zone="ch-system-perl zipdetails" significance="normal">
            <primary sortas="b-zipdetails">zipdetails</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-readline" role="wrap" xml:base="common/readline.xml">
  <?dbhtml filename="readline.html"?>

  <title>Readline-7.0</title>

  <indexterm zone="ch-system-readline" significance="normal">
    <primary sortas="a-Readline">Readline</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Readline package is a set of libraries that offers command-line
    editing and history capabilities.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Readline</title>

    <para os="p1">The following patch contains updates from the maintainer. The
    maintainer of Readline only releases these patches to fix serious issues:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../readline-7.0-branch_update-1.patch</userinput></screen>

<para os="s1">Reinstalling Readline moves the old libraries to
    &lt;libraryname&gt; and a linking bug may occur in 
    <command moreinfo="none">ldconfig</command>. Prevent this with the following seds:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i '/MV.*old/d' Makefile.in
sed -i '/{OLDSUFF}/c:' support/shlib-install</userinput></screen>

    <para os="a">Prepare Readline for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --libdir=/lib \
    --docdir=/usr/share/doc/readline-7.0</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make SHLIB_LIBS=-lncurses</userinput></screen>

    <para os="e">This package does not come with a test suite.</para>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make SHLIB_LIBS=-lncurses htmldir=/usr/share/doc/readline-7.0 install</userinput></screen>

    <para os="h">Now move the static libraries to a more appropriate location:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /lib/lib{readline,history}.a /usr/lib</userinput></screen>

    <para os="j">Next, relink the dynamic libraries into <filename class="directory" moreinfo="none">/usr/lib</filename> and remove the <filename class="extension" moreinfo="none">.so</filename> files in <filename class="directory" moreinfo="none">/lib</filename>.</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">ln -svf ../../lib/$(readlink /lib/libreadline.so) /usr/lib/libreadline.so
ln -svf ../../lib/$(readlink /lib/libhistory.so) /usr/lib/libhistory.so
rm -v /lib/lib{readline,history}.so</userinput></screen>

  </sect2>

  <sect2 id="contents-readline" role="content">
    <title>Contents of Readline</title>

    <segmentedlist>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>libhistory.[a,so], libreadline.[a,so]</seg>
        <seg>/usr/include/readline, /usr/share/doc/readline-7.0, /usr/share/readline</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libhistory">
        <term><filename class="libraryfile" moreinfo="none">libhistory</filename></term>
        <listitem>
          <para>Provides a consistent user interface
          for recalling lines of history</para>
          <indexterm zone="ch-system-readline libhistory" significance="normal">
            <primary sortas="c-libhistory">libhistory</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libreadline">
        <term><filename class="libraryfile" moreinfo="none">libreadline</filename></term>
        <listitem>
          <para>Aids in the consistency of user interface
          across discrete programs that need to provide a command line
          interface</para>
          <indexterm zone="ch-system-readline libreadline" significance="normal">
            <primary sortas="c-libreadline">libreadline</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-autoconf" role="wrap" xml:base="common/autoconf.xml">
  <?dbhtml filename="autoconf.html"?>

  <title>Autoconf-2.69</title>

  <indexterm zone="ch-system-autoconf" significance="normal">
    <primary sortas="a-Autoconf">Autoconf</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Autoconf package contains programs for producing shell scripts that
    can automatically configure source code.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Autoconf</title>

    <para os="a">Prepare Autoconf for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check VERBOSE=yes</userinput></screen>

    <para os="e3">17 tests are skipped that use Automake and different GCC languages.
    For full test coverage, Autoconf can be re-tested after Automake has been
    installed.</para>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-autoconf" role="content">
    <title>Contents of Autoconf</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>autoconf, autoheader, autom4te, autoreconf, autoscan, autoupdate,
        ifnames</seg>
        <seg>/usr/share/autoconf</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="autoconf">
        <term><command moreinfo="none">autoconf</command></term>
        <listitem>
          <para>Produces shell scripts that automatically configure software
          source code packages to adapt to many kinds of Unix-like systems.
          The configuration scripts it produces are independent—running
          them does not require the <command moreinfo="none">autoconf</command> program.</para>
          <indexterm zone="ch-system-autoconf autoconf" significance="normal">
            <primary sortas="b-autoconf">autoconf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="autoheader">
        <term><command moreinfo="none">autoheader</command> </term>
        <listitem>
          <para>A tool for creating template files of C
          <emphasis>#define</emphasis> statements for configure to use</para>
          <indexterm zone="ch-system-autoconf autoheader" significance="normal">
            <primary sortas="b-autoheader">autoheader</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="autom4te">
        <term><command moreinfo="none">autom4te</command></term>
        <listitem>
          <para>A wrapper for the M4 macro processor</para>
          <indexterm zone="ch-system-autoconf autom4te" significance="normal">
            <primary sortas="b-autom4te">autom4te</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="autoreconf">
        <term><command moreinfo="none">autoreconf</command></term>
        <listitem>
          <para>Automatically runs <command moreinfo="none">autoconf</command>,
          <command moreinfo="none">autoheader</command>, <command moreinfo="none">aclocal</command>,
          <command moreinfo="none">automake</command>, <command moreinfo="none">gettextize</command>, and
          <command moreinfo="none">libtoolize</command> in the correct order to save time
          when changes are made to <command moreinfo="none">autoconf</command> and
          <command moreinfo="none">automake</command> template files</para>
          <indexterm zone="ch-system-autoconf autoreconf" significance="normal">
            <primary sortas="b-autoreconf">autoreconf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="autoscan">
        <term><command moreinfo="none">autoscan</command> </term>
        <listitem>
          <para>Helps to create a <filename moreinfo="none">configure.in</filename> file for a
          software package; it examines the source files in a directory tree,
          searching them for common portability issues, and creates a
          <filename moreinfo="none">configure.scan</filename> file that serves as as a
          preliminary <filename moreinfo="none">configure.in</filename> file for the package</para>
          <indexterm zone="ch-system-autoconf autoscan" significance="normal">
            <primary sortas="b-autoscan">autoscan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="autoupdate">
        <term><command moreinfo="none">autoupdate</command></term>
        <listitem>
          <para>Modifies a <filename moreinfo="none">configure.in</filename> file that still
          calls <command moreinfo="none">autoconf</command> macros by their old names to use the
          current macro names</para>
          <indexterm zone="ch-system-autoconf autoupdate" significance="normal">
            <primary sortas="b-autoupdate">autoupdate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ifnames">
        <term><command moreinfo="none">ifnames</command> </term>
        <listitem>
          <para>Helps when writing <filename moreinfo="none">configure.in</filename> files
          for a software package; it prints the identifiers that the package
          uses in C preprocessor conditionals. If a package has already been set
          up to have some portability, this program can help determine what
          <command moreinfo="none">configure</command> needs to check for. It can also fill in
          gaps in a <filename moreinfo="none">configure.in</filename> file generated by
          <command moreinfo="none">autoscan</command></para>
          <indexterm zone="ch-system-autoconf ifnames" significance="normal">
            <primary sortas="b-ifnames">ifnames</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-automake" role="wrap" xml:base="common/automake.xml">
  <?dbhtml filename="automake.html"?>

  <title>Automake-1.15</title>

  <indexterm zone="ch-system-automake" significance="normal">
    <primary sortas="a-Automake">Automake</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Automake package contains programs for generating Makefiles
    for use with Autoconf.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Automake</title>

    <para os="p1">Apply the following patch to fix outdated syntax that is no
    longer recognized by Perl-5.26.0.</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../automake-1.15-perl_5_26-1.patch</userinput></screen>

    <para os="a">Prepare Automake for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --docdir=/usr/share/doc/automake-1.15</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-automake" role="content">
    <title>Contents of Automake</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>aclocal, aclocal-1.15, automake,
        automake-1.15, compile, config.guess, config.sub,
        depcomp, install-sh, mdate-sh, missing, mkinstalldirs,
        py-compile, symlink-tree, ylwrap</seg>
        <seg>/usr/share/aclocal-1.15,
        /usr/share/automake-1.15, /usr/share/doc/automake</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="aclocal">
        <term><command moreinfo="none">aclocal</command></term>
        <listitem>
          <para>Generates <filename moreinfo="none">aclocal.m4</filename> files based on the
          contents of <filename moreinfo="none">configure.in</filename> files</para>
          <indexterm zone="ch-system-automake aclocal" significance="normal">
            <primary sortas="b-aclocal">aclocal</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="aclocal-version">
        <term><command moreinfo="none">aclocal-1.15</command></term>
        <listitem>
          <para>A hard link to <command moreinfo="none">aclocal</command></para>
          <indexterm zone="ch-system-automake aclocal-version" significance="normal">
            <primary sortas="b-aclocal-1.15">aclocal-1.15</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="automake">
        <term><command moreinfo="none">automake</command></term>
        <listitem>
          <para>A tool for automatically generating
          <filename moreinfo="none">Makefile.in</filename> files from
          <filename moreinfo="none">Makefile.am</filename> files. To create all the
          <filename moreinfo="none">Makefile.in</filename> files for a package, run this
          program in the top-level directory. By scanning the
          <filename moreinfo="none">configure.in</filename> file, it automatically finds
          each appropriate <filename moreinfo="none">Makefile.am</filename> file and generates
          the corresponding <filename moreinfo="none">Makefile.in</filename> file</para>
          <indexterm zone="ch-system-automake automake" significance="normal">
            <primary sortas="b-automake">automake</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="automake-version">
        <term><command moreinfo="none">automake-1.15</command></term>
        <listitem>
          <para>A hard link to <command moreinfo="none">automake</command></para>
          <indexterm zone="ch-system-automake automake-version" significance="normal">
            <primary sortas="b-automake-1.15">automake-1.15</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="compile">
        <term><command moreinfo="none">compile</command></term>
        <listitem>
          <para>A wrapper for compilers</para>
          <indexterm zone="ch-system-automake compile" significance="normal">
            <primary sortas="b-compile">compile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="config.guess">
        <term><command moreinfo="none">config.guess</command></term>
        <listitem>
          <para>A script that attempts to guess the canonical triplet for
          the given build, host, or target architecture</para>
          <indexterm zone="ch-system-automake config.guess" significance="normal">
            <primary sortas="b-config.guess">config.guess</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="config.sub">
        <term><command moreinfo="none">config.sub</command></term>
        <listitem>
          <para>A configuration validation subroutine script</para>
          <indexterm zone="ch-system-automake config.sub" significance="normal">
            <primary sortas="b-config.sub">config.sub</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="depcomp">
        <term><command moreinfo="none">depcomp</command></term>
        <listitem>
          <para>A script for compiling a program so that dependency information
          is generated in addition to the desired output</para>
          <indexterm zone="ch-system-automake depcomp" significance="normal">
            <primary sortas="b-depcomp">depcomp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="install-sh">
        <term><command moreinfo="none">install-sh</command></term>
        <listitem>
          <para>A script that installs a program, script, or data file</para>
          <indexterm zone="ch-system-automake install-sh" significance="normal">
            <primary sortas="b-install-sh">install-sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mdate-sh">
        <term><command moreinfo="none">mdate-sh</command></term>
        <listitem>
          <para>A script that prints the modification time of a file or
          directory</para>
          <indexterm zone="ch-system-automake mdate-sh" significance="normal">
            <primary sortas="b-mdate-sh">mdate-sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="missing">
        <term><command moreinfo="none">missing</command></term>
        <listitem>
          <para>A script acting as a common stub for missing GNU programs during
          an installation</para>
          <indexterm zone="ch-system-automake missing" significance="normal">
            <primary sortas="b-missing">missing</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkinstalldirs">
        <term><command moreinfo="none">mkinstalldirs</command></term>
        <listitem>
          <para>A script that creates a directory tree</para>
          <indexterm zone="ch-system-automake mkinstalldirs" significance="normal">
            <primary sortas="b-mkinstalldirs">mkinstalldirs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="py-compile">
        <term><command moreinfo="none">py-compile</command></term>
        <listitem>
          <para>Compiles a Python program</para>
          <indexterm zone="ch-system-automake py-compile" significance="normal">
            <primary sortas="b-py-compile">py-compile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="symlink-tree">
        <term><command moreinfo="none">symlink-tree</command></term>
        <listitem>
          <para>A script to create a symlink tree of a directory tree</para>
          <indexterm zone="ch-system-automake symlink-tree" significance="normal">
            <primary sortas="b-symlink-tree">symlink-tree</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ylwrap">
        <term><command moreinfo="none">ylwrap</command></term>
        <listitem>
          <para>A wrapper for <command moreinfo="none">lex</command> and
          <command moreinfo="none">yacc</command></para>
          <indexterm zone="ch-system-automake ylwrap" significance="normal">
            <primary sortas="b-ylwrap">ylwrap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-bash" role="wrap" xml:base="common/bash.xml">
  <?dbhtml filename="bash.html"?>

  <title>Bash-4.4</title>

  <indexterm zone="ch-system-bash" significance="normal">
    <primary sortas="a-Bash">Bash</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Bash package contains the Bourne-Again SHell.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Bash</title>

    <para os="p1">The following patch contains updates from the maintainer. The
    maintainer of Bash only releases these patches to fix serious issues:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../bash-4.4-branch_update-1.patch</userinput></screen>

    <para os="a">Prepare Bash for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --without-bash-malloc \
    --with-installed-readline \
    --docdir=/usr/share/doc/bash-4.4</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--with-installed-readline</parameter></term>
        <listitem>
          <para>This option tells Bash to use the
          <filename class="libraryfile" moreinfo="none">readline</filename> library that is
          already installed on the system rather than using its own readline
          version.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">To test the results, issue:</para>

<screen os="f2" format="linespecific"><userinput remap="test" moreinfo="none">make tests</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="i">Move the <command moreinfo="none">bash</command> binary to
    <filename class="directory" moreinfo="none">/bin</filename>, overwriting the symlink
    that was previously created:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">mv -v /usr/bin/bash /bin</userinput></screen>

    <para os="k">Run the newly compiled <command moreinfo="none">bash</command> program (replacing
    the one that is currently being executed):</para>

<screen os="l" role="nodump" format="linespecific"><userinput moreinfo="none">exec /bin/bash --login +h</userinput></screen>

    <note os="m">
      <para>The parameters used make the <command moreinfo="none">bash</command>
      process an interactive login shell and continue to disable hashing so
      that new programs are found as they become available.</para>
    </note>

  </sect2>

  <sect2 id="contents-bash" role="content">
    <title>Contents of Bash</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>bash, bashbug, sh (link to bash)</seg>
        <seg>/usr/share/doc/bash-4.4</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bash">
        <term><command moreinfo="none">bash</command></term>
        <listitem>
          <para>A widely-used command interpreter; it performs many types of
          expansions and substitutions on a given command line before executing
          it, thus making this interpreter a powerful tool</para>
          <indexterm zone="ch-system-bash bash" significance="normal">
            <primary sortas="b-bash">bash</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bashbug">
        <term><command moreinfo="none">bashbug</command></term>
        <listitem>
          <para>A shell script to help the user compose and mail standard
          formatted bug reports concerning <command moreinfo="none">bash</command></para>
          <indexterm zone="ch-system-bash bashbug" significance="normal">
            <primary sortas="b-bashbug">bashbug</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sh">
        <term><command moreinfo="none">sh</command></term>
        <listitem>
          <para>A symlink to the <command moreinfo="none">bash</command> program; when invoked
          as <command moreinfo="none">sh</command>, <command moreinfo="none">bash</command> tries to mimic the
          startup behavior of historical versions of <command moreinfo="none">sh</command> as
          closely as possible, while conforming to the POSIX standard as
          well</para>
          <indexterm zone="ch-system-bash sh" significance="normal">
            <primary sortas="b-sh">sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-bc" role="wrap" xml:base="common/bc.xml">
  <?dbhtml filename="bc.html"?>

  <title>Bc-1.07.1</title>

  <indexterm zone="ch-system-bc" significance="normal">
    <primary sortas="a-Bc">Bc</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Bc package contains an arbitrary precision numeric processing language.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Bc</title>

    <para os="s1">Change an internal script to use <command moreinfo="none">sed</command> 
        instead of <command moreinfo="none">ed</command>:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">cat &gt; bc/fix-libmath_h &lt;&lt; "EOF"
#! /bin/bash
sed -e '1   s/^/{"/' \
    -e     's/$/",/' \
    -e '2,$ s/^/"/'  \
    -e   '$ d'       \
    -i libmath.h

sed -e '$ s/$/0}/' \
-i libmath.h
EOF</userinput></screen>

    <para os="a">Prepare Bc for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --with-readline \
    --mandir=/usr/share/man \
    --infodir=/usr/share/info</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">echo "quit" | ./bc/bc -l Test/checklib.b</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-bc" role="content">
    <title>Contents of Bc</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>bc, dc</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bc">
        <term><command moreinfo="none">bc</command></term>
        <listitem>
          <para>is a command line calculator</para>
          <indexterm zone="ch-system-bc bc" significance="normal">
            <primary sortas="b-bc">bc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dc">
        <term><command moreinfo="none">dc</command></term>
          <listitem>
          <para>is a reverse-polish command line calculator</para>
          <indexterm zone="ch-system-bc dc" significance="normal">
            <primary sortas="b-dc">dc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-diffutils" role="wrap" xml:base="common/diffutils.xml">
  <?dbhtml filename="diffutils.html"?>

  <title>Diffutils-3.6</title>

  <indexterm zone="ch-system-diffutils" significance="normal">
    <primary sortas="a-Diffutils">Diffutils</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Diffutils package contains programs that show the differences
    between files or directories.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Diffutils</title>

    <para os="s1">Fix a bug that prevents locale files from being installed:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i 's:= @mkdir_p@:= /bin/mkdir -p:' po/Makefile.in.in</userinput></screen>

    <para os="a">Prepare Diffutils for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="s5">Diffutils wants <command moreinfo="none">ed</command> as the default editor
    for <command moreinfo="none">sdiff</command>. The following <command moreinfo="none">sed</command> will
    change the default to <command moreinfo="none">vi</command>:</para>

<screen os="s6" format="linespecific"><userinput moreinfo="none">sed -i 's@\(^#define DEFAULT_EDITOR_PROGRAM \).*@\1"vi"@' lib/config.h</userinput></screen>
    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-diffutils" role="content">
    <title>Contents of Diffutils</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>cmp, diff, diff3, sdiff</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="cmp">
        <term><command moreinfo="none">cmp</command></term>
        <listitem>
          <para>Compares two files and reports whether or in which bytes
          they differ</para>
          <indexterm zone="ch-system-diffutils cmp" significance="normal">
            <primary sortas="b-cmp">cmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="diff">
        <term><command moreinfo="none">diff</command></term>
        <listitem>
          <para>Compares two files or directories and reports which lines in
          the files differ</para>
          <indexterm zone="ch-system-diffutils diff" significance="normal">
            <primary sortas="b-diff">diff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="diff3">
        <term><command moreinfo="none">diff3</command></term>
        <listitem>
          <para>Compares three files line by line</para>
          <indexterm zone="ch-system-diffutils diff3" significance="normal">
            <primary sortas="b-diff3">diff3</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sdiff">
        <term><command moreinfo="none">sdiff</command></term>
        <listitem>
          <para>Merges two files and interactively outputs the results</para>
          <indexterm zone="ch-system-diffutils sdiff" significance="normal">
            <primary sortas="b-sdiff">sdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-file" role="wrap" xml:base="common/file.xml">
  <?dbhtml filename="file.html"?>

  <title>File-5.31</title>

  <indexterm zone="ch-system-file" significance="normal">
    <primary sortas="a-File">File</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The File package contains a utility for determining the type of
    a given file or files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of File</title>

    <para os="a">Prepare File for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-file" role="content">
    <title>Contents of File</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed library</segtitle>

      <seglistitem>
        <seg>file</seg>
        <seg>libmagic.[a,so]</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="file">
        <term><command moreinfo="none">file</command></term>
        <listitem>
          <para>Tries to classify each given file; it does this by performing
          several tests—file system tests, magic number tests, and
          language tests</para>
          <indexterm zone="ch-system-file file" significance="normal">
            <primary sortas="b-file">file</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libmagic">
        <term><filename class="libraryfile" moreinfo="none">libmagic</filename></term>
        <listitem>
          <para>Contains routines for magic number recognition, used by the
          <command moreinfo="none">file</command> program</para>
          <indexterm zone="ch-system-file libmagic" significance="normal">
            <primary sortas="c-libmagic">libmagic</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-gawk" role="wrap" xml:base="common/gawk.xml">
  <?dbhtml filename="gawk.html"?>

  <title>Gawk-4.1.4</title>

  <indexterm zone="ch-system-gawk" significance="normal">
    <primary sortas="a-Gawk">Gawk</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Gawk package contains programs for manipulating text
    files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Gawk</title>

    <para os="a">Prepare Gawk for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --libexecdir=/usr/lib</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Install the documentation:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mkdir -v /usr/share/doc/gawk-4.1.4
cp -v doc/{awkforai.txt,*.{eps,pdf,jpg}} /usr/share/doc/gawk-4.1.4</userinput></screen>

  </sect2>

  <sect2 id="contents-gawk" role="content">
    <title>Contents of Gawk</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>awk (link to gawk), gawk, gawk-4.1.4, grcat, igawk,
        pgawk, pgawk-4.1.4, pwcat</seg>
        <seg>/usr/lib/awk, /usr/lib/gawk, /usr/share/awk,
        /usr/share/doc/gawk-4.1.4</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="awk">
        <term><command moreinfo="none">awk</command></term>
        <listitem>
          <para>A link to <command moreinfo="none">gawk</command></para>
          <indexterm zone="ch-system-gawk awk" significance="normal">
            <primary sortas="b-awk">awk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gawk">
        <term><command moreinfo="none">gawk</command></term>
        <listitem>
          <para>A program for manipulating text files; it is the GNU
          implementation of <command moreinfo="none">awk</command></para>
          <indexterm zone="ch-system-gawk gawk" significance="normal">
            <primary sortas="b-gawk">gawk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gawk-version">
        <term><command moreinfo="none">gawk-4.1.4</command></term>
          <listitem>
          <para>A hard link to <command moreinfo="none">gawk</command></para>
          <indexterm zone="ch-system-gawk gawk-version" significance="normal">
            <primary sortas="b-gawk-4.1.4">gawk-4.1.4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grcat">
        <term><command moreinfo="none">grcat</command></term>
        <listitem>
          <para>Dumps the group database <filename moreinfo="none">/etc/group</filename></para>
          <indexterm zone="ch-system-gawk grcat" significance="normal">
            <primary sortas="b-grcat">grcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="igawk">
        <term><command moreinfo="none">igawk</command></term>
        <listitem>
          <para>Gives <command moreinfo="none">gawk</command> the ability to include files</para>
          <indexterm zone="ch-system-gawk igawk" significance="normal">
            <primary sortas="b-igawk">igawk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pgawk">
        <term><command moreinfo="none">pgawk</command></term>
        <listitem>
          <para>The profiling version of <command moreinfo="none">gawk</command></para>
          <indexterm zone="ch-system-gawk pgawk" significance="normal">
            <primary sortas="b-pgawk">pgawk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pgawk-version">
        <term><command moreinfo="none">pgawk-4.1.4</command></term>
        <listitem>
          <para>Hard link to <command moreinfo="none">pgawk</command></para>
          <indexterm zone="ch-system-gawk pgawk-version" significance="normal">
            <primary sortas="b-pgawk-4.1.4">pgawk-4.1.4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pwcat">
        <term><command moreinfo="none">pwcat</command></term>
        <listitem>
          <para>Dumps the password database <filename moreinfo="none">/etc/passwd</filename></para>
          <indexterm zone="ch-system-gawk pwcat" significance="normal">
            <primary sortas="b-pwcat">pwcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-findutils" role="wrap" xml:base="common/findutils.xml">
  <?dbhtml filename="findutils.html"?>

  <title>Findutils-4.6.0</title>

  <indexterm zone="ch-system-findutils" significance="normal">
    <primary sortas="a-Findutils">Findutils</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Findutils package contains programs to find files. These programs
    are provided to recursively search through a directory tree and to
    create, maintain, and search a database (often faster than the recursive
    find, but unreliable if the database has not been recently updated).</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Findutils</title>

    <para os="a">Prepare Findutils for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --libexecdir=/usr/lib/locate \
    --localstatedir=/var/lib/locate</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--localstatedir</parameter></term>
        <listitem>
          <para>This option changes the location of the <command moreinfo="none">locate</command>
          database to be in <filename class="directory" moreinfo="none">/var/lib/locate</filename>,
          which is FHS-compliant.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">To test the results, issue:</para>

<screen os="f2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-findutils" role="content">
    <title>Contents of Findutils</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>bigram, code, find, frcode, locate, oldfind, updatedb, xargs</seg>
        <seg>/usr/lib/locate</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bigram">
        <term><command moreinfo="none">bigram</command></term>
        <listitem>
          <para>Was formerly used to produce <command moreinfo="none">locate</command>
          databases</para>
          <indexterm zone="ch-system-findutils bigram" significance="normal">
            <primary sortas="b-bigram">bigram</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="code">
        <term><command moreinfo="none">code</command></term>
        <listitem>
          <para>Was formerly used to produce <command moreinfo="none">locate</command>
          databases; it is the ancestor of <command moreinfo="none">frcode</command>.</para>
          <indexterm zone="ch-system-findutils code" significance="normal">
            <primary sortas="b-code">code</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="find">
        <term><command moreinfo="none">find</command></term>
        <listitem>
          <para>Searches given directory trees for files matching the specified
          criteria</para>
          <indexterm zone="ch-system-findutils find" significance="normal">
            <primary sortas="b-find">find</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="frcode">
        <term><command moreinfo="none">frcode</command></term>
        <listitem>
          <para>Is called by <command moreinfo="none">updatedb</command> to compress the list
          of file names; it uses front-compression, reducing the database size
          by a factor of four to five.</para>
          <indexterm zone="ch-system-findutils frcode" significance="normal">
            <primary sortas="b-frcode">frcode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="locate">
        <term><command moreinfo="none">locate</command></term>
        <listitem>
          <para>Searches through a database of file names and reports the names
          that contain a given string or match a given pattern</para>
          <indexterm zone="ch-system-findutils locate" significance="normal">
            <primary sortas="b-locate">locate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="oldfind">
        <term><command moreinfo="none">oldfind</command></term>
        <listitem>
          <para>Older version of find, using a different algorithm</para>
          <indexterm zone="ch-system-findutils oldfind" significance="normal">
            <primary sortas="b-oldfind">oldfind</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="updatedb">
        <term><command moreinfo="none">updatedb</command></term>
        <listitem>
          <para>Updates the <command moreinfo="none">locate</command> database; it scans the
          entire file system (including other file systems that are currently
          mounted, unless told not to) and puts every file name it finds into
          the database</para>
          <indexterm zone="ch-system-findutils updatedb" significance="normal">
            <primary sortas="b-updatedb">updatedb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xargs">
        <term><command moreinfo="none">xargs</command></term>
        <listitem>
          <para>Can be used to apply a given command to a list of files</para>
          <indexterm zone="ch-system-findutils xargs" significance="normal">
            <primary sortas="b-xargs">xargs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-gettext" role="wrap" xml:base="common/gettext.xml">
  <?dbhtml filename="gettext.html"?>

  <title>Gettext-0.19.8.1</title>

  <indexterm zone="ch-system-gettext" significance="normal">
    <primary sortas="a-Gettext">Gettext</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Gettext package contains utilities for internationalization
    and localization. These allow programs to be compiled with NLS (Native
    Language Support), enabling them to output messages in the user's native
    language.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Gettext</title>

    <para os="a">Prepare Gettext for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --docdir=/usr/share/doc/gettext-0.19.8.1</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-gettext" role="content">
    <title>Contents of Gettext</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>autopoint, config.charset, config.rpath, envsubst, gettext,
        gettext.sh, gettextize, hostname, msgattrib, msgcat, msgcmp, msgcomm,
        msgconv, msgen, msgexec, msgfilter, msgfmt, msggrep, msginit, msgmerge,
        msgunfmt, msguniq, ngettext, recode-sr-latin, xgettext</seg>
        <seg>libasprintf.[a,so], libgettextlib.so, libgettextpo.[a,so],
        libgettextsrc.so, preloadable_libintl.so</seg>
        <seg>/usr/lib/gettext, /usr/share/doc/gettext-0.19.8.1,
        /usr/share/gettext</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="autopoint">
        <term><command moreinfo="none">autopoint</command></term>
        <listitem>
          <para>Copies standard Gettext infrastructure files into a source
          package</para>
          <indexterm zone="ch-system-gettext autopoint" significance="normal">
            <primary sortas="b-autopoint">autopoint</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="config.charset">
        <term><command moreinfo="none">config.charset</command></term>
        <listitem>
          <para>Outputs a system-dependent table of character encoding aliases</para>
          <indexterm zone="ch-system-gettext config.charset" significance="normal">
            <primary sortas="b-config.charset">config.charset</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="config.rpath">
        <term><command moreinfo="none">config.rpath</command></term>
        <listitem>
          <para>Outputs a system-dependent set of variables, describing how to
          set the runtime search path of shared libraries in an executable</para>
          <indexterm zone="ch-system-gettext config.rpath" significance="normal">
            <primary sortas="b-config.rpath">config.rpath</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="envsubst">
        <term><command moreinfo="none">envsubst</command></term>
        <listitem>
          <para>Substitutes environment variables in shell format strings</para>
          <indexterm zone="ch-system-gettext envsubst" significance="normal">
            <primary sortas="b-envsubst">envsubst</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gettext">
        <term><command moreinfo="none">gettext</command></term>
        <listitem>
          <para>Translates a natural language message into the user's language
          by looking up the translation in a message catalog</para>
          <indexterm zone="ch-system-gettext gettext" significance="normal">
            <primary sortas="b-gettext">gettext</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gettext.sh">
        <term><command moreinfo="none">gettext.sh</command></term>
        <listitem>
          <para>Primarily serves as a shell function library for gettext</para>
          <indexterm zone="ch-system-gettext gettext.sh" significance="normal">
            <primary sortas="b-gettext.sh">gettext.sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gettextize">
        <term><command moreinfo="none">gettextize</command></term>
        <listitem>
          <para>Copies all standard Gettext files into the given top-level
          directory of a package to begin internationalizing it</para>
          <indexterm zone="ch-system-gettext gettextize" significance="normal">
            <primary sortas="b-gettextize">gettextize</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hostname-gettext">
        <term><command moreinfo="none">hostname</command></term>
        <listitem>
          <para>Displays a network hostname in various forms</para>
          <indexterm zone="ch-system-gettext hostname-gettext" significance="normal">
            <primary sortas="b-hostname-gettext">hostname</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgattrib">
        <term><command moreinfo="none">msgattrib</command></term>
        <listitem>
          <para>Filters the messages of a translation catalog according to their
          attributes and manipulates the attributes</para>
          <indexterm zone="ch-system-gettext msgattrib" significance="normal">
            <primary sortas="b-msgattrib">msgattrib</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgcat">
        <term><command moreinfo="none">msgcat</command></term>
        <listitem>
          <para>Concatenates and merges the given
          <filename class="extension" moreinfo="none">.po</filename> files</para>
          <indexterm zone="ch-system-gettext msgcat" significance="normal">
            <primary sortas="b-msgcat">msgcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgcmp">
        <term><command moreinfo="none">msgcmp</command></term>
        <listitem>
          <para>Compares two <filename class="extension" moreinfo="none">.po</filename>
          files to check that both contain the same set of msgid strings</para>
          <indexterm zone="ch-system-gettext msgcmp" significance="normal">
            <primary sortas="b-msgcmp">msgcmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgcomm">
        <term><command moreinfo="none">msgcomm</command></term>
        <listitem>
          <para>Finds the messages that are common to to the given
          <filename class="extension" moreinfo="none">.po</filename> files</para>
          <indexterm zone="ch-system-gettext msgcomm" significance="normal">
            <primary sortas="b-msgcomm">msgcomm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgconv">
        <term><command moreinfo="none">msgconv</command></term>
        <listitem>
          <para>Converts a translation catalog to a different character
          encoding</para>
          <indexterm zone="ch-system-gettext msgconv" significance="normal">
            <primary sortas="b-msgconv">msgconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgen">
        <term><command moreinfo="none">msgen</command></term>
        <listitem>
          <para>Creates an English translation catalog</para>
          <indexterm zone="ch-system-gettext msgen" significance="normal">
            <primary sortas="b-msgen">msgen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgexec">
        <term><command moreinfo="none">msgexec</command></term>
        <listitem>
          <para>Applies a command to all translations of a translation
          catalog</para>
          <indexterm zone="ch-system-gettext msgexec" significance="normal">
            <primary sortas="b-msgexec">msgexec</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgfilter">
        <term><command moreinfo="none">msgfilter</command></term>
        <listitem>
          <para>Applies a filter to all translations of a translation
          catalog</para>
          <indexterm zone="ch-system-gettext msgfilter" significance="normal">
            <primary sortas="b-msgfilter">msgfilter</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgfmt">
        <term><command moreinfo="none">msgfmt</command></term>
        <listitem>
          <para>Generates a binary message catalog from a translation
          catalog</para>
          <indexterm zone="ch-system-gettext msgfmt" significance="normal">
            <primary sortas="b-msgfmt">msgfmt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msggrep">
        <term><command moreinfo="none">msggrep</command></term>
        <listitem>
          <para>Extracts all messages of a translation catalog that match a
          given pattern or belong to some given source files</para>
          <indexterm zone="ch-system-gettext msggrep" significance="normal">
            <primary sortas="b-msggrep">msggrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msginit">
        <term><command moreinfo="none">msginit</command></term>
        <listitem>
          <para>Creates a new <filename class="extension" moreinfo="none">.po</filename> file,
          initializing the meta information with values from the user's
          environment</para>
          <indexterm zone="ch-system-gettext msginit" significance="normal">
            <primary sortas="b-msginit">msginit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgmerge">
        <term><command moreinfo="none">msgmerge</command></term>
        <listitem>
          <para>Combines two raw translations into a single file</para>
          <indexterm zone="ch-system-gettext msgmerge" significance="normal">
            <primary sortas="b-msgmerge">msgmerge</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msgunfmt">
        <term><command moreinfo="none">msgunfmt</command></term>
        <listitem>
          <para>Decompiles a binary message catalog into raw translation
          text</para>
          <indexterm zone="ch-system-gettext msgunfmt" significance="normal">
            <primary sortas="b-msgunfmt">msgunfmt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="msguniq">
        <term><command moreinfo="none">msguniq</command></term>
        <listitem>
          <para>Unifies duplicate translations in a translation catalog</para>
          <indexterm zone="ch-system-gettext msguniq" significance="normal">
            <primary sortas="b-msguniq">msguniq</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ngettext">
        <term><command moreinfo="none">ngettext</command></term>
        <listitem>
          <para>Displays native language translations of a textual message whose
          grammatical form depends on a number</para>
          <indexterm zone="ch-system-gettext ngettext" significance="normal">
            <primary sortas="b-ngettext">ngettext</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="recode-sr-latin">
        <term><command moreinfo="none">recode-sr-latin</command></term>
        <listitem>
          <para>Recode Serbian text from Cyrillic to Latin script.</para>
          <indexterm zone="ch-system-gettext recode-sr-latin" significance="normal">
            <primary sortas="b-recode-sr-latin">recode-sr-latin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xgettext">
        <term><command moreinfo="none">xgettext</command></term>
        <listitem>
          <para>Extracts the translatable message lines from the given source
          files to make the first translation template</para>
          <indexterm zone="ch-system-gettext xgettext" significance="normal">
            <primary sortas="b-xgettext">xgettext</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libasprintf">
        <term><filename class="libraryfile" moreinfo="none">libasprintf</filename></term>
        <listitem>
          <para>defines the <emphasis>autosprintf</emphasis> class, which makes
          C formatted output routines usable in C++ programs, for use with the
          <emphasis>&lt;string&gt;</emphasis> strings and the
          <emphasis>&lt;iostream&gt;</emphasis> streams</para>
          <indexterm zone="ch-system-gettext libasprintf" significance="normal">
            <primary sortas="c-libasprintf">libasprintf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgettextlib">
        <term><filename class="libraryfile" moreinfo="none">libgettextlib</filename></term>
        <listitem>
          <para>a private library containing common routines used by the
          various Gettext programs; these are not intended for general use</para>
          <indexterm zone="ch-system-gettext libgettextlib" significance="normal">
            <primary sortas="c-libgettextlib">libgettextlib</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgettextpo">
        <term><filename class="libraryfile" moreinfo="none">libgettextpo</filename></term>
        <listitem>
          <para>Used to write specialized programs that process
          <filename class="extension" moreinfo="none">.po</filename> files; this library is
          used when the standard applications shipped with Gettext (such as
          <command moreinfo="none">msgcomm</command>, <command moreinfo="none">msgcmp</command>,
          <command moreinfo="none">msgattrib</command>, and <command moreinfo="none">msgen</command>) will
          not suffice</para>
          <indexterm zone="ch-system-gettext libgettextpo" significance="normal">
            <primary sortas="c-libgettextpo">libgettextpo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgettextsrc">
        <term><filename class="libraryfile" moreinfo="none">libgettextsrc</filename></term>
        <listitem>
          <para>A private library containing common routines used by the
          various Gettext programs; these are not intended for general use</para>
          <indexterm zone="ch-system-gettext libgettextsrc" significance="normal">
            <primary sortas="c-libgettextsrc">libgettextsrc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="preloadable_libintl.so">
        <term><filename class="libraryfile" moreinfo="none">preloadable_libintl.so</filename></term>
        <listitem>
          <para>A library, intended to be used by LD_PRELOAD, that assists
          <filename class="libraryfile" moreinfo="none">libintl</filename> in logging
          untranslated messages.</para>
          <indexterm zone="ch-system-gettext preloadable_libintl.so" significance="normal">
            <primary sortas="c-preloadable_libintl.so">preloadable_libintl.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-gperf" role="wrap" xml:base="common/gperf.xml">
  <?dbhtml filename="gperf.html"?>

  <title>Gperf-3.0.4</title>

  <indexterm zone="ch-system-gperf" significance="normal">
    <primary sortas="a-Gperf">Gperf</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Gperf generates a perfect hash function from a key set.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Gperf</title>

    <para os="a">Prepare Gperf for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --docdir=/usr/share/doc/gperf-3.0.4</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-gperf" role="content">
    <title>Contents of Gperf</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>gperf</seg>
        <seg>/usr/share/doc/gperf-3.0.4</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gperf">
        <term><command moreinfo="none">gperf</command></term>
        <listitem>
          <para>Generates a perfect hash function from a key set</para>
          <indexterm zone="ch-system-gperf gperf" significance="normal">
            <primary sortas="b-gperf">gperf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-grep" role="wrap" xml:base="common/grep.xml">
  <?dbhtml filename="grep.html"?>

  <title>Grep-3.0</title>

  <indexterm zone="ch-system-grep" significance="normal">
    <primary sortas="a-Grep">Grep</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Grep package contains programs for searching through
    files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Grep</title>

    <para os="a">Prepare Grep for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --bindir=/bin</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-grep" role="content">
    <title>Contents of Grep</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>egrep, fgrep, grep</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="egrep">
        <term><command moreinfo="none">egrep</command></term>
        <listitem>
          <para>Prints lines matching an extended regular expression</para>
          <indexterm zone="ch-system-grep egrep" significance="normal">
            <primary sortas="b-egrep">egrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fgrep">
        <term><command moreinfo="none">fgrep</command></term>
        <listitem>
          <para>Prints lines matching a list of fixed strings</para>
          <indexterm zone="ch-system-grep fgrep" significance="normal">
            <primary sortas="b-fgrep">fgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grep">
        <term><command moreinfo="none">grep</command></term>
        <listitem>
          <para>Prints lines matching a basic regular expression</para>
          <indexterm zone="ch-system-grep grep" significance="normal">
            <primary sortas="b-grep">grep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-groff" role="wrap" xml:base="common/groff.xml">
  <?dbhtml filename="groff.html"?>

  <title>Groff-1.22.3</title>

  <indexterm zone="ch-system-groff" significance="normal">
    <primary sortas="a-Groff">Groff</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Groff package contains programs for processing and formatting
    text.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Groff</title>

    <para os="a">Groff expects the environment variable <envar>PAGE</envar>
    to contain the default paper size. For users in the United States,
    <parameter moreinfo="none">PAGE=letter</parameter> is appropriate. Elsewhere,
    <parameter moreinfo="none">PAGE=A4</parameter> may be more suitable.</para>

    <para os="b">Prepare Groff for compilation:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">PAGE=<replaceable>[paper_size]</replaceable> ./configure \
    --prefix=/usr</userinput></screen>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">This package does not come with a test suite.</para>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-groff" role="content">
    <title>Contents of Groff</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>addftinfo, afmtodit, chem, eqn, eqn2graph, gdiffmk, grap2graph,
        grn, grodvi, groff, groffer, grog, grolbp, grolj4, grops, grotty,
        hpftodit, indxbib, lkbib, lookbib, mmroff, neqn, nroff, pdfroff,
        pfbtops, pic, pic2graph, post-grohtml, pre-grohtml, preconv, refer,
        roff2dvi, roff2html, roff2pdf, roff2ps, roff2text, roff2x, soelim,
        tbl, tfmtodit, troff</seg>
        <seg>/usr/lib/groff, /usr/share/doc/groff-1.22.3, /usr/share/groff</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="addftinfo">
        <term><command moreinfo="none">addftinfo</command></term>
        <listitem>
          <para>Reads a troff font file and adds some additional font-metric
          information that is used by the <command moreinfo="none">groff</command> system</para>
          <indexterm zone="ch-system-groff addftinfo" significance="normal">
            <primary sortas="b-addftinfo">addftinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="afmtodit">
        <term><command moreinfo="none">afmtodit</command></term>
        <listitem>
          <para>Creates a font file for use with <command moreinfo="none">groff</command> and
          <command moreinfo="none">grops</command></para>
          <indexterm zone="ch-system-groff afmtodit" significance="normal">
            <primary sortas="b-afmtodit">afmtodit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chem">
        <term><command moreinfo="none">chem</command></term>
        <listitem>
          <para>Groff preprocessor for producing chemical structure diagrams</para>
          <indexterm zone="ch-system-groff chem" significance="normal">
            <primary sortas="b-chem">chem</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="eqn">
        <term><command moreinfo="none">eqn</command></term>
        <listitem>
          <para>Compiles descriptions of equations embedded within troff
          input files into commands that are understood by
          <command moreinfo="none">troff</command></para>
          <indexterm zone="ch-system-groff eqn" significance="normal">
            <primary sortas="b-eqn">eqn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="eqn2graph">
        <term><command moreinfo="none">eqn2graph</command></term>
        <listitem>
          <para>Converts a troff EQN (equation) into a cropped image</para>
          <indexterm zone="ch-system-groff eqn2graph" significance="normal">
            <primary sortas="b-eqn2graph">eqn2graph</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gdiffmk">
        <term><command moreinfo="none">gdiffmk</command></term>
        <listitem>
          <para>Marks differences between groff/nroff/troff files</para>
          <indexterm zone="ch-system-groff gdiffmk" significance="normal">
            <primary sortas="b-gdiffmk">gdiffmk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grap2graph">
        <term><command moreinfo="none">grap2graph</command></term>
        <listitem>
          <para>Converts a grap diagram into a cropped bitmap image</para>
          <indexterm zone="ch-system-groff grap2graph" significance="normal">
            <primary sortas="b-grap2graph">grap2graph</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grn">
        <term><command moreinfo="none">grn</command></term>
        <listitem>
          <para>A <command moreinfo="none">groff</command> preprocessor for gremlin files</para>
          <indexterm zone="ch-system-groff grn" significance="normal">
            <primary sortas="b-grn">grn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grodvi">
        <term><command moreinfo="none">grodvi</command></term>
        <listitem>
          <para>A driver for <command moreinfo="none">groff</command> that produces TeX dvi
          format</para>
          <indexterm zone="ch-system-groff grodvi" significance="normal">
            <primary sortas="b-grodvi">grodvi</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="groff">
        <term><command moreinfo="none">groff</command></term>
        <listitem>
          <para>A front-end to the groff document formatting system; normally, it
          runs the <command moreinfo="none">troff</command> program and a post-processor
          appropriate for the selected device</para>
          <indexterm zone="ch-system-groff groff" significance="normal">
            <primary sortas="b-groff">groff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="groffer">
        <term><command moreinfo="none">groffer</command></term>
        <listitem>
          <para>Displays groff files and man pages on X and tty terminals</para>
          <indexterm zone="ch-system-groff groffer" significance="normal">
            <primary sortas="b-groffer">groffer</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grog">
        <term><command moreinfo="none">grog</command></term>
        <listitem>
          <para>Reads files and guesses which of the <command moreinfo="none">groff</command>
          options <option>-e</option>, <option>-man</option>, <option>-me</option>,
          <option>-mm</option>, <option>-ms</option>, <option>-p</option>,
          <option>-s</option>, and <option>-t</option> are required for printing
          files, and reports the <command moreinfo="none">groff</command> command including those
          options</para>
          <indexterm zone="ch-system-groff grog" significance="normal">
            <primary sortas="b-grog">grog</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grolbp">
        <term><command moreinfo="none">grolbp</command></term>
        <listitem>
          <para>Is a <command moreinfo="none">groff</command> driver for Canon CAPSL printers
          (LBP-4 and LBP-8 series laser printers)</para>
          <indexterm zone="ch-system-groff grolbp" significance="normal">
            <primary sortas="b-grolbp">grolbp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grolj4">
        <term><command moreinfo="none">grolj4</command></term>
        <listitem>
          <para>Is a driver for <command moreinfo="none">groff</command> that produces output
          in PCL5 format suitable for an HP LaserJet 4 printer</para>
          <indexterm zone="ch-system-groff grolj4" significance="normal">
            <primary sortas="b-grolj4">grolj4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grops">
        <term><command moreinfo="none">grops</command></term>
        <listitem>
          <para>Translates the output of GNU <command moreinfo="none">troff</command> to
          PostScript</para>
          <indexterm zone="ch-system-groff grops" significance="normal">
            <primary sortas="b-grops">grops</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grotty">
        <term><command moreinfo="none">grotty</command></term>
        <listitem>
          <para>Translates the output of GNU <command moreinfo="none">troff</command> into
          a form suitable for typewriter-like devices</para>
          <indexterm zone="ch-system-groff grotty" significance="normal">
            <primary sortas="b-grotty">grotty</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hpftodit">
        <term><command moreinfo="none">hpftodit</command></term>
        <listitem>
          <para>Creates a font file for use with <command moreinfo="none">groff -Tlj4</command>
          from an HP-tagged font metric file</para>
          <indexterm zone="ch-system-groff hpftodit" significance="normal">
            <primary sortas="b-hpftodit">hpftodit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="indxbib">
        <term><command moreinfo="none">indxbib</command></term>
        <listitem>
          <para>Creates an inverted index for the bibliographic databases with a
          specified file for use with <command moreinfo="none">refer</command>,
          <command moreinfo="none">lookbib</command>, and <command moreinfo="none">lkbib</command></para>
          <indexterm zone="ch-system-groff indxbib" significance="normal">
            <primary sortas="b-indxbib">indxbib</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lkbib">
        <term><command moreinfo="none">lkbib</command></term>
        <listitem>
          <para>Searches bibliographic databases for references that contain
          specified keys and reports any references found</para>
          <indexterm zone="ch-system-groff lkbib" significance="normal">
            <primary sortas="b-lkbib">lkbib</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lookbib">
        <term><command moreinfo="none">lookbib</command></term>
        <listitem>
          <para>Prints a prompt on the standard error (unless the standard input
          is not a terminal), reads a line containing a set of keywords from the
          standard input, searches the bibliographic databases in a specified file
          for references containing those keywords, prints any references found
          on the standard output, and repeats this process until the end of
          input</para>
          <indexterm zone="ch-system-groff lookbib" significance="normal">
            <primary sortas="b-lookbib">lookbib</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mmroff">
        <term><command moreinfo="none">mmroff</command></term>
        <listitem>
          <para>A simple preprocessor for <command moreinfo="none">groff</command></para>
          <indexterm zone="ch-system-groff mmroff" significance="normal">
            <primary sortas="b-mmroff">mmroff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="neqn">
        <term><command moreinfo="none">neqn</command></term>
        <listitem>
          <para>Formats equations for American Standard Code for Information
          Interchange (ASCII) output</para>
          <indexterm zone="ch-system-groff neqn" significance="normal">
            <primary sortas="b-neqn">neqn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nroff">
        <term><command moreinfo="none">nroff</command></term>
        <listitem>
          <para>A script that emulates the <command moreinfo="none">nroff</command> command
          using <command moreinfo="none">groff</command></para>
          <indexterm zone="ch-system-groff nroff" significance="normal">
            <primary sortas="b-nroff">nroff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pdfroff">
        <term><command moreinfo="none">pdfroff</command></term>
        <listitem>
          <para>Creates pdf documents using groff</para>
          <indexterm zone="ch-system-groff pdfroff" significance="normal">
            <primary sortas="b-pdfroff">pdfroff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pfbtops">
        <term><command moreinfo="none">pfbtops</command></term>
        <listitem>
          <para>Translates a PostScript font in <filename class="extension" moreinfo="none">.pfb</filename> format to ASCII</para>
          <indexterm zone="ch-system-groff pfbtops" significance="normal">
            <primary sortas="b-pfbtops">pfbtops</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pic">
        <term><command moreinfo="none">pic</command></term>
        <listitem>
          <para>Compiles descriptions of pictures embedded within troff or
          TeX input files into commands understood by TeX or
          <command moreinfo="none">troff</command></para>
          <indexterm zone="ch-system-groff pic" significance="normal">
            <primary sortas="b-pic">pic</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pic2graph">
        <term><command moreinfo="none">pic2graph</command></term>
        <listitem>
          <para>Converts a PIC diagram into a cropped image</para>
          <indexterm zone="ch-system-groff pic2graph" significance="normal">
            <primary sortas="b-pic2graph">pic2graph</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="post-grohtml">
        <term><command moreinfo="none">post-grohtml</command></term>
        <listitem>
          <para>Translates the output of GNU <command moreinfo="none">troff</command> to
          HTML</para>
          <indexterm zone="ch-system-groff post-grohtml" significance="normal">
            <primary sortas="b-post-grohtml">post-grohtml</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pre-grohtml">
        <term><command moreinfo="none">pre-grohtml</command></term>
        <listitem>
          <para>Translates the output of GNU <command moreinfo="none">troff</command> to
          HTML</para>
          <indexterm zone="ch-system-groff pre-grohtml" significance="normal">
            <primary sortas="b-pre-grohtml">pre-grohtml</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="preconv">
        <term><command moreinfo="none">preconv</command></term>
        <listitem>
          <para>Converts encoding of input files to something GNU
          <command moreinfo="none">troff</command> understands</para>
          <indexterm zone="ch-system-groff preconv" significance="normal">
            <primary sortas="b-preconv">preconv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="refer">
        <term><command moreinfo="none">refer</command></term>
        <listitem>
          <para>Copies the contents of a file to the standard output, except
          that lines between <emphasis>.[</emphasis> and <emphasis>.]</emphasis>
          are interpreted as citations, and lines between <emphasis>.R1</emphasis>
          and <emphasis>.R2</emphasis> are interpreted as commands for how
          citations are to be processed</para>
          <indexterm zone="ch-system-groff refer" significance="normal">
            <primary sortas="b-refer">refer</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="roff2dvi">
        <term><command moreinfo="none">roff2dvi</command></term>
        <listitem>
          <para>Transforms roff files into other formats</para>
          <indexterm zone="ch-system-groff roff2dvi" significance="normal">
            <primary sortas="b-roff2dvi">roff2dvi</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="roff2html">
        <term><command moreinfo="none">roff2html</command></term>
        <listitem>
          <para>Transforms roff files into other formats</para>
          <indexterm zone="ch-system-groff roff2html" significance="normal">
            <primary sortas="b-roff2html">roff2html</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="roff2pdf">
        <term><command moreinfo="none">roff2pdf</command></term>
        <listitem>
          <para>Transforms roff files into other formats</para>
          <indexterm zone="ch-system-groff roff2pdf" significance="normal">
            <primary sortas="b-roff2pdf">roff2pdf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="roff2ps">
        <term><command moreinfo="none">roff2ps</command></term>
        <listitem>
          <para>Transforms roff files into other formats</para>
          <indexterm zone="ch-system-groff roff2ps" significance="normal">
            <primary sortas="b-roff2ps">roff2ps</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="roff2text">
        <term><command moreinfo="none">roff2text</command></term>
        <listitem>
          <para>Transforms roff files into other formats</para>
          <indexterm zone="ch-system-groff roff2text" significance="normal">
            <primary sortas="b-roff2text">roff2text</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="roff2x">
        <term><command moreinfo="none">roff2x</command></term>
        <listitem>
          <para>Transforms roff files into other formats</para>
          <indexterm zone="ch-system-groff roff2x" significance="normal">
            <primary sortas="b-roff2x">roff2x</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="soelim">
        <term><command moreinfo="none">soelim</command></term>
        <listitem>
          <para>Reads files and replaces lines of the form <emphasis>.so
          file</emphasis> by the contents of the mentioned
          <emphasis>file</emphasis></para>
          <indexterm zone="ch-system-groff soelim" significance="normal">
            <primary sortas="b-soelim">soelim</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tbl">
        <term><command moreinfo="none">tbl</command></term>
        <listitem>
          <para>Compiles descriptions of tables embedded within troff input
          files into commands that are understood by
          <command moreinfo="none">troff</command></para>
          <indexterm zone="ch-system-groff tbl" significance="normal">
            <primary sortas="b-tbl">tbl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tfmtodit">
        <term><command moreinfo="none">tfmtodit</command></term>
        <listitem>
          <para>Creates a font file for use with <command moreinfo="none">groff
          -Tdvi</command></para>
          <indexterm zone="ch-system-groff tfmtodit" significance="normal">
            <primary sortas="b-tfmtodit">tfmtodit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="troff">
        <term><command moreinfo="none">troff</command></term>
        <listitem>
          <para>Is highly compatible with Unix <command moreinfo="none">troff</command>; it
          should usually be invoked using the <command moreinfo="none">groff</command> command,
          which will also run preprocessors and post-processors in the
          appropriate order and with the appropriate options</para>
          <indexterm zone="ch-system-groff troff" significance="normal">
            <primary sortas="b-troff">troff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-less" role="wrap" xml:base="common/less.xml">
  <?dbhtml filename="less.html"?>

  <title>Less-491</title>

  <indexterm zone="ch-system-less" significance="normal">
    <primary sortas="a-Less">Less</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Less package contains a text file viewer.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Less</title>

    <para os="a">Prepare Less for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --sysconfdir=/etc</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">This package does not come with a test suite.</para>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Move <command moreinfo="none">less</command> to
    <filename class="directory" moreinfo="none">/bin</filename>:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /usr/bin/less /bin</userinput></screen>

  </sect2>

  <sect2 id="contents-less" role="content">
    <title>Contents of Less</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>less, lessecho, lesskey</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="less">
        <term><command moreinfo="none">less</command></term>
        <listitem>
          <para>A file viewer or pager; it displays the contents of the given
          file, letting the user scroll, find strings, and jump to marks</para>
          <indexterm zone="ch-system-less less" significance="normal">
            <primary sortas="b-less">less</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lessecho">
        <term><command moreinfo="none">lessecho</command></term>
        <listitem>
          <para>Needed to expand meta-characters, such as <emphasis>*</emphasis>
          and <emphasis>?</emphasis>, in filenames on Unix systems</para>
          <indexterm zone="ch-system-less lessecho" significance="normal">
            <primary sortas="b-lessecho">lessecho</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lesskey">
        <term><command moreinfo="none">lesskey</command></term>
        <listitem>
          <para>Used to specify the key bindings for
          <command moreinfo="none">less</command></para>
          <indexterm zone="ch-system-less lesskey" significance="normal">
            <primary sortas="b-lesskey">lesskey</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-gzip" role="wrap" xml:base="common/gzip.xml">
  <?dbhtml filename="gzip.html"?>

  <title>Gzip-1.8</title>

  <indexterm zone="ch-system-gzip" significance="normal">
    <primary sortas="a-Gzip">Gzip</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Gzip package contains programs for compressing and decompressing
    files.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Gzip</title>

    <para os="a">Prepare Gzip for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --bindir=/bin</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Now we will move some of the utilities to
    <filename class="directory" moreinfo="none">/usr/bin</filename> to meet FHS compliance:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /bin/{gzexe,uncompress} /usr/bin
mv -v /bin/z{egrep,cmp,diff,fgrep,force,grep,less,more,new} /usr/bin
	</userinput></screen>

  </sect2>

  <sect2 id="contents-gzip" role="content">
    <title>Contents of Gzip</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>gunzip, gzexe, gzip, uncompress, zcat, zcmp, zdiff,
        zegrep, zfgrep, zforce, zgrep, zless, zmore, znew</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gunzip">
        <term><command moreinfo="none">gunzip</command></term>
        <listitem>
          <para>Decompresses gzipped files</para>
          <indexterm zone="ch-system-gzip gunzip" significance="normal">
            <primary sortas="b-gunzip">gunzip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gzexe">
        <term><command moreinfo="none">gzexe</command></term>
        <listitem>
          <para>Creates self-decompressing executable files</para>
          <indexterm zone="ch-system-gzip gzexe" significance="normal">
            <primary sortas="b-gzexe">gzexe</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gzip">
        <term><command moreinfo="none">gzip</command></term>
        <listitem>
          <para>Compresses the given files using Lempel-Ziv (LZ77) coding</para>
          <indexterm zone="ch-system-gzip gzip" significance="normal">
            <primary sortas="b-gzip">gzip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uncompress">
        <term><command moreinfo="none">uncompress</command></term>
        <listitem>
          <para>Decompresses compressed files</para>
          <indexterm zone="ch-system-gzip uncompress" significance="normal">
            <primary sortas="b-uncompress">uncompress</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zcat">
        <term><command moreinfo="none">zcat</command></term>
        <listitem>
          <para>Decompresses the given gzipped files to standard output</para>
          <indexterm zone="ch-system-gzip zcat" significance="normal">
            <primary sortas="b-zcat">zcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zcmp">
        <term><command moreinfo="none">zcmp</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">cmp</command> on gzipped files</para>
          <indexterm zone="ch-system-gzip zcmp" significance="normal">
            <primary sortas="b-zcmp">zcmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zdiff">
        <term><command moreinfo="none">zdiff</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">diff</command> on gzipped files</para>
          <indexterm zone="ch-system-gzip zdiff" significance="normal">
            <primary sortas="b-zdiff">zdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zegrep">
        <term><command moreinfo="none">zegrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">egrep</command> on gzipped files</para>
          <indexterm zone="ch-system-gzip zegrep" significance="normal">
            <primary sortas="b-zegrep">zegrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zfgrep">
        <term><command moreinfo="none">zfgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">fgrep</command> on gzipped files</para>
          <indexterm zone="ch-system-gzip zfgrep" significance="normal">
            <primary sortas="b-zfgrep">zfgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zforce">
        <term><command moreinfo="none">zforce</command></term>
        <listitem>
          <para>Forces a <filename class="extension" moreinfo="none">.gz</filename> extension on
          all given files that are gzipped files, so that <command moreinfo="none">gzip</command>
          will not compress them again; this can be useful when file names were
          truncated during a file transfer</para>
          <indexterm zone="ch-system-gzip zforce" significance="normal">
            <primary sortas="b-zforce">zforce</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zgrep">
        <term><command moreinfo="none">zgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">grep</command> on gzipped files</para>
          <indexterm zone="ch-system-gzip zgrep" significance="normal">
            <primary sortas="b-zgrep">zgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zless">
        <term><command moreinfo="none">zless</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">less</command> on gzipped files</para>
          <indexterm zone="ch-system-gzip zless" significance="normal">
            <primary sortas="b-zless">zless</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zmore">
        <term><command moreinfo="none">zmore</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">more</command> on gzipped files</para>
          <indexterm zone="ch-system-gzip zmore" significance="normal">
            <primary sortas="b-zmore">zmore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="znew">
        <term><command moreinfo="none">znew</command></term>
        <listitem>
          <para>Re-compresses files from <command moreinfo="none">compress</command> format to
          <command moreinfo="none">gzip</command> format—<filename class="extension" moreinfo="none">.Z</filename> to <filename class="extension" moreinfo="none">.gz</filename></para>
          <indexterm zone="ch-system-gzip znew" significance="normal">
            <primary sortas="b-znew">znew</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-iputils" role="wrap" xml:base="common/iputils.xml">
  <?dbhtml filename="iputils.html"?>

  <title>IPutils-s20150815</title>

  <indexterm zone="ch-system-iputils" significance="normal">
    <primary sortas="a-IPutils">IPutils</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The IPutils package contains programs for basic networking.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of IPutils</title>

    <para os="p1">Apply the following patch for man-pages and build edits:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../iputils-s20150815-build-1.patch</userinput></screen>

    <para os="a">Compile the package:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">make TARGETS="clockdiff ping rdisc tracepath tracepath6 traceroute6"</userinput></screen>

    <para os="c">This package does not come with a test suite.</para>

    <para os="d">Install the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">install -v -m755 ping /bin
install -v -m755 clockdiff /usr/bin
install -v -m755 rdisc /usr/bin
install -v -m755 tracepath /usr/bin
install -v -m755 trace{path,route}6 /usr/bin
install -v -m644 doc/*.8 /usr/share/man/man8
ln -sv ping /bin/ping4
ln -sv ping /bin/ping6</userinput></screen>

  </sect2>

  <sect2 id="contents-iputils" role="content">
    <title>Contents of iputils</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>clockdiff, ping, rdisc, tracepath, tracepath6, traceroute6, ping4 (link to ping), ping6 (link to ping)</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
<!--
      <varlistentry id="arping">
        <term><command>arping</command></term>
        <listitem>
          <para>Sends an ARP request to a neighbor host</para>
          <indexterm zone="ch-system-iputils arping">
            <primary sortas="b-arping">arping</primary>
          </indexterm>
        </listitem>
      </varlistentry>
-->
      <varlistentry id="clockdiff">
        <term><command moreinfo="none">clockdiff</command></term>
        <listitem>
          <para>Measures the clock difference between hosts</para>
          <indexterm zone="ch-system-iputils clockdiff" significance="normal">
            <primary sortas="b-clockdiff">clockdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ping">
        <term><command moreinfo="none">ping</command></term>
        <listitem>
          <para>Sends echo-request packets and reports how long the replies
          take.</para>
          <indexterm zone="ch-system-iputils ping" significance="normal">
            <primary sortas="b-ping">ping</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ping4">
        <term><command moreinfo="none">ping</command></term>
        <listitem>
          <para>Executes ping for IPV4 support</para>
          <indexterm zone="ch-system-iputils ping4" significance="normal">
            <primary sortas="b-ping4">ping</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ping6">
        <term><command moreinfo="none">ping6</command></term>
        <listitem>
          <para>Executes ping for  IPV6 support</para>
          <indexterm zone="ch-system-iputils ping6" significance="normal">
            <primary sortas="b-ping6">ping6</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rdisc">
        <term><command moreinfo="none">rdisc</command></term>
        <listitem>
          <para>Network router discovery daemon</para>
          <indexterm zone="ch-system-iputils rdisc" significance="normal">
            <primary sortas="b-rdisc">rdisc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tracepath">
        <term><command moreinfo="none">tracepath</command></term>
        <listitem>
          <para>Traces the path to a network host discovering MTU along the
          path. This is the IPV4 version.</para>
          <indexterm zone="ch-system-iputils tracepath" significance="normal">
            <primary sortas="b-tracepath">tracepath</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tracepath6">
        <term><command moreinfo="none">tracepath6</command></term>
        <listitem>
          <para>Traces the path to a network host discovering MTU along the
          path. This is the IPV6 version.</para>
          <indexterm zone="ch-system-iputils tracepath6" significance="normal">
            <primary sortas="b-tracepath6">tracepath6</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="traceroute6">
        <term><command moreinfo="none">traceroute6</command></term>
        <listitem>
          <para>Traces the path to a network host on an IPV6 network</para>
          <indexterm zone="ch-system-iputils traceroute6" significance="normal">
            <primary sortas="b-traceroute6">traceroute6</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-kbd" role="wrap" xml:base="common/kbd.xml">
  <?dbhtml filename="kbd.html"?>

  <title>Kbd-2.0.4</title>

  <indexterm zone="ch-system-kbd" significance="normal">
    <primary sortas="a-Kbd">Kbd</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Kbd package contains key-table files and keyboard
    utilities.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Kbd</title>

    <para os="a">Prepare Kbd for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">PKG_CONFIG_PATH="/tools/lib/pkgconfig" \
./configure \
    --prefix=/usr \
    --disable-vlock \
    --enable-optional-progs</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the new configure options:</title>

      <varlistentry>
        <term><envar>PKG_CONFIG_PATH</envar></term>
        <listitem>
          <para>Use pkg-config to obtain the location of the test library
          metadata built in <xref linkend="ch-temp-system-check"/>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><envar>--disable-vlock</envar></term>
        <listitem>
          <para>Prevents Kbd from trying to build the
          <command moreinfo="none">vlock</command> program, which requires Linux-PAM.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><envar>--enable-optional-progs</envar></term>
        <listitem>
          <para>Installs several additional programs.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">To test the results, issue:</para>

<screen os="g" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="h">Install the package:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="j">Some of the programs from Kbd are used by systemd to
    initialize the system, so those binaries need to be on the root
    partition:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">mv -v /usr/bin/{loadkeys,setfont} /bin</userinput></screen>

    <para os="l">Install the documentation:</para>

<screen os="m" format="linespecific"><userinput moreinfo="none">mkdir -v /usr/share/doc/kbd-2.0.4
cp -R -v docs/doc/* /usr/share/doc/kbd-2.0.4</userinput></screen>

  </sect2>

  <sect2 id="contents-kbd" role="content">
    <title>Contents of Kbd</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>chvt, deallocvt, dumpkeys, fgconsole, getkeycodes, kbdinfo,
        kbd_mode, kbdrate, loadkeys, loadunimap, mapscrn, openvt, psfaddtable
        (link to psfxtable), psfgettable (link to psfxtable), psfstriptable
        (link to psfxtable), psfxtable, resizecons, setfont, setkeycodes,
        setleds, setmetamode, setvtrgb, showconsolefont, showkey,
        unicode_start, unicode_stop</seg>
        <seg>/usr/share/consolefonts, /usr/share/consoletrans,
        /usr/share/doc/kbd-2.0.4,
        /usr/share/keymaps, /usr/share/unimaps</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="chvt">
        <term><command moreinfo="none">chvt</command></term>
        <listitem>
          <para>Changes the foreground virtual terminal</para>
          <indexterm zone="ch-system-kbd chvt" significance="normal">
            <primary sortas="b-chvt">chvt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="deallocvt">
        <term><command moreinfo="none">deallocvt</command></term>
        <listitem>
          <para>Deallocates unused virtual terminals</para>
          <indexterm zone="ch-system-kbd deallocvt" significance="normal">
            <primary sortas="b-deallocvt">deallocvt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dumpkeys">
        <term><command moreinfo="none">dumpkeys</command></term>
        <listitem>
          <para>Dumps the keyboard translation tables</para>
          <indexterm zone="ch-system-kbd dumpkeys" significance="normal">
            <primary sortas="b-dumpkeys">dumpkeys</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fgconsole">
        <term><command moreinfo="none">fgconsole</command></term>
        <listitem>
          <para>Prints the number of the active virtual terminal</para>
          <indexterm zone="ch-system-kbd fgconsole" significance="normal">
            <primary sortas="b-fgconsole">fgconsole</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getkeycodes">
        <term><command moreinfo="none">getkeycodes</command></term>
        <listitem>
          <para>Prints the kernel scancode-to-keycode mapping table</para>
          <indexterm zone="ch-system-kbd getkeycodes" significance="normal">
            <primary sortas="b-getkeycodes">getkeycodes</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kbdinfo">
        <term><command moreinfo="none">kbdinfo</command></term>
        <listitem>
          <para>Obtains information about the console</para>
          <indexterm zone="ch-system-kbd kbdinfo" significance="normal">
            <primary sortas="b-kbdinfo">kbdinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kbd_mode">
        <term><command moreinfo="none">kbd_mode</command></term>
        <listitem>
          <para>Reports or sets the keyboard mode</para>
          <indexterm zone="ch-system-kbd kbd_mode" significance="normal">
            <primary sortas="b-kbd_mode">kbd_mode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kbdrate">
        <term><command moreinfo="none">kbdrate</command></term>
        <listitem>
          <para>Sets the keyboard repeat and delay rates</para>
          <indexterm zone="ch-system-kbd kbdrate" significance="normal">
            <primary sortas="b-kbdrate">kbdrate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="loadkeys">
        <term><command moreinfo="none">loadkeys</command></term>
        <listitem>
          <para>Loads the keyboard translation tables</para>
          <indexterm zone="ch-system-kbd loadkeys" significance="normal">
            <primary sortas="b-loadkeys">loadkeys</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="loadunimap">
        <term><command moreinfo="none">loadunimap</command></term>
        <listitem>
          <para>Loads the kernel unicode-to-font mapping table</para>
          <indexterm zone="ch-system-kbd loadunimap" significance="normal">
            <primary sortas="b-loadunimap">loadunimap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mapscrn">
        <term><command moreinfo="none">mapscrn</command></term>
        <listitem>
          <para>An obsolete program that used to load a user-defined output
          character mapping table into the console driver; this is now done
          by <command moreinfo="none">setfont</command></para>
          <indexterm zone="ch-system-kbd mapscrn" significance="normal">
            <primary sortas="b-mapscrn">mapscrn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="openvt">
        <term><command moreinfo="none">openvt</command></term>
        <listitem>
          <para>Starts a program on a new virtual terminal (VT)</para>
          <indexterm zone="ch-system-kbd openvt" significance="normal">
            <primary sortas="b-openvt">openvt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfaddtable">
        <term><command moreinfo="none">psfaddtable</command></term>
        <listitem>
          <para>Adds a Unicode character table to a console font</para>
          <indexterm zone="ch-system-kbd psfaddtable" significance="normal">
            <primary sortas="b-psfaddtable">psfaddtable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfgettable">
        <term><command moreinfo="none">psfgettable</command></term>
        <listitem>
          <para>Extracts the embedded Unicode character table from a console
          font</para>
          <indexterm zone="ch-system-kbd psfgettable" significance="normal">
            <primary sortas="b-psfgettable">psfgettable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfstriptable">
        <term><command moreinfo="none">psfstriptable</command></term>
        <listitem>
          <para>Removes the embedded Unicode character table from a console
          font</para>
          <indexterm zone="ch-system-kbd psfstriptable" significance="normal">
            <primary sortas="b-psfstriptable">psfstriptable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfxtable">
        <term><command moreinfo="none">psfxtable</command></term>
        <listitem>
          <para>Handle Unicode character tables for console fonts</para>
          <indexterm zone="ch-system-kbd psfxtable" significance="normal">
            <primary sortas="b-psfxtable">psfxtable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="resizecons">
        <term><command moreinfo="none">resizecons</command></term>
        <listitem>
          <para>Changes the kernel idea of the console size</para>
          <indexterm zone="ch-system-kbd resizecons" significance="normal">
            <primary sortas="b-resizecons">resizecons</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setfont">
        <term><command moreinfo="none">setfont</command></term>
        <listitem>
          <para>Changes the Enhanced Graphic Adapter (EGA) and Video Graphics
          Array (VGA) fonts on the console</para>
          <indexterm zone="ch-system-kbd setfont" significance="normal">
            <primary sortas="b-setfont">setfont</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setkeycodes">
        <term><command moreinfo="none">setkeycodes</command></term>
        <listitem>
          <para>Loads kernel scancode-to-keycode mapping table entries; this is
          useful if there are unusual keys on the keyboard</para>
          <indexterm zone="ch-system-kbd setkeycodes" significance="normal">
            <primary sortas="b-setkeycodes">setkeycodes</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setleds">
        <term><command moreinfo="none">setleds</command></term>
        <listitem>
          <para>Sets the keyboard flags and Light Emitting Diodes (LEDs)</para>
          <indexterm zone="ch-system-kbd setleds" significance="normal">
            <primary sortas="b-setleds">setleds</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setmetamode">
        <term><command moreinfo="none">setmetamode</command></term>
        <listitem>
          <para>Defines the keyboard meta-key handling</para>
          <indexterm zone="ch-system-kbd setmetamode" significance="normal">
            <primary sortas="b-setmetamode">setmetamode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setvtrgb">
        <term><command moreinfo="none">setvtrgb</command></term>
        <listitem>
          <para>Sets the virtal terminal RGB colors</para>
          <indexterm zone="ch-system-kbd setvtrgb" significance="normal">
            <primary sortas="b-setvtrgb">setvtrgb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="showconsolefont">
        <term><command moreinfo="none">showconsolefont</command></term>
        <listitem>
          <para>Shows the current EGA/VGA console screen font</para>
          <indexterm zone="ch-system-kbd showconsolefont" significance="normal">
            <primary sortas="b-showconsolefont">showconsolefont</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="showkey">
        <term><command moreinfo="none">showkey</command></term>
        <listitem>
          <para>Reports the scancodes, keycodes, and ASCII codes of the keys
          pressed on the keyboard</para>
          <indexterm zone="ch-system-kbd showkey" significance="normal">
            <primary sortas="b-showkey">showkey</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unicode_start">
        <term><command moreinfo="none">unicode_start</command></term>
        <listitem>
          <para>Puts the keyboard and console in UNICODE mode. Never use it on
          CLFS, because applications are not configured to support UNICODE.</para>
          <indexterm zone="ch-system-kbd unicode_start" significance="normal">
            <primary sortas="b-unicode_start">unicode_start</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unicode_stop">
        <term><command moreinfo="none">unicode_stop</command></term>
        <listitem>
          <para>Reverts keyboard and console from UNICODE mode</para>
          <indexterm zone="ch-system-kbd unicode_stop" significance="normal">
            <primary sortas="b-unicode_stop">unicode_stop</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-libpipeline" role="wrap" xml:base="common/libpipeline.xml">
  <?dbhtml filename="libpipeline.html"?>

  <title>Libpipeline-1.4.1</title>

  <indexterm zone="ch-system-libpipeline" significance="normal">
    <primary sortas="a-Libpipeline">Libpipeline</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Libpipeline package contains a library for manipulating pipelines
    of subprocesses in a flexible and convenient way.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Libpipeline</title>

    <para os="a">Prepare Libpipeline for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">PKG_CONFIG_PATH=/tools/lib/pkgconfig \
./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="f" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-libpipeline" role="content">
    <title>Contents of Libpipeline</title>

    <segmentedlist>
      <segtitle>Installed libraries</segtitle>

      <seglistitem>
        <seg>libpipeline.so</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libpipeline">
        <term><filename class="libraryfile" moreinfo="none">libpipeline</filename></term>
        <listitem>
          <para>This library is used to safely construct pipeline between
          subprocesses</para>
          <indexterm zone="ch-system-libpipeline libpipeline" significance="normal">
            <primary sortas="c-libpipeline">libpipeline</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-man-db" role="wrap" xml:base="common/man-db.xml">
  <?dbhtml filename="man-db.html"?>

  <title>Man-DB-2.7.6.1</title>

  <indexterm zone="ch-system-man-db" significance="normal">
    <primary sortas="a-Man-DB">Man-DB</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Man-DB package contains programs for finding and viewing man
    pages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Man-DB</title>

    <para os="a">Prepare Man-DB for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --libexecdir=/usr/lib \
    --docdir=/usr/share/doc/man-db-2.7.6.1 \
    --sysconfdir=/etc \
    --disable-setuid \
    --enable-cache-owner=bin \
    --with-browser=/usr/bin/lynx \
    --with-vgrind=/usr/bin/vgrind \
    --with-grap=/usr/bin/grap</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-setuid</parameter></term>
        <listitem>
          <para>This disables making the <command moreinfo="none">man</command> program setuid
          to user <systemitem class="username" moreinfo="none">man</systemitem>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-...</parameter></term>
        <listitem>
          <para>These three parameters are used to set some default programs.
          <command moreinfo="none">lynx</command> is a text-based web browser (see
          CBLFS for installation instructions), <command moreinfo="none">vgrind</command>
          converts program sources to Groff input, and <command moreinfo="none">grap</command>
          is useful for typesetting graphs in Groff documents. The
          <command moreinfo="none">vgrind</command> and <command moreinfo="none">grap</command> programs are
          not normally needed for viewing manual pages. They are not part of
          CLFS or CBLFS, but you should be able to install them yourself after
          finishing CLFS if you wish to do so.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">To test the results, issue:</para>

<screen os="g" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="h">Install the package:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="j">Edit the installed tmpfile as we have no <systemitem class="username" moreinfo="none">man</systemitem> user:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">sed -i "s:man man:root root:g" /usr/lib/tmpfiles.d/man-db.conf</userinput></screen>
  </sect2>

  <sect2 id="encoding-man-db" role="encoding">
    <title>Non-English Manual Pages in CLFS</title>

    <para>The following table shows the character set that Man-DB assumes
    manual pages installed under
    <filename class="directory" moreinfo="none">/usr/share/man/&lt;ll&gt;</filename> will be
    encoded with.  In addition to this, Man-DB correctly determines if manual
    pages installed in that directory are UTF-8 encoded.</para>

    <!-- Origin: man-db-2.5.9/lib/encodings.c -->
    <table>
<title>Expected character encoding of legacy 8-bit manual pages</title>
      <?dbfo table-width="6in" ?>

      <tgroup cols="4">

        <colspec colnum="1" colwidth="1.5in"/>
        <colspec colnum="2" colwidth="1in"/>
        <colspec colnum="3" colwidth="2.5in"/>
        <colspec colnum="4" colwidth="1in"/>

        <thead>
          <row>
            <entry>Language (code)</entry>
            <entry>Encoding</entry>
            <entry>Language (code)</entry>
            <entry>Encoding</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>Danish (da)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Croatian (hr)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>German (de)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Hungarian (hu)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>English (en)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Japanese (ja)</entry>
            <entry>EUC-JP</entry>
          </row>
          <row>
            <entry>Spanish (es)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Korean (ko)</entry>
            <entry>EUC-KR</entry>
          </row>
          <row>
            <entry>Estonian (et)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Lithuanian (lt)</entry>
            <entry>ISO-8859-13</entry>
          </row>
          <row>
            <entry>Finnish (fi)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Latvian (lv)</entry>
            <entry>ISO-8859-13</entry>
          </row>
          <row>
            <entry>French (fr)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Macedonian (mk)</entry>
            <entry>ISO-8859-5</entry>
          </row>
          <row>
            <entry>Irish (ga)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Polish (pl)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Galician (gl)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Romanian (ro)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Indonesian (id)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Russian (ru)</entry>
            <entry>KOI8-R</entry>
          </row>
          <row>
            <entry>Icelandic (is)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Slovak (sk)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Italian (it)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Slovenian (sl)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Norwegian Bokmal (nb)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Serbian Latin (sr@latin)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Dutch (nl)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Serbian (sr)</entry>
            <entry>ISO-8859-5</entry>
          </row>
          <row>
            <entry>Norwegian Nynorsk (nn)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Turkish (tr)</entry>
            <entry>ISO-8859-9</entry>
          </row>
          <row>
            <entry>Norwegian (no)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Ukrainian (uk)</entry>
            <entry>KOI8-U</entry>
          </row>
          <row>
            <entry>Portuguese (pt)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Vietnamese (vi)</entry>
            <entry>TCVN5712-1</entry>
          </row>
          <row>
            <entry>Swedish (sv)</entry>
            <entry>ISO-8859-1</entry>
            <entry>Simplified Chinese (zh_CN)</entry>
            <entry>GBK</entry>
          </row>
          <row>
            <entry>Belarusian (be)</entry>
            <entry>CP1251</entry>
            <entry>Simplified Chinese, Singapore (zh_SG)</entry>
            <entry>GBK</entry>
          </row>
          <row>
            <entry>Bulgarian (bg)</entry>
            <entry>CP1251</entry>
            <entry>Traditional Chinese, Hong Kong (zh_HK)</entry>
            <entry>BIG5HKSCS</entry>
          </row>
          <row>
            <entry>Czech (cs)</entry>
            <entry>ISO-8859-2</entry>
            <entry>Traditional Chinese (zh_TW)</entry>
            <entry>BIG5</entry>
          </row>
          <row>
            <entry>Greek (el)</entry>
            <entry>ISO-8859-7</entry>
            <entry/>
            <entry/>
          </row>

        </tbody>

      </tgroup>

    </table>

    <note>
      <para>Manual pages in languages not in the list are not supported.</para>
    </note>

  </sect2>

  <sect2 id="contents-man-db" role="content">
    <title>Contents of Man-DB</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>accessdb, apropos (link to whatis), catman, lexgrog, man, mandb,
        manpath, whatis, zsoelim</seg>
        <seg>libman.so, libmandb.so</seg>
        <seg>/usr/lib/man-db, /usr/share/doc/man-db-2.7.6.1</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="accessdb">
        <term><command moreinfo="none">accessdb</command></term>
        <listitem>
          <para>Dumps the <command moreinfo="none">whatis</command> database contents in
          human-readable form</para>
          <indexterm zone="ch-system-man-db accessdb" significance="normal">
            <primary sortas="b-accessdb">accessdb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="apropos">
        <term><command moreinfo="none">apropos</command></term>
        <listitem>
          <para>Searches the <command moreinfo="none">whatis</command> database and displays
          the short descriptions of system commands that contain a given
          string</para>
          <indexterm zone="ch-system-man-db apropos" significance="normal">
            <primary sortas="b-apropos">apropos</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="catman">
        <term><command moreinfo="none">catman</command></term>
        <listitem>
          <para>Creates or updates the pre-formatted manual pages</para>
          <indexterm zone="ch-system-man-db catman" significance="normal">
            <primary sortas="b-catman">catman</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lexgrog">
        <term><command moreinfo="none">lexgrog</command></term>
        <listitem>
          <para>Displays one-line summary information about a given manual
          page</para>
          <indexterm zone="ch-system-man-db lexgrog" significance="normal">
            <primary sortas="b-lexgrog">lexgrog</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="man">
        <term><command moreinfo="none">man</command></term>
        <listitem>
          <para>Formats and displays the requested manual page</para>
          <indexterm zone="ch-system-man-db man" significance="normal">
            <primary sortas="b-man">man</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mandb">
        <term><command moreinfo="none">mandb</command></term>
        <listitem>
          <para>Creates or updates the <command moreinfo="none">whatis</command> database</para>
          <indexterm zone="ch-system-man-db mandb" significance="normal">
            <primary sortas="b-mandb">mandb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="manpath">
        <term><command moreinfo="none">manpath</command></term>
        <listitem>
          <para>Displays the contents of $MANPATH or (if $MANPATH is not set)
          a suitable search path based on the settings in man.conf and the
          user's environment</para>
          <indexterm zone="ch-system-man-db manpath" significance="normal">
            <primary sortas="b-manpath">manpath</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="whatis">
        <term><command moreinfo="none">whatis</command></term>
        <listitem>
          <para>Searches the <command moreinfo="none">whatis</command> database and displays
          the short descriptions of system commands that contain the given
          keyword as a separate word</para>
          <indexterm zone="ch-system-man-db whatis" significance="normal">
            <primary sortas="b-whatis">whatis</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zsoelim">
        <term><command moreinfo="none">zsoelim</command></term>
        <listitem>
          <para>Reads files and replaces lines of the form <emphasis>.so
          file</emphasis> by the contents of the mentioned
          <emphasis>file</emphasis></para>
          <indexterm zone="ch-system-man-db zsoelim" significance="normal">
            <primary sortas="b-zsoelim">zsoelim</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libman">
        <term><filename class="libraryfile" moreinfo="none">libman</filename></term>
        <listitem>
          <para>Contains run-time support for <command moreinfo="none">man</command></para>
          <indexterm zone="ch-system-man-db libman" significance="normal">
            <primary sortas="c-libman">libman</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libmandb">
        <term><filename class="libraryfile" moreinfo="none">libmandb</filename></term>
        <listitem>
          <para>Contains run-time support for <command moreinfo="none">man</command></para>
          <indexterm zone="ch-system-man-db libmandb" significance="normal">
            <primary sortas="c-libmandb">libmandb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-make" role="wrap" xml:base="common/make.xml">
  <?dbhtml filename="make.html"?>

  <title>Make-4.2.1</title>

  <indexterm zone="ch-system-make" significance="normal">
    <primary sortas="a-Make">Make</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Make package contains a program for compiling packages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Make</title>

    <para os="a">Prepare Make for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-make" role="content">
    <title>Contents of Make</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>

      <seglistitem>
        <seg>make</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="make">
        <term><command moreinfo="none">make</command></term>
        <listitem>
          <para>Automatically determines which pieces of a package need to
          be (re)compiled and then issues the relevant commands</para>
          <indexterm zone="ch-system-make make" significance="normal">
            <primary sortas="b-make">make</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-xz" role="wrap" xml:base="common/xz.xml">
  <?dbhtml filename="xz.html"?>

  <title>XZ Utils-5.2.3</title>

  <indexterm zone="ch-system-xz" significance="normal">
    <primary sortas="a-XZ Utils">XZ Utils</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The XZ Utils package contains programs for compressing and
    decompressing files. Compressing text files with <command moreinfo="none">XZ Utils</command>
    yields a much better compression percentage than with the traditional
    <command moreinfo="none">gzip</command>.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of XZ Utils</title>

    <para os="a">Prepare XZ Utils for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --docdir=/usr/share/doc/xz-5.2.3</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the programs:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Move the <filename moreinfo="none">xz</filename> binary, and several symlinks
    that point to it, into the /bin directory:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /usr/bin/{xz,lzma,lzcat,unlzma,unxz,xzcat} /bin</userinput></screen>

    <para os="j">Finally, move the shared library to a more appropriate
    location, and recreate the symlink pointing to it:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/liblzma.so.* /lib
ln -sfv ../../lib/$(readlink /usr/lib/liblzma.so) /usr/lib/liblzma.so</userinput></screen>

  </sect2>

  <sect2 id="contents-xz" role="content">
    <title>Contents of XZ Utils</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>lzcat (link to xz), lzcmp (link to xzdiff), lzdiff (link to
        xzdiff), lzegrep (link to xzgrep), lzfgrep (link to xzgrep), lzgrep
        (link to xzgrep), lzless (link to xzless), lzma (link to xz), lzmadec,
        lzmainfo, lzmore (link to xzmore), unlzma (link to xz), unxz (link to
        xz), xz, xzcat (link to xz), xzcmp (link to xzdiff), xzdec, xzdiff,
        xzegrep (link to xzgrep), xzfgrep (link to xzgrep), xzgrep, xzless,
        xzmore</seg>
        <seg>liblzma.[a,so]</seg>
        <seg>/usr/include/lzma, /usr/share/doc/xz-5.2.3</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="lzcat">
        <term><command moreinfo="none">lzcat</command></term>
        <listitem>
          <para>Decompresses LZMA and xz files</para>
          <indexterm zone="ch-system-xz lzcat" significance="normal">
            <primary sortas="b-lzcat">lzcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzcmp">
        <term><command moreinfo="none">lzcmp</command></term>
        <listitem>
          <para>Compares lzma compressed files</para>
          <indexterm zone="ch-system-xz lzcmp" significance="normal">
            <primary sortas="b-lzcmp">lzcmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzdiff">
        <term><command moreinfo="none">lzdiff</command></term>
        <listitem>
          <para>Compares lzma compressed files</para>
          <indexterm zone="ch-system-xz lzdiff" significance="normal">
            <primary sortas="b-lzdiff">lzdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzegrep">
        <term><command moreinfo="none">lzegrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">egrep</command> on lzma compressed files</para>
          <indexterm zone="ch-system-xz lzegrep" significance="normal">
            <primary sortas="b-lzegrep">lzegrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzfgrep">
        <term><command moreinfo="none">lzfgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">fgrep</command> on lzma compressed files</para>
          <indexterm zone="ch-system-xz lzfgrep" significance="normal">
            <primary sortas="b-lzfgrep">lzfgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzgrep">
        <term><command moreinfo="none">lzgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">grep</command> on lzma compressed files</para>
          <indexterm zone="ch-system-xz lzgrep" significance="normal">
            <primary sortas="b-lzgrep">lzgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzless">
        <term><command moreinfo="none">lzless</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">less</command> on lzma files</para>
          <indexterm zone="ch-system-xz lzless" significance="normal">
            <primary sortas="b-lzless">lzless</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzma">
        <term><command moreinfo="none">lzma</command></term>
        <listitem>
          <para>Compresses lzma files</para>
          <indexterm zone="ch-system-xz lzma" significance="normal">
            <primary sortas="b-lzma">lzma</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzmadec">
        <term><command moreinfo="none">lzmadec</command></term>
        <listitem>
          <para>Decompresses lzma files</para>
          <indexterm zone="ch-system-xz lzmadec" significance="normal">
            <primary sortas="b-lzmadec">lzmadec</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzmainfo">
        <term><command moreinfo="none">lzmainfo</command></term>
        <listitem>
          <para>Displays information stored in an .lzma file header</para>
          <indexterm zone="ch-system-xz lzmainfo" significance="normal">
            <primary sortas="b-lzmainfo">lzmainfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lzmore">
        <term><command moreinfo="none">lzmore</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">more</command> on lzma files</para>
          <indexterm zone="ch-system-xz lzmore" significance="normal">
            <primary sortas="b-lzmore">lzmore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unlzma">
        <term><command moreinfo="none">unlzma</command></term>
        <listitem>
          <para>Uncompresses lzma files</para>
          <indexterm zone="ch-system-xz unlzma" significance="normal">
            <primary sortas="b-unlzma">unlzma</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unxz">
        <term><command moreinfo="none">unxz</command></term>
        <listitem>
          <para>Uncompresses xz files</para>
          <indexterm zone="ch-system-xz unxz" significance="normal">
            <primary sortas="b-unxz">unxz</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xz">
        <term><command moreinfo="none">xz</command></term>
        <listitem>
          <para>Creates xz compressed files</para>
          <indexterm zone="ch-system-xz xz" significance="normal">
            <primary sortas="b-xz">xz</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzcat">
        <term><command moreinfo="none">xzcat</command></term>
        <listitem>
          <para>Decompresses xz files</para>
          <indexterm zone="ch-system-xz xzcat" significance="normal">
            <primary sortas="b-xzcat">xzcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzcmp">
        <term><command moreinfo="none">xzcmp</command></term>
        <listitem>
          <para>Compares xz compressed files</para>
          <indexterm zone="ch-system-xz xzcmp" significance="normal">
            <primary sortas="b-xzcmp">xzcmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzdec">
        <term><command moreinfo="none">xzdec</command></term>
        <listitem>
          <para>Decompresses to standard output</para>
          <indexterm zone="ch-system-xz xzdec" significance="normal">
            <primary sortas="b-xzdec">xzdec</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzdiff">
        <term><command moreinfo="none">xzdiff</command></term>
        <listitem>
          <para>Compares xz compressed files</para>
          <indexterm zone="ch-system-xz xzdiff" significance="normal">
            <primary sortas="b-xzdiff">xzdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzegrep">
        <term><command moreinfo="none">xzegrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">egrep</command> on xz compressed files</para>
          <indexterm zone="ch-system-xz xzegrep" significance="normal">
            <primary sortas="b-xzegrep">xzegrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzfgrep">
        <term><command moreinfo="none">xzfgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">fgrep</command> on xz compressed files</para>
          <indexterm zone="ch-system-xz xzfgrep" significance="normal">
            <primary sortas="b-xzfgrep">xzfgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzgrep">
        <term><command moreinfo="none">xzgrep</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">grep</command> on xz compressed files</para>
          <indexterm zone="ch-system-xz xzgrep" significance="normal">
            <primary sortas="b-xzgrep">xzgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzless">
        <term><command moreinfo="none">xzless</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">less</command> on xz files</para>
          <indexterm zone="ch-system-xz xzless" significance="normal">
            <primary sortas="b-xzless">xzless</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xzmore">
        <term><command moreinfo="none">xzmore</command></term>
        <listitem>
          <para>Runs <command moreinfo="none">more</command> on xz files</para>
          <indexterm zone="ch-system-xz xzmore" significance="normal">
            <primary sortas="b-xzmore">xzmore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="liblzma">
        <term><filename class="libraryfile" moreinfo="none">liblzma</filename></term>
        <listitem>
          <para>The LZMA library</para>
          <indexterm zone="ch-system-xz liblzma" significance="normal">
            <primary sortas="c-liblzma">liblzma</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-expat" role="wrap" xml:base="common/expat.xml">
  <?dbhtml filename="expat.html"?>

  <title>Expat-2.2.0</title>

  <indexterm zone="ch-system-expat" significance="normal">
    <primary sortas="a-Expat">Expat</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Expat is a stream-oriented XML parser library written in C.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Expat</title>

    <para os="a">Prepare Expat for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Install the documentation:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">install -v -m755 -d /usr/share/doc/expat-2.2.0
install -v -m644 doc/*.{html,png,css} /usr/share/doc/expat-2.2.0</userinput></screen>


  </sect2>

  <sect2 id="contents-expat" role="content">
    <title>Contents of Expat</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>
      <segtitle>Installed library</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>xmlwf</seg>
        <seg>libexpat.[so,a]</seg>
        <seg>/usr/share/doc/expat-2.2.0</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="xmlwf">
        <term><command moreinfo="none">xmlwf</command></term>
        <listitem>
          <para>is a non-validating utility to check whether or not XML
          documents are well formed</para>
          <indexterm zone="ch-system-expat xmlwf" significance="normal">
            <primary sortas="b-xmlwf">xmlwf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libexpat">
        <term><filename class="libraryfile" moreinfo="none">libexpat</filename></term>
        <listitem>
          <para>contains API functions for parsing XML</para>
          <indexterm zone="ch-system-expat libexpat" significance="normal">
            <primary sortas="c-libexpat">libexpat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-xml-parser" role="wrap" xml:base="common/xml-parser.xml">
  <?dbhtml filename="xml-parser.html"?>

  <title>XML::Parser-2.44</title>

  <indexterm zone="ch-system-xml-parser" significance="normal">
    <primary sortas="a-XML-Parser">XML::Parser</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>XML::Parser is a perl module for parsing XML documents.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of XML::Parser</title>

    <para os="a">Prepare XML::Parser for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">perl Makefile.PL</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="f" format="linespecific"><userinput remap="test" moreinfo="none">make test</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-xml-parser" role="content">
    <title>Contents of XML::Parser</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>
      <segtitle>Installed libraries</segtitle>

      <seglistitem>
        <seg>None</seg>
        <seg>None</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

</sect1>
  <sect1 id="ch-system-intltool" role="wrap" xml:base="common/intltool.xml">
  <?dbhtml filename="intltool.html"?>

  <title>Intltool-0.51.0</title>

  <indexterm zone="ch-system-intltool" significance="normal">
    <primary sortas="a-Intltool">Intltool</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Intltool package contains internationalization tools.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Intltool</title>

    <para os="p1">Apply the following patch to fix outdated syntax that is no
    longer recognized by Perl-5.26.0.</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../intltool-0.51.0-perl-5.22-compatibility.patch</userinput></screen>

    <para os="a">Prepare Intltool for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-intltool" role="content">
    <title>Contents of Intltool</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>intltool-extract, intltool-merge, intltool-prepare, intltool-update, intltoolize</seg>
        <seg>/usr/share/intltool</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="intltool-extract">
        <term><command moreinfo="none">intltool-extract</command></term>
        <listitem>
          <para>Generates header files which can be read by gettext</para>
          <indexterm zone="ch-system-intltool intltool-extract" significance="normal">
            <primary sortas="b-intltool-extract">intltool-extract</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="intltool-merge">
        <term><command moreinfo="none">intltool-merge</command></term>
        <listitem>
          <para>Merges translated strings into various types of files</para>
          <indexterm zone="ch-system-intltool intltool-merge" significance="normal">
            <primary sortas="b-intltool-merge">intltool-merge</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="intltool-prepare">
        <term><command moreinfo="none">intltool-prepare</command></term>
        <listitem>
          <para>Prepares software to make use of intltool</para>
          <indexterm zone="ch-system-intltool intltool-prepare" significance="normal">
            <primary sortas="b-intltool-prepare">intltool-prepare</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="intltool-update">
        <term><command moreinfo="none">intltool-update</command></term>
        <listitem>
          <para>Updates PO template files and merges translations with them</para>
          <indexterm zone="ch-system-intltool intltool-update" significance="normal">
            <primary sortas="b-intltool-update">intltool-update</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="intltoolize">
        <term><command moreinfo="none">intltoolize</command></term>
        <listitem>
          <para>Copies intltool related files to software packages</para>
          <indexterm zone="ch-system-intltool intltoolize" significance="normal">
            <primary sortas="b-intltoolize">intltoolize</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-kmod" role="wrap" xml:base="common/kmod.xml">
  <?dbhtml filename="kmod.html"?>

  <title>Kmod-24</title>

  <indexterm zone="ch-system-kmod" significance="normal">
    <primary sortas="a-Kmod">Kmod</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Kmod package contains programs for loading, inserting
      and removing kernel modules for Linux. Kmod replaces the
      Module-Init-tools package.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Kmod</title>

    <para os="a">Prepare Kmod for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --bindir=/bin \
    --sysconfdir=/etc \
    --with-rootlibdir=/lib \
    --with-zlib \
    --with-xz</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure option:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--with-rootlibdir=/lib</parameter></term>
        <listitem>
          <para>Install location for shared libraries.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-zlib --with-xz</parameter></term>
        <listitem>
          <para>This allows the Kmod package to handle zlib and XZ
            compressed kernel modules.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">To test the results, issue:</para>

<screen os="f2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="i">Create symbolic links for programs that expect Module-Init-Tools:</para>

<screen os="j" format="linespecific"><userinput moreinfo="none">ln -sfv kmod /bin/lsmod
for tool in depmod insmod modinfo modprobe rmmod; do
    ln -sfv ../bin/kmod /sbin/${tool}
done</userinput></screen>

  </sect2>

  <sect2 id="contents-kmod" role="content">
    <title>Contents of Kmod</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>depmod (link to kmod), insmod (link to kmod), kmod,
        lsmod (link to kmod), modinfo (link to kmod), modprobe (link to kmod),
        rmmod (link to kmod) </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="depmod">
        <term><command moreinfo="none">depmod</command></term>
        <listitem>
          <para>Creates a dependency file based on the symbols it finds in
          the existing set of modules; this dependency file is used by
          <command moreinfo="none">modprobe</command> to automatically load the required
          modules</para>
          <indexterm zone="ch-system-kmod depmod" significance="normal">
            <primary sortas="b-depmod">depmod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="insmod">
        <term><command moreinfo="none">insmod</command></term>
        <listitem>
          <para>Installs a loadable module in the running kernel</para>
          <indexterm zone="ch-system-kmod insmod" significance="normal">
            <primary sortas="b-insmod">insmod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kmod">
        <term><command moreinfo="none">kmod</command></term>
        <listitem>
          <para>Loads and unloads kernel modules</para>
          <indexterm zone="ch-system-kmod kmod" significance="normal">
            <primary sortas="b-kmod">kmod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lsmod">
        <term><command moreinfo="none">lsmod</command></term>
        <listitem>
          <para>Lists currently loaded modules</para>
          <indexterm zone="ch-system-kmod lsmod" significance="normal">
            <primary sortas="b-lsmod">lsmod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="modinfo">
        <term><command moreinfo="none">modinfo</command></term>
        <listitem>
          <para>Examines an object file associated with a kernel module and
          displays any information that it can glean</para>
          <indexterm zone="ch-system-kmod modinfo" significance="normal">
            <primary sortas="b-modinfo">modinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="modprobe">
        <term><command moreinfo="none">modprobe</command></term>
        <listitem>
          <para>Uses a dependency file, created by <command moreinfo="none">depmod</command>,
          to automatically load relevant modules</para>
          <indexterm zone="ch-system-kmod modprobe" significance="normal">
            <primary sortas="b-modprobe">modprobe</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rmmod">
        <term><command moreinfo="none">rmmod</command></term>
        <listitem>
          <para>Unloads modules from the running kernel</para>
          <indexterm zone="ch-system-kmod rmmod" significance="normal">
            <primary sortas="b-rmmod">rmmod</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-patch" role="wrap" xml:base="common/patch.xml">
  <?dbhtml filename="patch.html"?>

  <title>Patch-2.7.5</title>

  <indexterm zone="ch-system-patch" significance="normal">
    <primary sortas="a-Patch">Patch</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Patch package contains a program for modifying or creating
    files by applying a <quote>patch</quote> file typically created by the
    <command moreinfo="none">diff</command> program.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Patch</title>

    <para os="a">Prepare Patch for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-patch" role="content">
    <title>Contents of Patch</title>

    <segmentedlist>
      <segtitle>Installed program</segtitle>

      <seglistitem>
        <seg>patch</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="patch">
        <term><command moreinfo="none">patch</command></term>
        <listitem>
          <para>Modifies files according to a patch file. A patch file is
          normally a difference listing created with the <command moreinfo="none">diff</command>
          program. By applying these differences to the original files,
          <command moreinfo="none">patch</command> creates the patched versions.</para>
          <indexterm zone="ch-system-patch patch" significance="normal">
            <primary sortas="b-patch">patch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-psmisc" role="wrap" xml:base="common/psmisc.xml">
  <?dbhtml filename="psmisc.html"?>

  <title>Psmisc-22.21</title>

  <indexterm zone="ch-system-psmisc" significance="normal">
    <primary sortas="a-Psmisc">Psmisc</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Psmisc package contains programs for displaying information
    about running processes.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Psmisc</title>

    <para os="a">Prepare Psmisc for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">This package does not come with a test suite.</para>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Move the <command moreinfo="none">killall</command> and
    <command moreinfo="none">fuser</command> programs to the location specified by the
    FHS:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /usr/bin/fuser /bin
mv -v /usr/bin/killall /bin</userinput></screen>

  </sect2>

  <sect2 id="contents-psmisc" role="content">
    <title>Contents of Psmisc</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>fuser, killall, peekfd, prtstat, pstree, pstree.x11
        (link to pstree)</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="fuser">
        <term><command moreinfo="none">fuser</command></term>
        <listitem>
          <para>Reports the Process IDs (PIDs) of processes that use the given
          files or file systems</para>
          <indexterm zone="ch-system-psmisc fuser" significance="normal">
            <primary sortas="b-fuser">fuser</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="killall">
        <term><command moreinfo="none">killall</command></term>
        <listitem>
          <para>Kills processes by name; it sends a signal to all processes
          running any of the given commands</para>
          <indexterm zone="ch-system-psmisc killall" significance="normal">
            <primary sortas="b-killall">killall</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="peekfd">
        <term><command moreinfo="none">peekfd</command></term>
        <listitem>
          <para> Peeks at file descriptors of running processes</para>
          <indexterm zone="ch-system-psmisc peekfd" significance="normal">
            <primary sortas="b-peekfd">peekfd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="prtstat">
        <term><command moreinfo="none">prtstat</command></term>
        <listitem>
          <para>Prints information about a process</para>
          <indexterm zone="ch-system-psmisc prtstat" significance="normal">
            <primary sortas="b-prtstat">prtstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pstree">
        <term><command moreinfo="none">pstree</command></term>
        <listitem>
          <para>Displays running processes as a tree</para>
          <indexterm zone="ch-system-psmisc pstree" significance="normal">
            <primary sortas="b-pstree">pstree</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pstree.x11">
        <term><command moreinfo="none">pstree.x11</command></term>
        <listitem>
          <para>Same as <command moreinfo="none">pstree</command>, except that it waits for
          confirmation before exiting</para>
          <indexterm zone="ch-system-psmisc pstree.x11" significance="normal">
            <primary sortas="b-pstree.x11">pstree.x11</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-systemd" role="wrap" xml:base="common/systemd.xml">
  <?dbhtml filename="systemd.html"?>

  <title>Systemd-233</title>

  <indexterm zone="ch-system-systemd" significance="normal">
    <primary sortas="a-systemd">Systemd</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The systemd package is a system and service manager for Linux
    operating systems.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Systemd</title>

    <para os="s1">Prevent the <filename moreinfo="none">Makefile</filename> from trying to run
    <command moreinfo="none">setcap</command> on <command moreinfo="none">systemd-detect-virt</command>,
    which will fail if the kernel or file system does not support extended
    capabilities:</para>

<screen os="s2" format="linespecific"><userinput moreinfo="none">sed -i '/virt-install-hook /d' Makefile.in</userinput></screen>

    <para os="s3">The <filename moreinfo="none">timesyncd.conf</filename> file contains a
    reference to a non-existent <filename moreinfo="none">timesyncd.conf(5)</filename> man
    page. Remove that reference to avoid possible confusion:</para>

<screen os="s4" format="linespecific"><userinput moreinfo="none">sed -i '/timesyncd.conf/d' src/timesync/timesyncd.conf.in</userinput></screen>

    <para os="cc1">Create a file to declare some variables</para>

<screen os="cc2" format="linespecific"><userinput moreinfo="none">cat &gt; config.cache &lt;&lt; "EOF"
<literal moreinfo="none">KILL="/bin/kill"
MOUNT_PATH="/bin/mount"
UMOUNT_PATH="/bin/umount"
SULOGIN="/sbin/sulogin"
XSLTPROC="/usr/bin/xsltproc"
cc_cv_LDFLAGS__Wl__fuse_ld_gold=no</literal>
EOF</userinput></screen>

    <para os="a">Prepare systemd for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --localstatedir=/var \
    --libexecdir=/usr/lib \
    --docdir=/usr/share/doc/systemd-233 \
    --with-rootprefix="" \
    --with-rootlibdir=/lib \
    --enable-split-usr \
    --disable-firstboot \
    --disable-ldconfig \
    --disable-lto \
    --disable-sysusers \
    --with-default-dnssec=no \
    --with-kbd-loadkeys=/bin/loadkeys \
    --with-kbd-setfont=/bin/setfont \
    --with-dbuspolicydir=/etc/dbus-1/system.d \
    --with-dbussessionservicedir=/usr/share/dbus-1/services \
    --with-dbussystemservicedir=/usr/share/dbus-1/system-services \
    --config-cache</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--config-cache</parameter></term>
        <listitem>
          <para>Use the created <filename moreinfo="none">config.cache</filename>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-root*</parameter></term>
        <listitem>
          <para>These switches ensure that core programs and
          shared libraries are installed in the subdirectories
          of the root partition.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-split-usr</parameter></term>
        <listitem>
          <para>This switch ensures that systemd will work on
          systems where /bin, /lib and /sbin directories are not
          symlinks to their /usr counterparts.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-firstboot</parameter></term>
        <listitem>
          <para>This switch prevents installation of systemd services 
            responsible for setting up the system for the first time.
            They are not useful for CLFS as everything is done manually.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-ldconfig</parameter></term>
        <listitem>
          <para>This switch prevents installation of a systemd unit that runs
          <command moreinfo="none">ldconfig</command> at boot, and increases boot time.
          While it may be not useful for source distributions like CLFS,
          this option may be removed.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-lto</parameter></term>
        <listitem>
          <para>This prevents the build system from using GCC's Link-time
          optimization (LTO), to ensure that systemd's binaries will not try
          to link to <filename class="libraryfile" moreinfo="none">libgcc_s</filename></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-sysusers</parameter></term>
        <listitem>
            <para>This switch prevents install of systemd services which setup
            the previously created <filename moreinfo="none">/etc/group</filename> and
            <filename moreinfo="none">/etc/passwd</filename> files.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-dbus*</parameter></term>
        <listitem>
          <para>These switches ensure that D-Bus configuration files get
          installed to the correct locations.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--with-default-dnssec=no</parameter></term>
        <listitem>
          <para>This switch turns off the experimental DNSSEC support.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">Prevent a broken test case from running:</para>

<screen os="g" format="linespecific"><userinput remap="test" moreinfo="none">sed -e 's@test/udev-test.pl @@'  \
        -e 's@test-copy$(EXEEXT) @@' \
        -i Makefile.in
</userinput></screen>

    <para os="h">To test the results, issue:</para>

<screen os="i" format="linespecific"><userinput remap="test" moreinfo="none">sed -i "s:minix:ext4:g" src/test/test-path-util.c
make check</userinput></screen>

    <para os="j">Install the package:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="l">Install documentation files that are not installed by default:</para>

<screen os="m" format="linespecific"><userinput moreinfo="none">install -v -m644 man/*.html /usr/share/doc/systemd-233</userinput></screen>

    <para os="p">Remove an unnecessary directory:</para>

<screen os="q" format="linespecific"><userinput moreinfo="none">rm -rfv /usr/lib/rpm</userinput></screen>

    <para os="r">Create symlinks for backwards-compatibility with Sysvinit:</para>

<screen os="s" format="linespecific"><userinput moreinfo="none">for tool in runlevel reboot shutdown poweroff halt telinit; do
  ln -sfv ../bin/systemctl /sbin/$tool
done
ln -sfv ../lib/systemd/systemd /sbin/init</userinput></screen>

  </sect2>

  <sect2 id="conf-systemd" role="configuration">
    <title>Configuring Systemd</title>

    <indexterm zone="conf-systemd" significance="normal">
      <primary sortas="a-systemd">systemd</primary>
    <secondary>configuring</secondary></indexterm>

    <indexterm zone="conf-systemd" significance="normal">
      <primary sortas="e-/etc/os-release">/etc/os-release</primary>
    </indexterm>

    <para>Create <filename moreinfo="none">/etc/machine-id</filename> which is needed
    by Journald:</para>

<screen format="linespecific"><userinput moreinfo="none">systemd-machine-id-setup</userinput></screen>

    <para>Create a file to identify the operating system.
    <command moreinfo="none">systemd</command> will use this file on boot to put information
    on the screen.</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/os-release &lt;&lt; "EOF"
# Begin /etc/os-release

NAME=Cross-LFS
ID=clfs

PRETTY_NAME=Cross Linux From Scratch
ANSI_COLOR=0;33

VERSION=GIT-20170803
VERSION_ID=20170803

# End /etc/os-release
EOF</userinput></screen>

  </sect2>

  <sect2 id="contents-systemd" role="content">
    <title>Contents of Systemd</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>bootctl, busctl, halt (link to systemctl), hostnamectl,
        init (link to systemd), journalctl, kernel-install, localectl, loginctl,
        machinectl, poweroff (link to systemctl), reboot (link to systemctl),
        runlevel (link to systemctl), shutdown (link to systemctl),
        systemctl, systemd, system-analyze, systemd-ask-password, systemd-cat,
        systemd-cgls, systemd-cgtop, systemd-coredumpctl, systemd-delta,
        systemd-detect-virt, systemd-inhibit, systemd-machine-id-setup,
        systemd-notify, systemd-nspawn, systemd-run, systemd-stdio-bridge
        (link to systemd-bus-proxyd), systemd-tmpfiles,
        systemd-tty-ask-password-agent, telinit (link to systemctl),
        timedatectl, udevadm</seg>
        <seg>libnss_myhostname.so, libsystemd.so, libudev.so</seg>
        <seg>/etc/binfmt.d, /etc/init.d, /etc/kernel, /etc/modules-load.d,
        /etc/sysctl.d, /etc/systemd, /etc/tmpfiles.d, /etc/udev,
        /etc/xdg/systemd, /lib/systemd, /lib/udev, /usr/include/systemd,
        /usr/lib/binfmt.d, /usr/lib/kernel, /usr/lib/modules-load.d,
        /usr/lib/sysctl.d, /usr/lib/systemd,
        /usr/share/doc-systemd-233, /usr/share/systemd,
        /usr/share/zsh, /var/lib/systemd</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bootctl">
        <term><command moreinfo="none">bootctl</command></term>
        <listitem>
          <para>Controls the firmware and boot manager settings</para>
          <indexterm zone="ch-system-systemd bootctl" significance="normal">
            <primary sortas="b-bootctl">bootctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="busctl">
        <term><command moreinfo="none">busctl</command></term>
        <listitem>
          <para>Introspects and monitors the D-Bus bus</para>
          <indexterm zone="ch-system-systemd busctl" significance="normal">
            <primary sortas="b-busctl">busctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="halt">
        <term><command moreinfo="none">halt</command></term>
        <listitem>
          <para>Halts, powers off, or reboots the machine</para>
          <indexterm zone="ch-system-systemd halt" significance="normal">
            <primary sortas="b-halt">halt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hostnamectl">
        <term><command moreinfo="none">hostnamectl</command></term>
        <listitem>
          <para>Controls the system hostname</para>
          <indexterm zone="ch-system-systemd hostnamectl" significance="normal">
            <primary sortas="b-hostnamectl">hostnamectl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="init">
        <term><command moreinfo="none">init</command></term>
        <listitem>
          <para>systemd system and service manager</para>
          <indexterm zone="ch-system-systemd init" significance="normal">
            <primary sortas="b-init">init</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="journalctl">
        <term><command moreinfo="none">journalctl</command></term>
        <listitem>
          <para>Queries the systemd journal</para>
          <indexterm zone="ch-system-systemd journalctl" significance="normal">
            <primary sortas="b-journalctl">journalctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kernel-install">
        <term><command moreinfo="none">kernel-install</command></term>
        <listitem>
          <para>Adds and removes kernel and initramfs images to and from
          <filename class="directory" moreinfo="none">/boot</filename></para>
          <indexterm zone="ch-system-systemd kernel-install" significance="normal">
            <primary sortas="b-kernel-install">kernel-install</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="localectl">
        <term><command moreinfo="none">localectl</command></term>
        <listitem>
          <para>Controls the system locale and keyboard layout settings</para>
          <indexterm zone="ch-system-systemd localectl" significance="normal">
            <primary sortas="b-localectl">localectl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="loginctl">
        <term><command moreinfo="none">loginctl</command></term>
        <listitem>
          <para>Controls the systemd login manager</para>
          <indexterm zone="ch-system-systemd loginctl" significance="normal">
            <primary sortas="b-loginctl">loginctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="machinectl">
        <term><command moreinfo="none">machinectl</command></term>
        <listitem>
          <para>Controls the systemd machine manager</para>
          <indexterm zone="ch-system-systemd machinectl" significance="normal">
            <primary sortas="b-machinectl">machinectl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="poweroff">
        <term><command moreinfo="none">poweroff</command></term>
        <listitem>
          <para>Halts, powers off, or reboots the machine</para>
          <indexterm zone="ch-system-systemd poweroff" significance="normal">
            <primary sortas="b-poweroff">poweroff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="reboot">
        <term><command moreinfo="none">reboot</command></term>
        <listitem>
          <para>Halts, powers off, or reboots the machine</para>
          <indexterm zone="ch-system-systemd reboot" significance="normal">
            <primary sortas="b-reboot">reboot</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="runlevel">
        <term><command moreinfo="none">runlevel</command></term>
        <listitem>
          <para>Prints previous and current SysV runlevel</para>
          <indexterm zone="ch-system-systemd runlevel" significance="normal">
            <primary sortas="b-runlevel">runlevel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="shutdown">
        <term><command moreinfo="none">shutdown</command></term>
        <listitem>
          <para>Halts, powers off, or reboots the machine</para>
          <indexterm zone="ch-system-systemd shutdown" significance="normal">
            <primary sortas="b-shutdown">shutdown</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemctl">
        <term><command moreinfo="none">systemctl</command></term>
        <listitem>
          <para>Control the systemd system and service manager</para>
          <indexterm zone="ch-system-systemd systemctl" significance="normal">
            <primary sortas="b-systemctl">systemctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd">
        <term><command moreinfo="none">systemd</command></term>
        <listitem>
          <para>System and service manager for Linux</para>
          <indexterm zone="ch-system-systemd systemd" significance="normal">
            <primary sortas="b-systemd">systemd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-analyze">
        <term><command moreinfo="none">systemd-analyze</command></term>
        <listitem>
          <para>Analyzes system boot-up permformance</para>
          <indexterm zone="ch-system-systemd systemd-analyze" significance="normal">
            <primary sortas="b-systemd-analyze">systemd-analyze</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-ask-password">
        <term><command moreinfo="none">systemd-ask-password</command></term>
        <listitem>
          <para>Queries the user for a system passphrase, via the
          TTY or an UI agent.</para>
          <indexterm zone="ch-system-systemd systemd-ask-password" significance="normal">
            <primary sortas="b-systemd-ask-password">systemd-ask-password</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-cat">
        <term><command moreinfo="none">systemd-cat</command></term>
        <listitem>
          <para>Connects a pipeline or program's output with the journal</para>
          <indexterm zone="ch-system-systemd systemd-cat" significance="normal">
            <primary sortas="b-systemd-cat">systemd-cat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-cgls">
        <term><command moreinfo="none">systemd-cgls</command></term>
        <listitem>
          <para>Recursively shows control group contents</para>
          <indexterm zone="ch-system-systemd systemd-cgls" significance="normal">
            <primary sortas="b-systemd-cgls">systemd-cgls</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-cgtop">
        <term><command moreinfo="none">systemd-cgtop</command></term>
        <listitem>
          <para>Shows top control groups by resource usage</para>
          <indexterm zone="ch-system-systemd systemd-cgtop" significance="normal">
            <primary sortas="b-systemd-cgtop">systemd-cgtop</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-coredumpctl">
        <term><command moreinfo="none">systemd-coredumpctl</command></term>
        <listitem>
          <para>Retrieves coredumps from the journal</para>
          <indexterm zone="ch-system-systemd systemd-coredumpctl" significance="normal">
            <primary sortas="b-systemd-coredumpctl">systemd-coredumpctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-delta">
        <term><command moreinfo="none">systemd-delta</command></term>
        <listitem>
          <para>Finds overridden configuration files</para>
          <indexterm zone="ch-system-systemd systemd-delta" significance="normal">
            <primary sortas="b-systemd-delta">systemd-delta</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-detect-virt">
        <term><command moreinfo="none">systemd-detect-virt</command></term>
        <listitem>
          <para>Detects execution in a virtual environment</para>
          <indexterm zone="ch-system-systemd systemd-detect-virt" significance="normal">
            <primary sortas="b-systemd-detect-virt">systemd-detect-virt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-inhibit">
        <term><command moreinfo="none">systemd-inhibit</command></term>
        <listitem>
          <para>Executes a program with an inhibition lock taken</para>
          <indexterm zone="ch-system-systemd systemd-inhibit" significance="normal">
            <primary sortas="b-systemd-inhibit">systemd-inhibit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-machine-id-setup">
        <term><command moreinfo="none">systemd-machine-id-setup</command></term>
        <listitem>
          <para>Initializes the machine ID in
          <filename moreinfo="none">/etc/machine-id</filename></para>
          <indexterm zone="ch-system-systemd systemd-machine-id-setup" significance="normal">
            <primary sortas="b-systemd-machine-id-setup">systemd-machine-id-setup</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-notify">
        <term><command moreinfo="none">systemd-notify</command></term>
        <listitem>
          <para>Notifies init system about start-up completion and other daemon
          status changes</para>
          <indexterm zone="ch-system-systemd systemd-notify" significance="normal">
            <primary sortas="b-systemd-notify">systemd-notify</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-nspawn">
        <term><command moreinfo="none">systemd-nspawn</command></term>
        <listitem>
          <para>Spawns a namespace container for debugging, testing, and
          building</para>
          <indexterm zone="ch-system-systemd systemd-nspawn" significance="normal">
            <primary sortas="b-systemd-nspawn">systemd-nspawn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-run">
        <term><command moreinfo="none">systemd-run</command></term>
        <listitem>
          <para>Runs programs in transient scope or service units</para>
          <indexterm zone="ch-system-systemd systemd-run" significance="normal">
            <primary sortas="b-systemd-run">systemd-run</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-stdio-bridge">
        <term><command moreinfo="none">systemd-stdio-bridge</command></term>
        <listitem>
          <para>Connects stdio or a socket to a given bus address</para>
          <indexterm zone="ch-system-systemd systemd-stdio-bridge" significance="normal">
            <primary sortas="b-systemd-stdio-bridge">systemd-stdio-bridge</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-tmpfiles">
        <term><command moreinfo="none">systemd-tmpfiles</command></term>
        <listitem>
          <para>Creates, deletes, and cleans up volatile and temporary files</para>
          <indexterm zone="ch-system-systemd systemd-tmpfiles" significance="normal">
            <primary sortas="b-systemd-tmpfiles">systemd-tmpfiles</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="systemd-tty-ask-password-agent">
        <term><command moreinfo="none">systemd-tty-ask-password-agent</command></term>
        <listitem>
          <para>Process system password requests</para>
          <indexterm zone="ch-system-systemd systemd-tty-ask-password-agent" significance="normal">
            <primary sortas="b-systemd-tty-ask-password-agent">systemd-tty-ask-password-agent</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="telinit">
        <term><command moreinfo="none">telinit</command></term>
        <listitem>
          <para>Tells <command moreinfo="none">init</command> which run-level to change to</para>
          <indexterm zone="ch-system-systemd telinit" significance="normal">
            <primary sortas="b-telinit">telinit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="timedatectl">
        <term><command moreinfo="none">timedatectl</command></term>
        <listitem>
          <para>Controls the system time and date</para>
          <indexterm zone="ch-system-systemd timedatectl" significance="normal">
            <primary sortas="b-timedatectl">timedatectl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="udevadm">
        <term><command moreinfo="none">udevadm</command></term>
        <listitem>
          <para>Udev management tool</para>
          <indexterm zone="ch-system-systemd udevadm" significance="normal">
            <primary sortas="b-udevadm">udevadm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libnss_myhostname">
        <term><filename class="libraryfile" moreinfo="none">libnss_myhostname</filename></term>
        <listitem>
          <para>Plugin for the GNU Name Service Switch (NSS) functionality
          of Glibc, provding hostname resolution for the locally configured
          system hostname</para>
          <indexterm zone="ch-system-systemd libnss_myhostname" significance="normal">
            <primary sortas="c-libnss_myhostname">libnss_myhostname</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libsystemd">
        <term><filename class="libraryfile" moreinfo="none">libsystemd</filename></term>
        <listitem>
          <para>Support library for systemd</para>
          <indexterm zone="ch-system-systemd libsystemd" significance="normal">
            <primary sortas="c-libsystemd">libsystemd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libudev">
        <term><filename class="libraryfile" moreinfo="none">libudev</filename></term>
        <listitem>
          <para>A library interface to Udev device information.</para>
          <indexterm zone="ch-system-systemd libudev" significance="normal">
            <primary sortas="c-libudev">libudev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-dbus" role="wrap" xml:base="common/dbus.xml">
  <?dbhtml filename="dbus.html"?>

  <title>D-Bus-1.10.18</title>

  <indexterm zone="ch-system-dbus" significance="normal">
    <primary sortas="a-D-Bus">D-Bus</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>D-Bus is a message bus system, a simple way for applications
    to talk to one another.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of D-Bus</title>

    <para os="a">Prepare D-Bus for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --libexecdir=/usr/lib/dbus-1.0 \
    --localstatedir=/var \
    --with-systemdsystemunitdir=/lib/systemd/system \
    --docdir=/usr/share/doc/dbus-1.10.18</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">This package does come with a test suite, but it requires
    several packages that are not included in CLFS. Instructions for running
    the test suite can be found in the CBLFS wiki at
    <ulink url="http://cblfs.clfs.org/index.php/D-BUS_Core"/>.</para>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Move the shared library to <filename class="directory" moreinfo="none">/lib
    </filename> and recreate the symbolic link.</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">mv -v /usr/lib/libdbus-1.so.* /lib
ln -sfv ../../lib/$(readlink /usr/lib/libdbus-1.so) /usr/lib/libdbus-1.so</userinput></screen>

    <para os="j">Create a symlink so that D-Bus and systemd can use the same
    <filename moreinfo="none">machine-id</filename> file:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">ln -sv /etc/machine-id /var/lib/dbus</userinput></screen>

  </sect2>

  <sect2 id="contents-dbus" role="content">
    <title>Contents of D-Bus</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>dbus-cleanup-sockets, dbus-daemon, dbus-launch, dbus-monitor, dbus-send, dbus-uuidgen</seg>
        <seg>libdbus-1.[a,so]</seg>
        <seg>/etc/dbus-1, /usr/include/dbus-1.0, /usr/lib/dbus-1.0,
        /usr/share/doc/dbus-1.10.18, /var/lib/dbus</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="dbus-cleanup-sockets">
        <term><command moreinfo="none">dbus-cleanup-sockets</command></term>
        <listitem>
          <para>Cleans up leftover sockets in a directory</para>
          <indexterm zone="ch-system-dbus dbus-cleanup-sockets" significance="normal">
            <primary sortas="b-dbus-cleanup-sockets">dbus-cleanup-sockets</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-daemon">
        <term><command moreinfo="none">dbus-daemon</command></term>
        <listitem>
          <para>The message bus daemon</para>
          <indexterm zone="ch-system-dbus dbus-daemon" significance="normal">
            <primary sortas="b-dbus-daemon">dbus-daemon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-uuidgen">
        <term><command moreinfo="none">dbus-uuidgen</command></term>
        <listitem>
          <para>Utility to generate UUIDs</para>
          <indexterm zone="ch-system-dbus dbus-uuidgen" significance="normal">
            <primary sortas="b-dbus-uuidgen">dbus-uuidgen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-monitor">
        <term><command moreinfo="none">dbus-monitor</command></term>
        <listitem>
          <para>A debug probe that prints message bus messages</para>
          <indexterm zone="ch-system-dbus dbus-monitor" significance="normal">
            <primary sortas="b-dbus-monitor">dbus-monitor</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-launch">
        <term><command moreinfo="none">dbus-launch</command></term>
        <listitem>
          <para>Utility to start a message bus from a shell script</para>
          <indexterm zone="ch-system-dbus dbus-launch" significance="normal">
            <primary sortas="b-dbus-launch">dbus-launch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-send">
        <term><command moreinfo="none">dbus-send</command></term>
        <listitem>
          <para>Send a message to a message bus</para>
          <indexterm zone="ch-system-dbus dbus-send" significance="normal">
            <primary sortas="b-dbus-send">dbus-send</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libdbus-1">
        <term><filename class="libraryfile" moreinfo="none">libdbus-1</filename></term>
        <listitem>
          <para>Library containing the API for using the message bus</para>
          <indexterm zone="ch-system-dbus libdbus-1" significance="normal">
            <primary sortas="c-libdbus-1">libdbus-1</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-tar" role="wrap" xml:base="common/tar.xml">
  <?dbhtml filename="tar.html"?>

  <title>Tar-1.29</title>

  <indexterm zone="ch-system-tar" significance="normal">
    <primary sortas="a-Tar">Tar</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Tar package contains an archiving program.</para>


  </sect2>

  <sect2 role="installation">
    <title>Installation of Tar</title>

    <para os="a">Prepare Tar for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">FORCE_UNSAFE_CONFIGURE=1 ./configure \
    --prefix=/usr \
    --bindir=/bin \
    --libexecdir=/usr/sbin</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">Install the documentation:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">make -C doc install-html docdir=/usr/share/doc/tar-1.29</userinput></screen>

  </sect2>

  <sect2 id="contents-tar" role="content">
    <title>Contents of Tar</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>rmt, tar</seg>
        <seg>/usr/share/doc/tar-1.29</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="rmt">
        <term><command moreinfo="none">rmt</command></term>
        <listitem>
          <para>Remotely manipulates a magnetic
          tape drive through an interprocess communication connection</para>
          <indexterm zone="ch-system-tar rmt" significance="normal">
            <primary sortas="b-rmt">rmt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tar">
        <term><command moreinfo="none">tar</command></term>
        <listitem>
          <para>Creates, extracts files from, and lists the contents of
          archives, also known as tarballs</para>
          <indexterm zone="ch-system-tar tar" significance="normal">
            <primary sortas="b-tar">tar</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-texinfo" role="wrap" xml:base="common/texinfo.xml">
  <?dbhtml filename="texinfo.html"?>

  <title>Texinfo-6.3</title>

  <indexterm zone="ch-system-texinfo" significance="normal">
    <primary sortas="a-Texinfo">Texinfo</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Texinfo package contains programs for reading, writing, and
    converting info pages.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Texinfo</title>

    <para os="a">Prepare Texinfo for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="c">Compile the package:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="e">To test the results, issue:</para>

<screen os="e2" format="linespecific"><userinput remap="test" moreinfo="none">make check</userinput></screen>

    <para os="f">Install the package:</para>

<screen os="g" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

    <para os="h">If TeX will be used, install the components belonging in a TeX installation:</para>

<screen os="i" format="linespecific"><userinput moreinfo="none">make TEXMF=/usr/share/texmf install-tex</userinput></screen>

  </sect2>

  <sect2 id="contents-texinfo" role="content">
    <title>Contents of Texinfo</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>info, infokey, install-info, makeinfo (link to texi2any),
        pdftexi2dvi, texi2dvi, texi2pdf, texindex</seg>
        <seg>/usr/share/texinfo</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="info">
        <term><command moreinfo="none">info</command></term>
        <listitem>
          <para>Used to read info pages which are similar to man
          pages, but often go much deeper than just explaining all the command
          line options. For example, compare <command moreinfo="none">man bison</command> and
          <command moreinfo="none">info bison</command>.</para>
          <indexterm zone="ch-system-texinfo info" significance="normal">
            <primary sortas="b-info">info</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="infokey">
        <term><command moreinfo="none">infokey</command></term>
        <listitem>
          <para>Compiles a source file containing Info customizations into a
          binary format</para>
          <indexterm zone="ch-system-texinfo infokey" significance="normal">
            <primary sortas="b-infokey">infokey</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="install-info">
        <term><command moreinfo="none">install-info</command></term>
        <listitem>
          <para>Used to install info pages; it updates entries in the
          <command moreinfo="none">info</command> index file</para>
          <indexterm zone="ch-system-texinfo install-info" significance="normal">
            <primary sortas="b-install-info">install-info</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="makeinfo">
        <term><command moreinfo="none">makeinfo</command></term>
        <listitem>
          <para>Translates the given Texinfo source documents into
          info pages, plain text, or HTML</para>
          <indexterm zone="ch-system-texinfo makeinfo" significance="normal">
            <primary sortas="b-makeinfo">makeinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pdftexi2dvi">
        <term><command moreinfo="none">pdftexi2dvi</command></term>
        <listitem>
          <para>Shell script that run <command moreinfo="none">texi2dvi --pdf</command></para>
          <indexterm zone="ch-system-texinfo pdftexi2dvi" significance="normal">
            <primary sortas="b-pdftexi2dvi">pdftexi2dvi</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="texi2dvi">
        <term><command moreinfo="none">texi2dvi</command></term>
        <listitem>
          <para>Used to format the given Texinfo document into a
          device-independent file that can be printed</para>
          <indexterm zone="ch-system-texinfo texi2dvi" significance="normal">
            <primary sortas="b-texi2dvi">texi2dvi</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="texi2pdf">
        <term><command moreinfo="none">texi2pdf</command></term>
        <listitem>
          <para>Used to format the given Texinfo document into a
          Portable Document Format (PDF) file</para>
          <indexterm zone="ch-system-texinfo texi2pdf" significance="normal">
            <primary sortas="b-texi2pdf">texi2pdf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="texindex">
        <term><command moreinfo="none">texindex</command></term>
        <listitem>
          <para>Used to sort Texinfo index files</para>
          <indexterm zone="ch-system-texinfo texindex" significance="normal">
            <primary sortas="b-texindex">texindex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-util-linux" role="wrap" xml:base="common/util-linux.xml">
  <?dbhtml filename="util-linux.html"?>

  <title>Util-linux-2.29.2</title>

  <indexterm zone="ch-system-util-linux" significance="normal">
    <primary sortas="a-Util-linux">Util-linux</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Util-linux package contains miscellaneous utility programs.
    Among them are utilities for handling file systems, consoles, partitions,
    and messages.</para>

  </sect2>

  <sect2 id="fhs-util-linux" role="installation">
    <title>FHS compliance notes</title>

    <para>The FHS recommends using the <filename class="directory" moreinfo="none">/var/lib/hwclock</filename> directory instead of the
    usual <filename class="directory" moreinfo="none">/etc</filename> directory as the
    location for the <filename moreinfo="none">adjtime</filename> file. To make the
    <command moreinfo="none">hwclock</command> program FHS-compliant, run the following:</para>

<screen format="linespecific"><userinput moreinfo="none">mkdir -pv /var/lib/hwclock</userinput></screen>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Util-linux</title>

    <para os="a">Prepare Util-linux for compilation:</para>

<screen os="b" format="linespecific"><userinput moreinfo="none">./configure \
    ADJTIME_PATH=/var/lib/hwclock/adjtime \
    --enable-write \
    --disable-chfn-chsh \
    --disable-login \
    --disable-nologin \
    --disable-su \
    --disable-setpriv \
    --disable-runuser \
    --docdir=/usr/share/doc/util-linux-2.29.2</userinput></screen>

    <variablelist os="c">
      <title>The meaning of the configure options:</title>

      <varlistentry>
        <term><parameter moreinfo="none">--enable-write</parameter></term>
        <listitem>
          <para>This option allows the <command moreinfo="none">write</command> program to be
          installed.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter moreinfo="none">--disable-*</parameter></term>
        <listitem>
          <para>This option disables various programs</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compile the package:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">To test the results, issue:</para>

<screen os="f2" format="linespecific"><userinput remap="test" moreinfo="none">chown -Rv nobody . &amp;&amp;
su nobody -s /bin/bash -c "PATH=$PATH make -k check"</userinput></screen>

    <para os="g">Install the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-util-linux" role="content">
    <title>Contents of Util-linux</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed libraries</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>addpart, agetty, blkdiscard, blkid, blockdev, cal, cfdisk, chcpu,
        chrt, col, colcrt, colrm, column, ctrlaltdel, delpart, dmesg,
        eject, fallocate, fdformat, fdisk, findfs, findmnt, flock, fsck,
        fsck.cramfs, fsck.minix, fsfreeze, fstrim, getopt, hexdump,
        hwclock, ionice, ipcmk, ipcrm, ipcs, isosize, kill, last, lastb (link
        to last), ldattach, logger, look, losetup, lsblk, lscpu, lslocks,
        mcookie, mesg, mkfs, mkfs.bfs, mkfs.cramfs, mkfs.minix, mkswap, more,
        mount, mountpoint,  namei, nsenter, partx, pg, pivot_root, prlimit,
        raw, readprofile, rename, renice, resizepart, rev, rtcwake, script,
        scriptreplay, setarch, setsid, setterm, sfdisk, sulogin, swaplabel,
        swapoff, swapon, switch_root, tailf, taskset, ul, umount, unshare,
        utmpdump, uuidd, uuidgen, wall, wdctl, whereis, wipefs, write</seg>
        <seg>libblkid.[a,so], libmount.[a,so], libuuid.[a,so]</seg>
        <seg>/usr/include/blkid, /usr/include/libmount, /usr/include/uuid,
        /usr/share/bash-completion,
        /usr/share/doc/util-linux-2.29.2/getopt,
        and /var/lib/hwclock</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="addpart">
        <term><command moreinfo="none">addpart</command></term>
        <listitem>
          <para>Informs the kernel of a new partition</para>
          <indexterm zone="ch-system-util-linux addpart" significance="normal">
            <primary sortas="b-addpart">addpart</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="agetty">
        <term><command moreinfo="none">agetty</command></term>
        <listitem>
          <para>Opens a tty port, prompts for a login name,
          and then invokes the <command moreinfo="none">login</command> program</para>
          <indexterm zone="ch-system-util-linux agetty" significance="normal">
            <primary sortas="b-agetty">agetty</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="blkdiscard">
        <term><command moreinfo="none">blkdiscard</command></term>
        <listitem>
          <para>Discards sectors on a device</para>
          <indexterm zone="ch-system-util-linux blkdiscard" significance="normal">
            <primary sortas="b-blkdiscard">blkdiscard</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="blkid">
        <term><command moreinfo="none">blkid</command></term>
        <listitem>
          <para>A command line utility to locate and print block device
          attributes</para>
          <indexterm zone="ch-system-util-linux blkid" significance="normal">
            <primary sortas="b-blkid">blkid</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="blockdev">
        <term><command moreinfo="none">blockdev</command></term>
        <listitem>
          <para>Allows users to call block device ioctls from the command
          line</para>
          <indexterm zone="ch-system-util-linux blockdev" significance="normal">
            <primary sortas="b-blockdev">blockdev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cal">
        <term><command moreinfo="none">cal</command></term>
        <listitem>
          <para>Displays a simple calendar</para>
          <indexterm zone="ch-system-util-linux cal" significance="normal">
            <primary sortas="b-cal">cal</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cfdisk">
        <term><command moreinfo="none">cfdisk</command></term>
        <listitem>
          <para>Manipulates the partition table of the given device</para>
          <indexterm zone="ch-system-util-linux cfdisk" significance="normal">
            <primary sortas="b-cfdisk">cfdisk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chcpu">
        <term><command moreinfo="none">chcpu</command></term>
        <listitem>
          <para>Utility to configure CPUs</para>
          <indexterm zone="ch-system-util-linux chcpu" significance="normal">
            <primary sortas="b-chcpu">chcpu</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="chrt">
        <term><command moreinfo="none">chrt</command></term>
        <listitem>
          <para>Manipulates real-time attributes of a process</para>
          <indexterm zone="ch-system-util-linux chrt" significance="normal">
            <primary sortas="b-chrt">chrt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="col">
        <term><command moreinfo="none">col</command></term>
        <listitem>
          <para>Filters out reverse line feeds</para>
          <indexterm zone="ch-system-util-linux col" significance="normal">
            <primary sortas="b-col">col</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="colcrt">
        <term><command moreinfo="none">colcrt</command></term>
        <listitem>
          <para>Filters <command moreinfo="none">nroff</command> output for terminals
          that lack some capabilities, such as overstriking and half-lines</para>
          <indexterm zone="ch-system-util-linux colcrt" significance="normal">
            <primary sortas="b-colcrt">colcrt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="colrm">
        <term><command moreinfo="none">colrm</command></term>
        <listitem>
          <para>Filters out the given columns</para>
          <indexterm zone="ch-system-util-linux colrm" significance="normal">
            <primary sortas="b-colrm">colrm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="column">
        <term><command moreinfo="none">column</command></term>
        <listitem>
          <para>Formats a given file into multiple columns</para>
          <indexterm zone="ch-system-util-linux column" significance="normal">
            <primary sortas="b-column">column</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ctrlaltdel">
        <term><command moreinfo="none">ctrlaltdel</command></term>
        <listitem>
          <para>Sets the function of the Ctrl+Alt+Del key combination to a
          hard or a soft reset</para>
          <indexterm zone="ch-system-util-linux ctrlaltdel" significance="normal">
            <primary sortas="b-ctrlaltdel">ctrlaltdel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="delpart">
        <term><command moreinfo="none">delpart</command></term>
        <listitem>
          <para>Asks the kernel to remove a partition</para>
          <indexterm zone="ch-system-util-linux delpart" significance="normal">
            <primary sortas="b-delpart">delpart</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dmesg">
        <term><command moreinfo="none">dmesg</command></term>
        <listitem>
          <para>Dumps the kernel boot messages</para>
          <indexterm zone="ch-system-util-linux dmesg" significance="normal">
            <primary sortas="b-dmesg">dmesg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="eject">
        <term><command moreinfo="none">eject</command></term>
        <listitem>
          <para>Eject removable media</para>
          <indexterm zone="ch-system-util-linux eject" significance="normal">
            <primary sortas="b-dmesg">eject</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fallocate">
        <term><command moreinfo="none">fallocate</command></term>
        <listitem>
          <para>Preallocates space to a file</para>
          <indexterm zone="ch-system-util-linux fallocate" significance="normal">
            <primary sortas="b-fallocate">fallocate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fdformat">
        <term><command moreinfo="none">fdformat</command></term>
        <listitem>
          <para>Low-level formats a floppy disk</para>
          <indexterm zone="ch-system-util-linux fdformat" significance="normal">
            <primary sortas="b-fdformat">fdformat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fdisk">
        <term><command moreinfo="none">fdisk</command></term>
        <listitem>
          <para>Manipulates the partition table of the given device</para>
          <indexterm zone="ch-system-util-linux fdisk" significance="normal">
            <primary sortas="b-fdisk">fdisk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="findfs">
        <term><command moreinfo="none">findfs</command></term>
        <listitem>
          <para>Finds a file system by label or Universally Unique Identifier
          (UUID)</para>
          <indexterm zone="ch-system-util-linux findfs" significance="normal">
            <primary sortas="b-findfs">findfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="findmnt">
        <term><command moreinfo="none">findmnt</command></term>
        <listitem>
          <para>Lists mounted filesystems or searches for a filesystem</para>
          <indexterm zone="ch-system-util-linux findmnt" significance="normal">
            <primary sortas="b-findmnt">findmnt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="flock">
        <term><command moreinfo="none">flock</command></term>
        <listitem>
          <para>Acquires a file lock and then executes a command with the lock
          held</para>
          <indexterm zone="ch-system-util-linux flock" significance="normal">
            <primary sortas="b-flock">flock</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsck">
        <term><command moreinfo="none">fsck</command></term>
        <listitem>
          <para>Is used to check, and optionally repair, file systems</para>
          <indexterm zone="ch-system-util-linux fsck" significance="normal">
            <primary sortas="b-fsck">fsck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsck.cramfs">
        <term><command moreinfo="none">fsck.cramfs</command></term>
        <listitem>
          <para>Performs a consistency check on the Cramfs file system on the
          given device</para>
          <indexterm zone="ch-system-util-linux fsck.cramfs" significance="normal">
            <primary sortas="b-fsck.cramfs">fsck.cramfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsck.minix">
        <term><command moreinfo="none">fsck.minix</command></term>
        <listitem>
          <para>Performs a consistency check on the Minix file system on the
          given device</para>
          <indexterm zone="ch-system-util-linux fsck.minix" significance="normal">
            <primary sortas="b-fsck.minix">fsck.minix</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fsfreeze">
        <term><command moreinfo="none">fsfreeze</command></term>
        <listitem>
          <para>Suspends and resumes access to a filesystem</para>
          <indexterm zone="ch-system-util-linux fsfreeze" significance="normal">
            <primary sortas="b-fsfreeze">fsfreeze</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fstrim">
        <term><command moreinfo="none">fstrim</command></term>
        <listitem>
          <para>Discards unused blocks on a mounted filesystem</para>
          <indexterm zone="ch-system-util-linux fstrim" significance="normal">
            <primary sortas="b-fstrim">fstrim</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getopt">
        <term><command moreinfo="none">getopt</command></term>
        <listitem>
          <para>Parses options in the given command line</para>
          <indexterm zone="ch-system-util-linux getopt" significance="normal">
            <primary sortas="b-getopt">getopt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hexdump">
        <term><command moreinfo="none">hexdump</command></term>
        <listitem>
          <para>Dumps the given file in hexadecimal or in another given
          format</para>
          <indexterm zone="ch-system-util-linux hexdump" significance="normal">
            <primary sortas="b-hexdump">hexdump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hwclock">
        <term><command moreinfo="none">hwclock</command></term>
        <listitem>
          <para>Reads or sets the system's hardware clock, also called
          the Real-Time Clock (RTC) or Basic Input-Output System (BIOS)
          clock</para>
          <indexterm zone="ch-system-util-linux hwclock" significance="normal">
            <primary sortas="b-hwclock">hwclock</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ionice">
        <term><command moreinfo="none">ionice</command></term>
        <listitem>
          <para>Gives and sets program I/O scheduling class and priority</para>
          <indexterm zone="ch-system-util-linux ionice" significance="normal">
            <primary sortas="b-ionice">ionice</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ipcmk">
        <term><command moreinfo="none">ipcmk</command></term>
        <listitem>
          <para>Creates various IPC resources</para>
          <indexterm zone="ch-system-util-linux ipcmk" significance="normal">
            <primary sortas="b-ipcmk">ipcmk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ipcrm">
        <term><command moreinfo="none">ipcrm</command></term>
        <listitem>
          <para>Removes the given Inter-Process Communication (IPC) resource</para>
          <indexterm zone="ch-system-util-linux ipcrm" significance="normal">
            <primary sortas="b-ipcrm">ipcrm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ipcs">
        <term><command moreinfo="none">ipcs</command></term>
        <listitem>
          <para>Provides IPC status information</para>
          <indexterm zone="ch-system-util-linux ipcs" significance="normal">
            <primary sortas="b-ipcs">ipcs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="isosize">
        <term><command moreinfo="none">isosize</command></term>
        <listitem>
          <para>Reports the size of an iso9660 file system</para>
          <indexterm zone="ch-system-util-linux isosize" significance="normal">
            <primary sortas="b-isosize">isosize</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kill">
        <term><command moreinfo="none">kill</command></term>
        <listitem>
          <para>Send a signal to a process</para>
          <indexterm zone="ch-system-util-linux kill" significance="normal">
            <primary sortas="b-kill">kill</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="last">
        <term><command moreinfo="none">last</command></term>
        <listitem>
          <para>Shows which users last logged in (and out), searching back
          through the <filename moreinfo="none">/var/log/wtmp</filename> file; it also shows
          system boots, shutdowns, and run-level changes</para>
          <indexterm zone="ch-system-util-linux last" significance="normal">
            <primary sortas="b-last">last</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lastb">
        <term><command moreinfo="none">lastb</command></term>
        <listitem>
          <para>Shows the failed login attempts, as logged in
          <filename moreinfo="none">/var/log/btmp</filename></para>
          <indexterm zone="ch-system-util-linux lastb" significance="normal">
            <primary sortas="b-lastb">lastb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ldattach">
        <term><command moreinfo="none">ldattach</command></term>
        <listitem>
          <para>Attaches a line discipline to a serial line</para>
          <indexterm zone="ch-system-util-linux ldattach" significance="normal">
            <primary sortas="b-ldattach">ldattach</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="logger">
        <term><command moreinfo="none">logger</command></term>
        <listitem>
          <para>Enters the given message into the system log</para>
          <indexterm zone="ch-system-util-linux logger" significance="normal">
            <primary sortas="b-logger">logger</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="look">
        <term><command moreinfo="none">look</command></term>
        <listitem>
          <para>Displays lines that begin with the given string</para>
          <indexterm zone="ch-system-util-linux look" significance="normal">
            <primary sortas="b-look">look</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="losetup">
        <term><command moreinfo="none">losetup</command></term>
        <listitem>
          <para>Sets up and controls loop devices</para>
          <indexterm zone="ch-system-util-linux losetup" significance="normal">
            <primary sortas="b-losetup">losetup</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lsblk">
        <term><command moreinfo="none">lsblk</command></term>
        <listitem>
          <para>Prints information about block devices</para>
          <indexterm zone="ch-system-util-linux lsblk" significance="normal">
            <primary sortas="b-lsblk">lsblk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lscpu">
        <term><command moreinfo="none">lscpu</command></term>
        <listitem>
          <para>Prints CPU architecture information</para>
          <indexterm zone="ch-system-util-linux lscpu" significance="normal">
            <primary sortas="b-lscpu">lscpu</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lslocks">
        <term><command moreinfo="none">lslocks</command></term>
        <listitem>
          <para>Lists local system locks</para>
          <indexterm zone="ch-system-util-linux lslocks" significance="normal">
            <primary sortas="b-lslocks">lslocks</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mcookie">
        <term><command moreinfo="none">mcookie</command></term>
        <listitem>
          <para>Generates magic cookies (128-bit random hexadecimal numbers) for
          <command moreinfo="none">xauth</command></para>
          <indexterm zone="ch-system-util-linux mcookie" significance="normal">
            <primary sortas="b-mcookie">mcookie</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mesg">
        <term><command moreinfo="none">mesg</command></term>
        <listitem>
          <para>Controls whether other users can send messages to the current
          user's terminal</para>
          <indexterm zone="ch-system-util-linux mesg" significance="normal">
            <primary sortas="b-mesg">mesg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs">
        <term><command moreinfo="none">mkfs</command></term>
        <listitem>
          <para>Builds a file system on a device (usually a hard disk
          partition)</para>
          <indexterm zone="ch-system-util-linux mkfs" significance="normal">
            <primary sortas="b-mkfs">mkfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.bfs">
        <term><command moreinfo="none">mkfs.bfs</command></term>
        <listitem>
          <para>Creates a Santa Cruz Operations (SCO) bfs file system</para>
          <indexterm zone="ch-system-util-linux mkfs.bfs" significance="normal">
            <primary sortas="b-mkfs.bfs">mkfs.bfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.cramfs">
        <term><command moreinfo="none">mkfs.cramfs</command></term>
        <listitem>
          <para>Creates a cramfs file system</para>
          <indexterm zone="ch-system-util-linux mkfs.cramfs" significance="normal">
            <primary sortas="b-mkfs.cramfs">mkfs.cramfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.minix">
        <term><command moreinfo="none">mkfs.minix</command></term>
        <listitem>
          <para>Creates a Minix file system</para>
          <indexterm zone="ch-system-util-linux mkfs.minix" significance="normal">
            <primary sortas="b-mkfs.minix">mkfs.minix</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkswap">
        <term><command moreinfo="none">mkswap</command></term>
        <listitem>
          <para>Initializes the given device or file to be used as a swap
          area</para>
          <indexterm zone="ch-system-util-linux mkswap" significance="normal">
            <primary sortas="b-mkswap">mkswap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="more">
        <term><command moreinfo="none">more</command></term>
        <listitem>
          <para>A filter for paging through text one screen at a time</para>
          <indexterm zone="ch-system-util-linux more" significance="normal">
            <primary sortas="b-more">more</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mount">
        <term><command moreinfo="none">mount</command></term>
        <listitem>
          <para>Attaches the file system on the given device to a specified
          directory in the file-system tree</para>
          <indexterm zone="ch-system-util-linux mount" significance="normal">
            <primary sortas="b-mount">mount</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mountpoint">
        <term><command moreinfo="none">mountpoint</command></term>
        <listitem>
          <para>Tells you whether or not a directory is a mount point.</para>
          <indexterm zone="ch-system-util-linux mountpoint" significance="normal">
            <primary sortas="b-mountpoint">mountpoint</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="namei">
        <term><command moreinfo="none">namei</command></term>
        <listitem>
          <para>Shows the symbolic links in the given pathnames</para>
          <indexterm zone="ch-system-util-linux namei" significance="normal">
            <primary sortas="b-namei">namei</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nsenter">
        <term><command moreinfo="none">nsenter</command></term>
        <listitem>
          <para>Runs a program with namespaces of other processes</para>
          <indexterm zone="ch-system-util-linux nsenter" significance="normal">
            <primary sortas="b-nsenter">nsenter</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="partx">
        <term><command moreinfo="none">partx</command></term>
        <listitem>
          <para>Tells the kernel about the presence and numbering of on-disk
          partitions</para>
          <indexterm zone="ch-system-util-linux partx" significance="normal">
            <primary sortas="b-partx">partx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pg">
        <term><command moreinfo="none">pg</command></term>
        <listitem>
          <para>Displays a text file one screen full at a time</para>
          <indexterm zone="ch-system-util-linux pg" significance="normal">
            <primary sortas="b-pg">pg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pivot_root">
        <term><command moreinfo="none">pivot_root</command></term>
        <listitem>
          <para>Makes the given file system the new root file system of the
          current process</para>
          <indexterm zone="ch-system-util-linux pivot_root" significance="normal">
            <primary sortas="b-pivot_root">pivot_root</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="prlimit">
        <term><command moreinfo="none">prlimit</command></term>
        <listitem>
          <para>Gets and sets a process' resource limits</para>
          <indexterm zone="ch-system-util-linux prlimit" significance="normal">
            <primary sortas="b-prlimit">prlimit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="raw">
        <term><command moreinfo="none">raw</command></term>
        <listitem>
          <para>Binds a Linux raw character device to a block device</para>
          <indexterm zone="ch-system-util-linux raw" significance="normal">
            <primary sortas="b-raw">raw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="readprofile">
        <term><command moreinfo="none">readprofile</command></term>
        <listitem>
          <para>Reads kernel profiling information</para>
          <indexterm zone="ch-system-util-linux readprofile" significance="normal">
            <primary sortas="b-readprofile">readprofile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rename">
        <term><command moreinfo="none">rename</command></term>
        <listitem>
          <para>Renames the given files, replacing a given string with
          another</para>
          <indexterm zone="ch-system-util-linux rename" significance="normal">
            <primary sortas="b-rename">rename</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="renice">
        <term><command moreinfo="none">renice</command></term>
        <listitem>
          <para>Alters the priority of running processes</para>
          <indexterm zone="ch-system-util-linux renice" significance="normal">
            <primary sortas="b-renice">renice</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="resizepart">
        <term><command moreinfo="none">resizepart</command></term>
        <listitem>
          <para>Asks the Linux kernel to resize a partition</para>
          <indexterm zone="ch-system-util-linux resizepart" significance="normal">
            <primary sortas="b-resizepart">resizepart</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rev">
        <term><command moreinfo="none">rev</command></term>
        <listitem>
          <para>Reverses the lines of a given file</para>
          <indexterm zone="ch-system-util-linux rev" significance="normal">
            <primary sortas="b-rev">rev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtcwake">
        <term><command moreinfo="none">rtcwake</command></term>
        <listitem>
          <para>Enters a system sleep state until a specified wakeup time</para>
          <indexterm zone="ch-system-util-linux rtcwake" significance="normal">
            <primary sortas="b-rtcwake">rtcwake</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="script">
        <term><command moreinfo="none">script</command></term>
        <listitem>
          <para>Makes a typescript of a terminal session</para>
          <indexterm zone="ch-system-util-linux script" significance="normal">
            <primary sortas="b-script">script</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="scriptreplay">
        <term><command moreinfo="none">scriptreplay</command></term>
        <listitem>
          <para>Plays back typescripts created by <command moreinfo="none">script</command></para>
          <indexterm zone="ch-system-util-linux scriptreplay" significance="normal">
            <primary sortas="b-scriptreplay">scriptreplay</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setarch">
        <term><command moreinfo="none">setarch</command></term>
        <listitem>
          <para>Changes reported architecture in new program environment and
          sets personality flags</para>
          <indexterm zone="ch-system-util-linux setarch" significance="normal">
            <primary sortas="b-setarch">setarch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setsid">
        <term><command moreinfo="none">setsid</command></term>
        <listitem>
          <para>Runs the given program in a new session</para>
          <indexterm zone="ch-system-util-linux setsid" significance="normal">
            <primary sortas="b-setsid">setsid</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setterm">
        <term><command moreinfo="none">setterm</command></term>
        <listitem>
          <para>Sets terminal attributes</para>
          <indexterm zone="ch-system-util-linux setterm" significance="normal">
            <primary sortas="b-setterm">setterm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sfdisk">
        <term><command moreinfo="none">sfdisk</command></term>
        <listitem>
          <para>A disk partition table manipulator</para>
          <indexterm zone="ch-system-util-linux sfdisk" significance="normal">
            <primary sortas="b-sfdisk">sfdisk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sulogin">
        <term><command moreinfo="none">sulogin</command></term>
        <listitem>
          <para>Allows <emphasis>root</emphasis> to log in; it is normally
          invoked by <command moreinfo="none">init</command> when the system goes into single
          user mode</para>
          <indexterm zone="ch-system-util-linux sulogin" significance="normal">
            <primary sortas="b-sulogin">sulogin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="swaplabel">
        <term><command moreinfo="none">swaplabel</command></term>
        <listitem>
          <para>Prints or changes the label or UUID of a swap area</para>
          <indexterm zone="ch-system-util-linux swaplabel" significance="normal">
            <primary sortas="b-swaplabel">swaplabel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="swapoff">
        <term><command moreinfo="none">swapoff</command></term>
        <listitem>
          <para>Disables devices and files for paging and swapping</para>
          <indexterm zone="ch-system-util-linux swapoff" significance="normal">
            <primary sortas="b-swapoff">swapoff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="swapon">
        <term><command moreinfo="none">swapon</command></term>
        <listitem>
          <para>Enables devices and files for paging and swapping and
          lists the devices and files currently in use</para>
          <indexterm zone="ch-system-util-linux swapon" significance="normal">
            <primary sortas="b-swapon">swapon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="switch_root">
        <term><command moreinfo="none">switch_root</command></term>
        <listitem>
          <para>Switches to another filesystem as the root of the mount tree</para>
          <indexterm zone="ch-system-util-linux switch_root" significance="normal">
            <primary sortas="b-switch_root">switch_root</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tailf">
        <term><command moreinfo="none">tailf</command></term>
        <listitem>
          <para>Tracks the growth of a log file. Displays the last 10 lines
          of a log file, then continues displaying any new entries in the
          log file as they are created</para>
          <indexterm zone="ch-system-util-linux tailf" significance="normal">
            <primary sortas="b-tailf">tailf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="taskset">
        <term><command moreinfo="none">taskset</command></term>
        <listitem>
          <para>Retrieves or sets a process's CPU affinity</para>
          <indexterm zone="ch-system-util-linux taskset" significance="normal">
            <primary sortas="b-taskset">taskset</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ul">
        <term><command moreinfo="none">ul</command></term>
        <listitem>
          <para>A filter for translating underscores into escape sequences
          indicating underlining for the terminal in use</para>
          <indexterm zone="ch-system-util-linux ul" significance="normal">
            <primary sortas="b-ul">ul</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="umount">
        <term><command moreinfo="none">umount</command></term>
        <listitem>
          <para>Disconnects a file system from the system's file tree</para>
          <indexterm zone="ch-system-util-linux umount" significance="normal">
            <primary sortas="b-umount">umount</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unshare">
        <term><command moreinfo="none">unshare</command></term>
        <listitem>
          <para>Runs a program with some namespaces unshared from parent</para>
          <indexterm zone="ch-system-util-linux unshare" significance="normal">
            <primary sortas="b-unshare">unshare</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="utmpdump">
        <term><command moreinfo="none">utmpdump</command></term>
        <listitem>
          <para>Displays the content of the given login file in a more
          user-friendly format</para>
          <indexterm zone="ch-system-util-linux utmpdump" significance="normal">
            <primary sortas="b-utmpdump">utmpdump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uuidd">
        <term><command moreinfo="none">uuidd</command></term>
        <listitem>
          <para>A daemon used by the UUID library to generate time-based
          UUIDs in a secure and guranteed-unique fashion.</para>
          <indexterm zone="ch-system-util-linux uuidd" significance="normal">
            <primary sortas="b-uuidd">uuidd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uuidgen">
        <term><command moreinfo="none">uuidgen</command></term>
        <listitem>
          <para>Creates new UUIDs. Each new UUID can reasonably be considered
          unique among all UUIDs created, on the local system and on other
          systems, in the past and in the future</para>
          <indexterm zone="ch-system-util-linux uuidgen" significance="normal">
            <primary sortas="b-uuidgen">uuidgen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="wall">
        <term><command moreinfo="none">wall</command></term>
        <listitem>
          <para>Writes a message to all logged-in users</para>
          <indexterm zone="ch-system-util-linux wall" significance="normal">
            <primary sortas="b-wall">wall</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="wdctl">
        <term><command moreinfo="none">wdctl</command></term>
        <listitem>
          <para>Show hardware watchdog status</para>
          <indexterm zone="ch-system-util-linux wdctl" significance="normal">
            <primary sortas="b-uuidgen">wdctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="whereis">
        <term><command moreinfo="none">whereis</command></term>
        <listitem>
          <para>Reports the location of the binary, source, and man page
          for the given command</para>
          <indexterm zone="ch-system-util-linux whereis" significance="normal">
            <primary sortas="b-whereis">whereis</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="wipefs">
        <term><command moreinfo="none">wipefs</command></term>
        <listitem>
          <para>Wipes a filesystem signature from a device</para>
          <indexterm zone="ch-system-util-linux wipefs" significance="normal">
            <primary sortas="b-wipefs">wipefs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="write">
        <term><command moreinfo="none">write</command></term>
        <listitem>
          <para>Sends a message to the given user <emphasis>if</emphasis> that
          user has not disabled receipt of such messages</para>
          <indexterm zone="ch-system-util-linux write" significance="normal">
            <primary sortas="b-write">write</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libblkid">
        <term><filename class="libraryfile" moreinfo="none">libblkid</filename></term>
        <listitem>
          <para>Contains routines for device identification and token
          extraction</para>
          <indexterm zone="ch-system-util-linux libblkid" significance="normal">
            <primary sortas="c-libblkid">libblkid</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libmount">
        <term><filename class="libraryfile" moreinfo="none">libmount</filename></term>
        <listitem>
          <para>Contains routines for parsing the
          <filename moreinfo="none">/etc/fstab</filename>, <filename moreinfo="none">/etc/mtab</filename>,
          and <filename moreinfo="none">/proc/self/mountinfo</filename> files, managing
          <filename moreinfo="none">/etc/mtab</filename>, and configuring various mount
          options</para>
          <indexterm zone="ch-system-util-linux libmount" significance="normal">
            <primary sortas="c-libmount">libmount</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libuuid">
        <term><filename class="libraryfile" moreinfo="none">libuuid</filename></term>
        <listitem>
          <para>Contains routines for generating unique identifiers for objects
          that may be accessible beyond the local system</para>
          <indexterm zone="ch-system-util-linux libuuid" significance="normal">
            <primary sortas="c-libuuid">libuuid</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-vim" role="wrap" xml:base="common/vim.xml">
  <?dbhtml filename="vim.html"?>

  <title>Vim-8.0</title>

  <indexterm zone="ch-system-vim" significance="normal">
    <primary sortas="a-Vim">Vim</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Vim package contains a powerful text editor.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Vim</title>

    <tip os="t1">
      <title>Alternatives to Vim</title>

      <para>If you prefer another editor—such as Emacs, Joe, or
      Nano—please refer to <ulink url="http://cblfs.clfs.org/index.php/Category:Text_Editors"/>
      for suggested installation instructions.</para>
    </tip>

    <para os="p1">The following patch merges all updates from the 8.0 Branch
    from the Vim developers:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../vim-8.0-branch_update-1.patch</userinput></screen>

    <para os="b">Change the default location of
    the <filename moreinfo="none">vimrc</filename> configuration file to <filename class="directory" moreinfo="none">/etc</filename>:</para>

<screen os="c" format="linespecific"><userinput moreinfo="none">echo '#define SYS_VIMRC_FILE "/etc/vimrc"' &gt;&gt; src/feature.h</userinput></screen>

    <para os="d">Prepare Vim for compilation:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr</userinput></screen>

    <para os="g">Compile the package:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="i">To test the results, issue:</para>

<screen os="i2" format="linespecific"><userinput remap="test" moreinfo="none">make test</userinput></screen>

    <para os="i3">However, this test suite outputs a lot of binary data to the
    screen, which can cause issues with the settings of the current terminal.
    This can be resolved by redirecting the output to a log file.</para>

    <para os="j">Install the package:</para>

<screen os="k" format="linespecific"><userinput moreinfo="none">make -j1 install</userinput></screen>

    <para os="l">Many users are accustomed to using <command moreinfo="none">vi</command>
    instead of <command moreinfo="none">vim</command>. Some programs, such as
    <command moreinfo="none">vigr</command> and <command moreinfo="none">vipw</command>, also use
    <command moreinfo="none">vi</command>. Create a symlink to permit execution of
    <command moreinfo="none">vim</command> when users habitually enter <command moreinfo="none">vi</command>
    and allow programs that use <command moreinfo="none">vi</command> to work:</para>

<screen os="m" format="linespecific"><userinput moreinfo="none">ln -sv vim /usr/bin/vi</userinput></screen>

<para os="n">By default, Vim's documentation is installed in
<filename class="directory" moreinfo="none">/usr/share/vim</filename>.  The following symlink
allows the documentation to be accessed via
<filename class="directory" moreinfo="none">/usr/share/doc/vim-8.0</filename>, making
it consistent with the location of documentation for other packages:</para>

<screen os="o" format="linespecific"><userinput moreinfo="none">ln -sv ../vim/vim0597/doc /usr/share/doc/vim-8.0</userinput></screen>

    <para os="p">If an X Window System is going to be installed on the CLFS
    system, you may want to recompile Vim after installing X. Vim
    comes with a GUI version of the editor that requires X and some
    additional libraries to be installed. For more information, refer to the
    Vim documentation and the Vim installation page in CBLFS at <ulink url="http://cblfs.clfs.org/index.php/Vim"/>.</para>

  </sect2>

  <sect2 id="conf-vim" role="configuration">
    <title>Configuring Vim</title>

    <indexterm zone="conf-vim" significance="normal">
      <primary sortas="e-/etc/vimrc">/etc/vimrc</primary>
    </indexterm>

    <para>By default, <command moreinfo="none">vim</command> runs in vi-incompatible mode.
    This may be new to users who have used other editors in the past. The
    <quote>nocompatible</quote> setting is included below to highlight the
    fact that a new behavior is being used. It also reminds those who would
    change to <quote>compatible</quote> mode that it should be the first
    setting in the configuration file. This is necessary because it changes
    other settings, and overrides must come after this setting. Create a
    default <command moreinfo="none">vim</command> configuration file by running the
    following:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/vimrc &lt;&lt; "EOF"
<literal moreinfo="none">" Begin /etc/vimrc

set nocompatible
set backspace=2
set ruler
syntax on
if (&amp;term == "iterm") || (&amp;term == "putty")
  set background=dark
endif

" End /etc/vimrc</literal>
EOF</userinput></screen>


    <para>The <parameter moreinfo="none">set nocompatible</parameter> makes
    <command moreinfo="none">vim</command> behave in a more useful way (the default) than
    the vi-compatible manner. Remove the <quote>no</quote> to keep the
    old <command moreinfo="none">vi</command> behavior. The <parameter moreinfo="none">set
    backspace=2</parameter> allows backspacing over line breaks,
    autoindents, and the start of insert. The <parameter moreinfo="none">syntax
    on</parameter> enables vim's syntax highlighting. Finally, the
    <emphasis>if</emphasis> statement with the <parameter moreinfo="none">set
    background=dark</parameter> corrects <command moreinfo="none">vim</command>'s guess
    about the background color of some terminal emulators. This gives the
    highlighting a better color scheme for use on the black background of
    these programs.</para>

    <para>Documentation for other available options can be obtained by
    running the following command:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">vim -c ':options'</userinput></screen>

  </sect2>

  <sect2 id="contents-vim" role="content">
    <title>Contents of Vim</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>efm_filter.pl, efm_perl.pl, ex (link to vim), less.sh, mve.awk,
        pltags.pl, ref, rview (link to vim), rvim (link to vim), shtags.pl,
        tcltags, vi (link to vim), view (link to vim), vim, vim132, vim2html.pl,
        vimdiff (link to vim), vimm, vimspell.sh, vimtutor, xxd</seg>
        <seg>/usr/share/vim</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="efm_filter.pl">
        <term><command moreinfo="none">efm_filter.pl</command></term>
        <listitem>
          <para>A filter for creating an error file that can be read
          by <command moreinfo="none">vim</command></para>
          <indexterm zone="ch-system-vim efm_filter.pl" significance="normal">
            <primary sortas="b-efm_filter.pl">efm_filter.pl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="efm_perl.pl">
        <term><command moreinfo="none">efm_perl.pl</command></term>
        <listitem>
          <para>Reformats the error messages of the Perl interpreter for use
          with the <quote>quickfix</quote> mode of <command moreinfo="none">vim</command></para>
          <indexterm zone="ch-system-vim efm_perl.pl" significance="normal">
            <primary sortas="b-efm_perl.pl">efm_perl.pl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ex">
        <term><command moreinfo="none">ex</command></term>
        <listitem>
          <para>Starts <command moreinfo="none">vim</command> in ex mode</para>
          <indexterm zone="ch-system-vim ex" significance="normal">
            <primary sortas="b-ex">ex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="less.sh">
        <term><command moreinfo="none">less.sh</command></term>
        <listitem>
          <para>A script that starts <command moreinfo="none">vim</command> with less.vim</para>
          <indexterm zone="ch-system-vim less.sh" significance="normal">
            <primary sortas="b-less.sh">less.sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mve.awk">
        <term><command moreinfo="none">mve.awk</command></term>
        <listitem>
          <para>Processes <command moreinfo="none">vim</command> errors</para>
          <indexterm zone="ch-system-vim mve.awk" significance="normal">
            <primary sortas="b-mve.awk">mve.awk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pltags.pl">
        <term><command moreinfo="none">pltags.pl</command></term>
        <listitem>
          <para>Creates a tags file for Perl code for use by
          <command moreinfo="none">vim</command></para>
          <indexterm zone="ch-system-vim pltags.pl" significance="normal">
            <primary sortas="b-pltags.pl">pltags.pl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ref">
        <term><command moreinfo="none">ref</command></term>
        <listitem>
          <para>Checks the spelling of arguments</para>
          <indexterm zone="ch-system-vim ref" significance="normal">
            <primary sortas="b-ref">ref</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rview">
        <term><command moreinfo="none">rview</command></term>
        <listitem>
          <para>Is a restricted version of <command moreinfo="none">view</command>; no shell
          commands can be started and <command moreinfo="none">view</command> cannot be
          suspended</para>
          <indexterm zone="ch-system-vim rview" significance="normal">
            <primary sortas="b-rview">rview</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rvim">
        <term><command moreinfo="none">rvim</command></term>
        <listitem>
          <para>Is a restricted version of <command moreinfo="none">vim</command>; no shell
          commands can be started and <command moreinfo="none">vim</command> cannot be
          suspended</para>
          <indexterm zone="ch-system-vim rvim" significance="normal">
            <primary sortas="b-rvim">rvim</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="shtags.pl">
        <term><command moreinfo="none">shtags.pl</command></term>
        <listitem>
          <para>Generates a tags file for Perl scripts</para>
          <indexterm zone="ch-system-vim shtags.pl" significance="normal">
            <primary sortas="b-shtags.pl">shtags.pl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcltags">
        <term><command moreinfo="none">tcltags</command></term>
        <listitem>
          <para>Generates a tags file for TCL code</para>
          <indexterm zone="ch-system-vim tcltags" significance="normal">
            <primary sortas="b-tcltags">tcltags</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="view">
        <term><command moreinfo="none">view</command></term>
        <listitem>
          <para>Starts <command moreinfo="none">vim</command> in read-only mode</para>
          <indexterm zone="ch-system-vim view" significance="normal">
            <primary sortas="b-view">view</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vi">
        <term><command moreinfo="none">vi</command></term>
        <listitem>
          <para>Link to <command moreinfo="none">vim</command></para>
          <indexterm zone="ch-system-vim vi" significance="normal">
            <primary sortas="b-vi">vi</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vim">
        <term><command moreinfo="none">vim</command></term>
        <listitem>
          <para>Is the editor</para>
          <indexterm zone="ch-system-vim vim" significance="normal">
            <primary sortas="b-vim">vim</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vim132">
        <term><command moreinfo="none">vim132</command></term>
        <listitem>
          <para>Starts <command moreinfo="none">vim</command> with the terminal in 132-column
          mode</para>
          <indexterm zone="ch-system-vim vim132" significance="normal">
            <primary sortas="b-vim132">vim132</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vim2html.pl">
        <term><command moreinfo="none">vim2html.pl</command></term>
        <listitem>
          <para>Converts Vim documentation to HypterText Markup Language
          (HTML)</para>
          <indexterm zone="ch-system-vim vim2html.pl" significance="normal">
            <primary sortas="b-vim2html.pl">vim2html.pl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vimdiff">
        <term><command moreinfo="none">vimdiff</command></term>
        <listitem>
          <para>Edits two or three versions of a file with <command moreinfo="none">vim</command>
          and show differences</para>
          <indexterm zone="ch-system-vim vimdiff" significance="normal">
            <primary sortas="b-vimdiff">vimdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vimm">
        <term><command moreinfo="none">vimm</command></term>
        <listitem>
          <para>Enables the DEC locator input model on a remote terminal</para>
          <indexterm zone="ch-system-vim vimm" significance="normal">
            <primary sortas="b-vimm">vimm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vimspell.sh">
        <term><command moreinfo="none">vimspell.sh</command></term>
        <listitem>
          <para>Spell checks a file and generates the syntax statements
          necessary to highlight in <command moreinfo="none">vim</command>. This script
          requires the old Unix <command moreinfo="none">spell</command> command, which
          is provided neither in CLFS nor in CBLFS</para>
          <indexterm zone="ch-system-vim vimspell.sh" significance="normal">
            <primary sortas="b-vimspell.sh">vimspell.sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vimtutor">
        <term><command moreinfo="none">vimtutor</command></term>
        <listitem>
          <para>Teaches the basic keys and commands of
          <command moreinfo="none">vim</command></para>
          <indexterm zone="ch-system-vim vimtutor" significance="normal">
            <primary sortas="b-vimtutor">vimtutor</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xxd">
        <term><command moreinfo="none">xxd</command></term>
        <listitem>
          <para>Creates a hex dump of the given file; it can
          also do the reverse, so it can be used for binary patching</para>
          <indexterm zone="ch-system-vim xxd" significance="normal">
            <primary sortas="b-xxd">xxd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-colo" role="wrap" xml:base="mips64/colo.xml">
  <?dbhtml filename="colo.html"?>

  <title>Colo-1.22</title>

  <indexterm zone="ch-system-colo" significance="normal">
    <primary sortas="a-Colo">Colo</primary>
  </indexterm>

  <sect2 role="package" xml:base="../mips/colo.xml">
    <title/>

    <para>The Colo package contains the Cobalt Boot Loader.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Colo</title>

    <note os="a" xml:base="../mips/colo.xml">
    <para>This bootloader is for the MIPS based cobalt servers RaQ,
    RaQ2, Qube, or the Qube2.</para>
  </note>

    <para os="p1">This patch updates the Colo bootloader to build under
    64 bit:</para>

<screen os="p2" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../colo-1.22-make_fix-1.patch</userinput></screen>

    <para os="p3" xml:base="../mips/colo.xml">This patch fixes a relocation error when linking with
    Binutils:</para>

    <screen os="p4" xml:base="../mips/colo.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../colo-1.22-relocation_fix-1.patch</userinput></screen>

    <para os="s1" xml:base="../mips/colo.xml">Disable -Werror in one of the <filename moreinfo="none">Makefile</filename>s
    to prevent a compile failure:</para>

    <screen os="s2" xml:base="../mips/colo.xml" format="linespecific"><userinput moreinfo="none">sed -i '/^CFLAGS/s/-Werror //' stage2/Makefile</userinput></screen>

    <para os="b" xml:base="../mips/colo.xml">Compile the Colo package:</para>

<screen format="linespecific"><userinput moreinfo="none">make binary
make CC="gcc ${BUILD64}" tooldirs</userinput></screen>

    <para os="c" xml:base="../mips/colo.xml">Install the package:</para>

    <screen os="d" xml:base="../mips/colo.xml" format="linespecific"><userinput moreinfo="none">install -dv  /usr/lib/colo/examples
install -v chain/colo-chain.elf /usr/lib/colo
install -v tools/lcdtools/e2fsck-lcd/e2fsck-lcd /sbin
install -v tools/lcdtools/e2fsck-lcd/e2fsck-lcd.8 /usr/man/man8
install -v tools/lcdtools/paneld/paneld /sbin
install -v tools/lcdtools/paneld/paneld.8 /usr/man/man8
install -v tools/lcdtools/putlcd/putlcd /sbin
install -v tools/lcdtools/putlcd/putlcd.8 /usr/man/man8
install -v examples/menu.colo /usr/lib/colo/examples
install -v examples/simple.colo /usr/lib/colo/examples
cp -v chain/colo-chain.elf /boot/vmlinux
gzip -9 /boot/vmlinux</userinput></screen>

  </sect2>

  <sect2 id="contents-colo" role="content" xml:base="../mips/colo.xml">
    <title>Contents of Colo</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>colo-chain.elf, e2fsck-lcd, paneld and putlcd</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="colo-chain.elf">
        <term><command moreinfo="none">colo</command></term>
        <listitem>
          <para>Is the Cobalt Bootloader's chain mode executeable. This
          file gets gzipped and renamed to <filename moreinfo="none">vmlinux.gz</filename>,
          so it can be booted automatically by the Cobalt's existing
          firmware</para>
          <indexterm zone="ch-system-colo colo-chain.elf" significance="normal">
            <primary sortas="b-colo-chain.elf">colo-chain.elf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="e2fsck-lcd">
        <term><command moreinfo="none">e2fsck-lcd</command></term>
        <listitem>
          <para>Will output file system check progress information on the
          Cobalt LCD</para>
          <indexterm zone="ch-system-colo e2fsck-lcd" significance="normal">
            <primary sortas="b-e2fsck-lcd">e2fsck-lcd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="paneld">
        <term><command moreinfo="none">paneld</command></term>
        <listitem>
          <para>Is an admin tool for the LCD panel of Cobalt machines. By
          default, it will display the current time and optionally a message.
          When you hold the enter or select button for a couple of seconds
          you will get an admin menu. The menu will allow you to either halt
          or reboot your Cobalt machine</para>
          <indexterm zone="ch-system-colo paneld" significance="normal">
            <primary sortas="b-paneld">paneld</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="putlcd">
        <term><command moreinfo="none">putlcd</command></term>
        <listitem>
          <para>Is a tool to display text on the LCD display of Cobalt
          machines</para>
          <indexterm zone="ch-system-colo putlcd" significance="normal">
            <primary sortas="b-putlcd">putlcd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="md5rom">
        <term><command moreinfo="none">md5rom</command></term>
        <listitem>
          <para>Will output the MD5 checksum of a Cobalt's ROM</para>
          <indexterm zone="ch-system-colo md5rom" significance="normal">
            <primary sortas="b-md5rom">md5rom</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-system-dvhtool" role="wrap" xml:base="mips64/dvhtool.xml">
  <?dbhtml filename="dvhtool.html"?>

  <title>Dvhtool-1.0.1</title>

  <indexterm zone="ch-system-dvhtool" significance="normal">
    <primary sortas="a-Dvhtool">Dvhtool</primary>
  </indexterm>

  <sect2 role="package" xml:base="../mips/dvhtool.xml">
    <title/>

    <para>The Dvhtool package is used to manipulate volume headers
    of devices using sgi disk labels.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Dvhtool</title>

    <note os="a" xml:base="../mips/dvhtool.xml">
    <para>This program is required for the Arcload bootloader, which is for
    SGI Workstations and SGI Servers based on MIPS Processors.</para>
  </note>

    <para os="b" xml:base="../mips/dvhtool.xml">This patch fixes build issues with Dvhtool and adds support
    for LVM and Linux partitions:</para>

    <screen os="c" xml:base="../mips/dvhtool.xml" format="linespecific"><userinput moreinfo="none">patch -Np1 -i ../dvhtool-1.0.1-fixes-1.patch</userinput></screen>

    <para os="d" xml:base="../mips/dvhtool.xml">Prepare Dvhtool  for compilation:</para>

<screen os="e" format="linespecific"><userinput moreinfo="none">CC="gcc ${BUILD64}" \
./configure \
    --prefix=/usr</userinput></screen>

    <para os="f" xml:base="../mips/dvhtool.xml">Compile the package:</para>

    <screen os="g" xml:base="../mips/dvhtool.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="h" xml:base="../mips/dvhtool.xml">Install the package:</para>

    <screen os="i" xml:base="../mips/dvhtool.xml" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

<!--
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
  href="../mips/dvhtool.xml"
  xpointer="xpointer(id('contents-dvhtool'))"/>
-->

</sect1>
  <sect1 id="ch-system-arcload" role="wrap" xml:base="mips64-64/arcload.xml">
  <?dbhtml filename="arcload.html"?>

  <title>Arcload-0.5</title>

  <indexterm zone="ch-system-arcload" significance="normal">
    <primary sortas="a-Arcload">Arcload</primary>
  </indexterm>

  <sect2 role="package" xml:base="../mips/arcload.xml">
    <title/>

    <para>The Arcload package contains a SGI Bootloader.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Arcload</title>

    <note os="a" xml:base="../mips/arcload.xml">
    <para>This program is the Arcload bootloader, which is for
    SGI Workstations and SGI Servers based on MIPS Processors.</para>
  </note>

    <para os="d" xml:base="../mips/arcload.xml">Compile the package:</para>

<screen format="linespecific"><userinput moreinfo="none">make MODE=M64 clean
make CC="gcc" LD="ld" MODE=M64</userinput></screen>

    <para os="f" xml:base="../mips/arcload.xml">Install the package:</para>

<screen format="linespecific"><userinput moreinfo="none">install -dv /usr/lib/arcload
cp -v arcload /usr/lib/arcload/sash64</userinput></screen>

  </sect2>

<!--
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
  href="../mips/arcload.xml"
  xpointer="xpointer(id('contents-arcload'))"/>
-->

</sect1>
  <sect1 id="ch-system-aboutdebug" xml:base="common/aboutdebug.xml">
  <?dbhtml filename="aboutdebug.html"?>

  <title>About Debugging Symbols</title>

  <para os="a">Most programs and libraries are, by default, compiled with debugging
  symbols included (with <command moreinfo="none">gcc</command>'s <option>-g</option> option).
  This means that when debugging a program or library that was compiled with
  debugging information included, the debugger can provide not only memory
  addresses, but also the names of the routines and variables.</para>

  <para os="b">However, the inclusion of these debugging symbols enlarges a
  program or library significantly. The following is an example of the
  amount of space these symbols occupy:</para>

  <itemizedlist os="c">
    <listitem os="c1">
      <para>a bash binary with debugging symbols: 1200 KB</para>
    </listitem>
    <listitem os="c2">
      <para>a bash binary without debugging symbols: 480 KB</para>
    </listitem>
    <listitem os="c3">
      <para>Glibc and GCC files (<filename class="directory" moreinfo="none">/lib</filename>
      and <filename class="directory" moreinfo="none">/usr/lib</filename>) with debugging
      symbols: 87 MB</para>
    </listitem>
    <listitem os="c4">
      <para>Glibc and GCC files without debugging symbols: 16 MB</para>
    </listitem>
  </itemizedlist>

  <para os="d">Sizes may vary depending on which compiler and C library were used,
  but when comparing programs with and without debugging symbols, the
  difference will usually be a factor between two and five.</para>

  <para os="e">Because most users will never use a debugger on their system software,
  a lot of disk space can be regained by removing these symbols. The next
  section shows how to strip all debugging symbols from the programs and
  libraries.</para>

</sect1>
  <sect1 id="ch-system-stripping" xml:base="common/stripping.xml">
  <?dbhtml filename="stripping.html"?>

  <title>Stripping</title>

  <para os="a">If the intended user is not a programmer and does not plan to do
  any debugging on the system software, the system size can be decreased
  by about 200 MB by removing the debugging symbols from binaries and
  libraries. This causes no inconvenience other than not being able to
  debug the software fully anymore.</para>

  <para os="b">Most people who use the command mentioned below do not
  experience any difficulties. However, it is easy to make a typo and
  render the new system unusable, so before running the
  <command moreinfo="none">strip</command> command, it is a good idea to make a
  backup of the current situation.</para>

  <para os="c">Before performing the stripping, take special care to ensure that
  none of the binaries that are about to be stripped are running. If
  unsure whether the user entered chroot with the command given in
  <xref linkend="chapter-chroot" role=","/> first exit from
  chroot:</para>

<screen os="d" role="nodump" format="linespecific"><userinput moreinfo="none">logout</userinput></screen>

    <para os="e">Then reenter it with:</para>

<screen os="f" role="nodump" format="linespecific"><userinput moreinfo="none">chroot ${CLFS} /tools/bin/env -i \
    HOME=/root TERM=${TERM} PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /tools/bin/bash --login</userinput></screen>

    <para os="g">Now the binaries and libraries can be safely stripped:</para>

<screen os="h" format="linespecific"><userinput moreinfo="none">/tools/bin/find /{,usr/}{bin,lib,sbin} -type f \
   -exec /tools/bin/strip --strip-debug '{}' ';'</userinput></screen>

    <para os="i">A large number of files will be reported as having their file
    format not recognized. These warnings can be safely ignored. These
    warnings indicate that those files are scripts instead of
    binaries.</para>

    <para os="j">If disk space is very tight, the <option>--strip-all</option>
    option can be used on the binaries in <filename class="directory" moreinfo="none">/{,usr/}{bin,sbin}</filename> to gain several more
    megabytes. Do not use this option on libraries—they will be
    destroyed.</para>

</sect1>

</chapter>
    <chapter id="chapter-system-config" xreflabel="System Configuration" xml:base="system-config/mips64-64-chapter.xml">
  <?dbhtml dir="system-config"?>
  <?dbhtml filename="chapter.html"?>

  <title>System Configuration</title>

  <sect1 id="ch-config-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>This chapter details how to finish configuring the base system.
  This includes some final configuration for systemd as well as locales and
  a simple bash profile that should be suitable for most users.</para>

</sect1>
  <sect1 id="ch-config-usage" xml:base="common/usage.xml">
  <?dbhtml filename="usage.html"?>

  <title>How does Systemd work?</title>

  <indexterm zone="ch-config-usage" significance="normal">
    <primary sortas="a-systemd">Systemd</primary>
  <secondary>usage</secondary></indexterm>

  <warning>
    <para>Please disregard this page until it is complete and verified.</para>
  </warning>

  <sect2>
    <title>Introduction to Systemd</title>


    <para>Systemd is a system management daemon designed exclusively for the
    Linux kernel API. In the Linux startup process, it is the first process to
    execute in user land; therefore, it is also the parent process of all child
    processes in user land.</para>

    <para>Systemd's initialization instructions for each daemon are recorded in
    a declarative configuration file rather than a shell script. For
    inter-process communication, systemd makes Unix domain sockets and D-Bus
    available to the running daemons. Because systemd tracks processes using
    Linux cgroups instead of process identifiers (PIDs), daemons cannot "escape"
    systemd; not even by double-forking. Systemd is also capable of aggressive
    parallelization.</para>

    <para>Among systemd's auxiliary features are a cron-like job scheduler
    called systemd Calendar Timers, and an event logging subsystem called
    journal. The system administrator may choose whether to log system events
    with systemd or syslog. Systemd's logfile is a binary file. The state of
    systemd itself can be preserved in a snapshot for future recall.</para>

    <para>Systemd provides a replacement for sysvinit, pm-utils, inetd, acpid,
    syslog, watchdog, cron and atd, and obsoletes ConsoleKit.</para>

  </sect2>

  <sect2>
    <title>Systemctl</title>

    <para><command moreinfo="none">systemctl</command> is the main command used to introspect
     and control systemd.</para>

    <variablelist>

      <varlistentry>
        <term>List running units:</term>
        <listitem>
          <para><command moreinfo="none">systemctl</command> or <command moreinfo="none">systemctl list-units</command></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>List failed units:</term>
        <listitem>
          <para><command moreinfo="none">systemctl --failed</command></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>List available unit files:</term>
        <listitem>
          <para><command moreinfo="none">systemctl list-unit-files</command></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Activate a unit immediately:</term>
        <listitem>
          <para><command moreinfo="none">systemctl start</command> <replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Stop a unit immediately:</term>
        <listitem>
          <para><command moreinfo="none">systemctl stop </command><replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Restart a unit:</term>
        <listitem>
          <para><command moreinfo="none">systemctl restart </command><replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Reload unit configuration:</term>
        <listitem>
          <para><command moreinfo="none">systemctl reload </command><replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Show status of a unit:</term>
        <listitem>
          <para><command moreinfo="none">systemctl status </command><replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Check if a unit is enabled or disabled:</term>
        <listitem>
          <para><command moreinfo="none">systemctl is-enabled </command><replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Enable a unit to start during boot:</term>
        <listitem>
          <para><command moreinfo="none">systemctl enable </command><replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Disable a unit to not start during boot:</term>
        <listitem>
          <para><command moreinfo="none">systemctl disable </command><replaceable>unit</replaceable></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Reload systemd and scan for new or changed units:</term>
        <listitem>
          <para><command moreinfo="none">systemctl daemon-reload</command></para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>For more information regarding systemd, please refer to the systemd
    and related man-pages and
    <ulink url="https://fedoraproject.org/wiki/Systemd">Systemd at
    FedoraProject</ulink> for documentation, examples, features, and other
    information.</para>

  </sect2>

</sect1>
  <sect1 id="ch-config-clock" xml:base="common/clock.xml">
  <?dbhtml filename="clock.html"?>

  <title>Configuring the system clock</title>

  <indexterm zone="ch-config-clock" significance="normal">
    <primary sortas="d-clock">clock</primary>
  <secondary>configuring</secondary></indexterm>

  <para>This section discusses how to configure the
  <command moreinfo="none">systemd-timedated</command> system service, which configures
  system clock and timezone.</para>

  <para>Systemd provides a <command moreinfo="none">timedatectl</command> utility which is
  used to communicate with <command moreinfo="none">systemd-timedated</command>. It can be used
  to set the system clock in local time or UTC time, depending on the hardware
  clock setting. By default, <command moreinfo="none">systemd-timedated</command> will assume
  that clock is set to UTC time.</para>

  <para>If you cannot remember whether or not the hardware clock is set to UTC,
  find out by running the <userinput moreinfo="none">hwclock --localtime --show</userinput>
  command. This will display what the current time is according to the hardware
  clock. If this time matches whatever your watch says, then the hardware clock is
  set to local time. If the output from <command moreinfo="none">hwclock</command> is not local
  time, chances are it is set to UTC time. Verify this by adding or subtracting
  the proper amount of hours for the timezone to the time shown by
  <command moreinfo="none">hwclock</command>. For example, if you are currently in the MST
  timezone, which is also known as GMT -0700, add seven hours to the local
  time.</para>

  <para><command moreinfo="none">systemd-timedated</command> reads
  <filename moreinfo="none">/etc/adjtime</filename>, and depending on the contents of the file,
  it sets the clock to either UTC or local time.</para>

 <para>Create the <filename moreinfo="none">/etc/adjtime</filename> file with the following
 contents if your hardware clock is set to local time:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt; /etc/adjtime &lt;&lt; "EOF"
<literal moreinfo="none">0.0 0 0.0
0
LOCAL</literal>
EOF</userinput></screen>

 <para>If <filename moreinfo="none">/etc/adjtime</filename> isn't present at first boot,
 <command moreinfo="none">systemd-timedated</command> will assume that hardware clock is
 set to UTC and adjust the file according to that.</para>

  <para>If your clock is set to local time, tell
  <command moreinfo="none">systemd-timedated</command> about it by running the following
  command:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">timedatectl set-local-rtc 1</userinput></screen>

  <para><command moreinfo="none">timedatectl</command> can also be used to change system time and
  time zone.</para>

  <para>To change your current system time, issue:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">timedatectl set-time YYYY:MM:DD HH:MM:SS</userinput></screen>

  <para>Hardware clock will also be updated accordingly.</para>

  <para>To change your current time zone, issue:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">timedatectl set-timezone TIMEZONE</userinput></screen>

  <para>You can get list of available time zones by running:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">timedatectl list-timezones</userinput></screen>

  <note><para>Please note that <command moreinfo="none">timedatectl</command> command can
  be used only on a system booted with systemd.</para></note>

</sect1>
  <sect1 id="ch-config-console" xml:base="common/console.xml">
  <?dbhtml filename="console.html"?>
  <title>Configuring the Linux Console</title>

  <indexterm zone="ch-config-console" significance="normal">
    <primary sortas="d-console">console</primary>
  <secondary>configuring</secondary></indexterm>

  <para>This section discusses how to configure the
  <command moreinfo="none">systemd-vconsole-setup</command> system service which configures
  the virtual console font and console keymap.

  The <command moreinfo="none">systemd-vconsole-setup</command> service reads <filename moreinfo="none">
  /etc/vconsole.conf</filename> for configuration information. Decide which
  keymap and screen font will be used. Various language-specific HOWTO's can
  help. with this (see
  <ulink url="http://www.tldp.org/HOWTO/HOWTO-INDEX/other-lang.html"/>. Examine
  <command moreinfo="none">localectl list-keymaps</command> output for a list of valid console
  keymaps. Look in
  <filename class="directory" moreinfo="none">/usr/share/consolefonts</filename> for valid
  screen fonts.</para>

  <para>The <filename moreinfo="none">/etc/vconsole.conf</filename> file should contain lines
  of the form: VARIABLE="value". The following variables are recognized:</para>

  <variablelist>

    <varlistentry>
      <term>KEYMAP</term>
      <listitem>
        <para>This variable specifies the key mapping table for the keyboard. If
        unset, it defaults to <literal moreinfo="none">us</literal>.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>KEYMAP_TOGGLE</term>
      <listitem>
        <para>This variable can be used to configure a second toggle keymap and
        is unset by default.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>FONT</term>
      <listitem>
        <para>This variable specifies the font used by the virtual
        console.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>FONT_MAP</term>
      <listitem>
        <para>This variable specifies the console map to be used.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>FONT_UNIMAP</term>
      <listitem>
        <para>This variable specifies the unicode font map.</para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para>An example for a German keyboard and console is given below:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt; /etc/vconsole.conf &lt;&lt; "EOF"
<literal moreinfo="none">KEYMAP=de-latin1
FONT=Lat2-Terminus16</literal>
EOF</userinput></screen>

  <para>You can change KEYMAP value at runtime by using the
  <command moreinfo="none">localectl</command> utility:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">localectl set-keymap MAP</userinput></screen>

  <note><para>Please note that <command moreinfo="none">localectl</command> command can
  be used  only on a system booted with systemd.</para></note>

  <para>You can also use <command moreinfo="none">localectl</command> utility with the
  corresponding parameters to change X11 keyboard layout, model, variant
  and options:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">localectl set-x11-keymap LAYOUT [MODEL] [VARIANT] [OPTIONS]</userinput></screen>

  <para>To list possible values for <command moreinfo="none">localectl set-x11-keymap</command>
  parameters, run <command moreinfo="none">localectl</command> with parameters listed below:
  </para>

  <variablelist>

    <varlistentry>
      <term>list-x11-keymap-models</term>
      <listitem>
        <para>Show known X11 keyboard mapping models.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>list-x11-keymap-layouts</term>
      <listitem>
        <para>Show known X11 keyboard mapping layouts.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>list-x11-keymap-variants</term>
      <listitem>
        <para>Show known X11 keyboard mapping variants.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>list-x11-keymap-options</term>
      <listitem>
        <para>Show known X11 keyboard mapping options.</para>
      </listitem>
    </varlistentry>

  </variablelist>

  <note><para>Using any of the parameters listed above requires
  <ulink url="http://cblfs.clfs.org/index.php/Xorg7/Data">
  XKeyboard Client</ulink> package from CBLFS.</para></note>

</sect1>
  <sect1 id="ch-config-udev" xml:base="common/udev.xml">
  <?dbhtml filename="udev.html"?>

  <title>Device and Module Handling on a CLFS System</title>

  <indexterm zone="ch-config-udev" significance="normal">
    <primary sortas="a-Udev">Udev</primary>
    <secondary>usage</secondary>
  </indexterm>

  <para>In <xref linkend="chapter-building-system"/>, we installed Udev,
  as one of the components of systemd. Before we go into the details regarding
  how this works, a brief history of previous methods of handling devices is in
  order.</para>

  <sect2>
    <title>History</title>

    <sect3>
      <title>Static Device Nodes</title>

      <para>Linux systems in general traditionally use a static device creation
      method, whereby a great many device nodes are created under <filename class="directory" moreinfo="none">/dev</filename> (sometimes literally thousands of
      nodes), regardless of whether the corresponding hardware devices actually
      exist. This is typically done via a <command moreinfo="none">MAKEDEV</command> script,
      which contains a number of calls to the <command moreinfo="none">mknod</command> program
      with the relevant major and minor device numbers for every possible
      device that might exist in the world.</para>

    </sect3>

    <sect3>
      <title>Devfs</title>

      <para>In February 2000, a new filesystem called <systemitem class="filesystem" moreinfo="none">devfs</systemitem>, which dynamically created device
      nodes as devices were found by the kernel, was merged into the
      2.3.46 kernel and was made available during the 2.4 series of stable
      kernels. Although it was present in the kernel source itself, this method
      of creating devices dynamically never received overwhelming support from
      the core kernel developers.</para>

      <para>The main problem with the approach adopted by <systemitem class="filesystem" moreinfo="none">devfs</systemitem> was the way it handled device
      detection, creation, and naming. The latter issue, that of device node
      naming, was perhaps the most critical. It is generally accepted that if
      device names are allowed to be configurable, then the device naming policy
      should be up to a system administrator, not imposed on them by any
      particular developer(s). The <systemitem class="filesystem" moreinfo="none">devfs</systemitem> file system also suffered from race
      conditions that were inherent in its design and could not be fixed without
      a substantial revision to the kernel. It was marked deprecated with the
      release of the 2.6 kernel series, and was removed entirely as of version
      2.6.18.</para>

    </sect3>

    <sect3>
      <title>Sysfs</title>

      <para>With the development of the unstable 2.5 kernel tree, later released
      as the 2.6 series of stable kernels, a new virtual filesystem called
      <systemitem class="filesystem" moreinfo="none">sysfs</systemitem> came to be. The job of
      <systemitem class="filesystem" moreinfo="none">sysfs</systemitem> is to export a view of
      the system's hardware configuration to userspace processes. Drivers that
      have been compiled into the kernel directly register their objects with
      <systemitem class="filesystem" moreinfo="none">sysfs</systemitem> as they are detected by
      the kernel. For drivers compiled as modules, this registration will happen
      when the module is loaded. Once the <systemitem class="filesystem" moreinfo="none">sysfs</systemitem> filesystem is mounted (on <filename class="directory" moreinfo="none">/sys</filename>), data which the built-in drivers
      registered with <systemitem class="filesystem" moreinfo="none">sysfs</systemitem> are
      available to userspace processes. With this userspace-visible
      representation, the possibility of seeing a userspace replacement for
      <systemitem class="filesystem" moreinfo="none">devfs</systemitem> became much more
      realistic.</para>

    </sect3>

    <sect3>
      <title>Udev Implementation</title>

      <para>Shortly after the introduction of
      <systemitem class="filesystem" moreinfo="none">sysfs</systemitem>, work began on a
      program called Udev to advantage of it. The <command moreinfo="none">udev</command>
      daemon made calls to <function moreinfo="none">mknod()</function> to create device nodes
      in <filename class="directory" moreinfo="none">/dev</filename> dynamically, based on the
      information from <systemitem class="filesystem" moreinfo="none">sysfs</systemitem>, in
      <filename class="directory" moreinfo="none">/sys</filename>. For example,
      <filename moreinfo="none">/sys/class/tty/vcs/dev</filename> contains the string
      <quote>7:0</quote>. This string was used by <command moreinfo="none">udev</command>
      to create a device node with major number <emphasis>7</emphasis> and
      minor number <emphasis>0</emphasis>.</para>

      <para>Linux kernel version 2.6.32 introduced a new virtual file system
      called <systemitem class="filesystem" moreinfo="none">devtmpfs</systemitem>, an improved
      replacement for <systemitem class="filesystem" moreinfo="none">devfs</systemitem>. This
      allows device nodes to once again be dynamically created by the kernel,
      without many of the problems of
      <systemitem class="filesystem" moreinfo="none">devfs</systemitem>. As of version 176,
      Udev no longer creates device nodes itself, instead relying on
      <systemitem class="filesystem" moreinfo="none">devtmpfs</systemitem> to do so.</para>

    </sect3>

    <sect3>
      <title>Systemd and Eudev</title>

        <para>In 2010, development began on systemd, an alternate
        <command moreinfo="none">init</command> implementation. Starting with Udev 183, Udev's
        source tree was merged with systemd. Several Gentoo
        developers who disagreed with this merge announced a project fork
        called Eudev in December 2012, created by extracting the
        Udev code from systemd. One of the goals of Eudev is to allow for
        easier installation and usage of <command moreinfo="none">udevd</command> without
        the need for the rest of systemd.</para>
    </sect3>

  </sect2>

  <sect2>
    <title>Device Node Creation</title>

    <para>By default, device nodes created by the kernel in a
    <systemitem class="filesystem" moreinfo="none">devtmpfs</systemitem> are owned by
    <emphasis>root:root</emphasis> and have <emphasis>600</emphasis>
    permissions. <command moreinfo="none">udevd</command> can modify ownership and permissions
    of the nodes under the <filename class="directory" moreinfo="none">/dev</filename>
    directory, and can also create additional symlinks, based on rules
    specified in the files within the
    <filename class="directory" moreinfo="none">/etc/udev/rules.d</filename>,
    <filename class="directory" moreinfo="none">/lib/udev/rules.d</filename>,
    and <filename class="directory" moreinfo="none">/run/udev/rules.d</filename> directories.
    The names for these files start with a number, to indicate the order in
    which they are run, and they have a <filename moreinfo="none">.rules</filename>
    extension (<command moreinfo="none">udevd</command> will ignore files with any other
    extension). All of the rules files from these directories are combined into
    a single list, sorted by filename, and run in that order. In the event of
    a conflict, where a rules file with the same name exists in two or more of
    these directories, the rules in <filename class="directory" moreinfo="none">/etc</filename>
    take the highest priority, followed by rules files in
    <filename class="directory" moreinfo="none">/run</filename>, and finally
    <filename class="directory" moreinfo="none">/lib</filename>. Any device for which a rule
    cannot be found will just be ignored by <command moreinfo="none">udevd</command>
    and be left at the defaults defined by the kernel, as described above. For
    more details about writing Udev rules, see
    <filename moreinfo="none"><ulink url="/usr/share/doc/systemd-233/udev.html"/></filename>.</para>

  </sect2>

  <sect2>
    <title>Module Loading</title>

    <para>Device drivers compiled as modules may have aliases built into them.
    Aliases are visible in the output of the <command moreinfo="none">modinfo</command>
    program and are usually related to the bus-specific identifiers of devices
    supported by a module. For example, the <emphasis>snd-fm801</emphasis>
    driver supports PCI devices with vendor ID 0x1319 and device ID 0x0801,
    and has an alias of <quote>pci:v00001319d00000801sv*sd*bc04sc01i*</quote>.
    For most devices, the bus driver exports the alias of the driver that
    would handle the device via <systemitem class="filesystem" moreinfo="none">sysfs</systemitem>. E.g., the
    <filename moreinfo="none">/sys/bus/pci/devices/0000:00:0d.0/modalias</filename> file
    might contain the string
    <quote>pci:v00001319d00000801sv00001319sd00001319bc04sc01i00</quote>.
    The default rules provided by Udev will cause <command moreinfo="none">udevd</command>
    to call out to <command moreinfo="none">/sbin/modprobe</command> with the contents of the
    <envar>MODALIAS</envar> uevent environment variable (that should be the
    same as the contents of the <filename moreinfo="none">modalias</filename> file in sysfs),
    thus loading all modules whose aliases match this string after wildcard
    expansion.</para>

    <para>In this example, this means that, in addition to
    <emphasis>snd-fm801</emphasis>, the obsolete (and unwanted)
    <emphasis>forte</emphasis> driver will be loaded if it is
    available. See below for ways in which the loading of unwanted drivers can
    be prevented.</para>

    <para>The kernel itself is also able to load modules for network
    protocols, filesystems and NLS support on demand.</para>

  </sect2>

  <sect2>
    <title>Problems with Loading Modules and Creating Devices</title>

    <para>There are a few possible problems when it comes to automatically
    creating device nodes.</para>

    <sect3>
      <title>A kernel module is not loaded automatically</title>

      <para>Udev will only load a module if it has a bus-specific alias and the
      bus driver properly exports the necessary aliases to <systemitem class="filesystem" moreinfo="none">sysfs</systemitem>. In other cases, one should
      arrange module loading by other means. With Linux-4.9.21, Udev
      is known to load properly-written drivers for INPUT, IDE, PCI, USB, SCSI,
      SERIO and FireWire devices.</para>

      <para>To determine if the device driver you require has the necessary
      support for Udev, run <command moreinfo="none">modinfo</command> with the module name as
      the argument.  Now try locating the device directory under
      <filename class="directory" moreinfo="none">/sys/bus</filename> and check whether there is
      a <filename moreinfo="none">modalias</filename> file there.</para>

      <para>If the <filename moreinfo="none">modalias</filename> file exists in <systemitem class="filesystem" moreinfo="none">sysfs</systemitem>, the driver supports the device and
      can talk to it directly, but doesn't have the alias, it is a bug in the
      driver. Load the driver without the help from Udev and expect the issue
      to be fixed later.</para>

      <para>If there is no <filename moreinfo="none">modalias</filename> file in the relevant
      directory under <filename class="directory" moreinfo="none">/sys/bus</filename>, this
      means that the kernel developers have not yet added modalias support to
      this bus type. With Linux-4.9.21, this is the
      case with ISA busses. Expect this issue to be fixed in later kernel
      versions.</para>

      <para>Udev is not intended to load <quote>wrapper</quote> drivers such as
      <emphasis>snd-pcm-oss</emphasis> and non-hardware drivers such as
      <emphasis>loop</emphasis> at all.</para>

    </sect3>

    <sect3>
      <title>A kernel module is not loaded automatically, and Udev is not
      intended to load it</title>

      <para>If the <quote>wrapper</quote> module only enhances the functionality
      provided by some other module (e.g., <emphasis>snd-pcm-oss</emphasis>
      enhances the functionality of <emphasis>snd-pcm</emphasis> by making the
      sound cards available to OSS applications), configure
      <command moreinfo="none">modprobe</command> to load the wrapper after Udev loads the
      wrapped module. To do this, add an <quote>install</quote> line to a file
      in <filename moreinfo="none">/etc/modprobe.d</filename>. For example:</para>

<screen role="nodump" format="linespecific"><literal moreinfo="none">install snd-pcm /sbin/modprobe -i snd-pcm ; \
    /sbin/modprobe snd-pcm-oss ; true</literal></screen>

      <para>If the module in question is not a wrapper and is useful by itself,
      configure the <command moreinfo="none">S05modules</command> bootscript to load this
      module on system boot. To do this, add the module name to the
      <filename moreinfo="none">/etc/sysconfig/modules</filename> file on a separate line.
      This works for wrapper modules too, but is suboptimal in that case.</para>

    </sect3>

    <sect3>
      <title>Udev loads some unwanted module</title>

      <para>Either don't build the module, or blacklist it in
      <filename moreinfo="none">/etc/modprobe.d</filename> file as done with the
      <emphasis>forte</emphasis> module in the example below:</para>

<screen role="nodump" format="linespecific"><literal moreinfo="none">blacklist forte</literal></screen>

      <para>Blacklisted modules can still be loaded manually with the
      explicit <command moreinfo="none">modprobe</command> command.</para>

    </sect3>

    <sect3>
      <title>Udev makes a wrong symlink</title>

      <para>This usually happens if a rule unexpectedly matches a device. For
      example, a poorly-written rule can match both a SCSI disk (as desired)
      and the corresponding SCSI generic device (incorrectly) by vendor.
      Find the offending rule and make it more specific, with the help of
      <command moreinfo="none">udevadm info</command>.</para>

    </sect3>

    <sect3>
      <title>Udev rule works unreliably</title>

      <para>This may be another manifestation of the previous problem. If not,
      and your rule uses <systemitem class="filesystem" moreinfo="none">sysfs</systemitem>
      attributes, it may be a kernel timing issue, to be fixed in later kernels.
      For now, you can work around it by creating a rule that waits for the used
      <systemitem class="filesystem" moreinfo="none">sysfs</systemitem> attribute and appending
      it to the <filename moreinfo="none">/etc/udev/rules.d/10-wait_for_sysfs.rules</filename>
      file. Please notify the CLFS Development list if you do so and it
      helps.</para>

    </sect3>

    <sect3>
      <title>Device naming order changes randomly after rebooting</title>

      <para>This is due to the fact that Udev, by design, handles uevents and
      loads modules in parallel, and thus in an unpredictable order. This will
      never be <quote>fixed</quote>. You should not rely upon the kernel device
      names being stable. Instead, create your own rules that make symlinks with
      stable names based on some stable attributes of the device, such as a
      serial number or the output of various *_id utilities installed by Udev.
      See <xref linkend="ch-config-symlinks"/> and
      <xref linkend="chapter-network"/> for examples.</para>

    </sect3>

  </sect2>

  <sect2>
    <title>Useful Reading</title>

    <para>Additional helpful documentation is available at the following
    sites:</para>

    <itemizedlist>

      <listitem>
        <para remap="verbatim">A Userspace Implementation of <systemitem class="filesystem" moreinfo="none">devfs</systemitem>
        <ulink url="http://www.kroah.com/linux/talks/ols_2003_udev_paper/Reprint-Kroah-Hartman-OLS2003.pdf"/></para>
      </listitem>

      <listitem>
        <para remap="verbatim">The <systemitem class="filesystem" moreinfo="none">sysfs</systemitem> Filesystem
        <ulink url="http://www.kernel.org/pub/linux/kernel/people/mochel/doc/papers/ols-2005/mochel.pdf"/></para>
      </listitem>

    </itemizedlist>

  </sect2>

</sect1>
  <sect1 id="ch-config-symlinks" xml:base="common/symlinks.xml">
  <?dbhtml filename="symlinks.html"?>

  <title>Creating custom symlinks to devices</title>

  <sect2>

    <title>CD-ROM symlinks</title>

    <para>Some software that you may want to install later (e.g., various
    media players) expect the /dev/cdrom and /dev/dvd symlinks to exist.
    Also, it may be convenient to put references to those symlinks into
    <filename moreinfo="none">/etc/fstab</filename>. For each of your CD-ROM devices,
    find the corresponding directory under
    <filename class="directory" moreinfo="none">/sys</filename> (e.g., this can be
    <filename class="directory" moreinfo="none">/sys/block/hdd</filename>) and
    run a command similar to the following:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">udevadm test /sys/block/hdd</userinput></screen>

    <para>Look at the lines containing the output of various *_id programs.</para>

    <para>There are two approaches to creating symlinks. The first one is to
    use the model name and the serial number, the second one is based on the
    location of the device on the bus. If you are going to use the first
    approach, create a file similar to the following:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt;/etc/udev/rules.d/82-cdrom.rules &lt;&lt; EOF
<literal moreinfo="none">
# Custom CD-ROM symlinks
SUBSYSTEM=="block", ENV{ID_MODEL}=="SAMSUNG_CD-ROM_SC-148F", \
    ENV{ID_REVISION}=="PS05", SYMLINK+="cdrom"
SUBSYSTEM=="block", ENV{ID_MODEL}=="PHILIPS_CDD5301", \
    ENV{ID_SERIAL}=="5VO1306DM00190", SYMLINK+="cdrom1 dvd"
</literal>
EOF</userinput></screen>

    <note>
      <para>Although the examples in this book work properly, be aware
      that Udev does not recognize the backslash for line continuation.
      If modifying Udev rules with an editor, be sure to leave each rule
      on one physical line.</para>
    </note>

    <para>This way, the symlinks will stay correct even if you move the drives
    to different positions on the IDE bus, but the
    <filename moreinfo="none">/dev/cdrom</filename> symlink won't be created if you replace
    the old SAMSUNG CD-ROM with a new drive.</para>
<!-- The symlinks in the first approach survive even the transition
     to libata for IDE drives, but that is not for the book. -->

    <para>The SUBSYSTEM=="block" key is needed in order to avoid
    matching SCSI generic devices. Without it, in the case with SCSI
    CD-ROMs, the symlinks will sometimes point to the correct
    <filename moreinfo="none">/dev/srX</filename> devices, and sometimes to
    <filename moreinfo="none">/dev/sgX</filename>, which is wrong.</para>

    <para>The second approach yields:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt;/etc/udev/rules.d/82-cdrom.rules &lt;&lt; EOF
<literal moreinfo="none">
# Custom CD-ROM symlinks
SUBSYSTEM=="block", ENV{ID_TYPE}=="cd", \
    ENV{ID_PATH}=="pci-0000:00:07.1-ide-0:1", SYMLINK+="cdrom"
SUBSYSTEM=="block", ENV{ID_TYPE}=="cd", \
    ENV{ID_PATH}=="pci-0000:00:07.1-ide-1:1", SYMLINK+="cdrom1 dvd"
</literal>
EOF</userinput></screen>

    <para>This way, the symlinks will stay correct even if you replace drives
    with different models, but place them to the old positions on the IDE
    bus. The ENV{ID_TYPE}=="cd" key makes sure that the symlink
    disappears if you put something other than a CD-ROM in that position on
    the bus.</para>

    <para>Of course, it is possible to mix the two approaches.</para>

  </sect2>

  <sect2>

    <title>Dealing with duplicate devices</title>

    <para>As explained in <xref linkend="ch-config-udev"/>, the order in
    which devices with the same function appear in
    <filename class="directory" moreinfo="none">/dev</filename> is essentially random.
    E.g., if you have a USB web camera and a TV tuner, sometimes
    <filename moreinfo="none">/dev/video0</filename> refers to the camera and
    <filename moreinfo="none">/dev/video1</filename> refers to the tuner, and sometimes
    after a reboot the order changes to the opposite one.
    For all classes of hardware except sound cards and network cards, this is
    fixable by creating udev rules for custom persistent symlinks.
    The case of network cards is covered separately in
    <xref linkend="chapter-network"/>, and sound card configuration can
    be found in <ulink url="http://cblfs.clfs.org/">CBLFS</ulink>.</para>

    <para>For each of your devices that is likely to have this problem
    (even if the problem doesn't exist in your current Linux distribution),
    find the corresponding directory under
    <filename class="directory" moreinfo="none">/sys/class</filename> or
    <filename class="directory" moreinfo="none">/sys/block</filename>.
    For video devices, this may be
    <filename class="directory" moreinfo="none">/sys/class/video4linux/video<replaceable>X</replaceable></filename>.
    Figure out the attributes that identify the device uniquely (usually,
    vendor and product IDs and/or serial numbers work):</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">udevadm info -a -p /sys/class/video4linux/video0</userinput></screen>

    <para>Then write rules that create the symlinks, e.g.:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt;/etc/udev/rules.d/83-duplicate_devs.rules &lt;&lt; EOF
<literal moreinfo="none">
# Persistent symlinks for webcam and tuner
KERNEL=="video*", SYSFS{idProduct}=="1910", SYSFS{idVendor}=="0d81", \
    SYMLINK+="webcam"
KERNEL=="video*", SYSFS{device}=="0x036f", SYSFS{vendor}=="0x109e", \
    SYMLINK+="tvtuner"
</literal>
EOF</userinput></screen>

    <para>The result is that <filename moreinfo="none">/dev/video0</filename> and
    <filename moreinfo="none">/dev/video1</filename> devices still refer randomly to the tuner
    and the web camera (and thus should never be used directly), but there are
    symlinks <filename moreinfo="none">/dev/tvtuner</filename> and
    <filename moreinfo="none">/dev/webcam</filename> that always point to the correct
    device.</para>

 </sect2>

</sect1>
  <sect1 id="ch-config-profile" xml:base="common/profile.xml">
  <title>The Bash Shell Startup Files</title>
  <?dbhtml filename="profile.html"?>

  <indexterm zone="ch-config-profile" significance="normal">
    <primary sortas="e-/etc/profile">/etc/profile</primary>
  </indexterm>

  <para>The shell program <command moreinfo="none">/bin/bash</command> (hereafter
  referred to as <quote>the shell</quote>) uses a collection of startup
  files to help create an environment to run in. Each file has a
  specific use and may affect login and interactive environments
  differently. The files in the <filename class="directory" moreinfo="none">/etc</filename>
  directory provide global settings. If an equivalent file exists in the
  home directory, it may override the global settings.</para>

  <para>An interactive login shell is started after a successful login,
  using <command moreinfo="none">/bin/login</command>, by reading the
  <filename moreinfo="none">/etc/passwd</filename> file. An interactive non-login shell
  is started at the command-line (e.g.,
  <prompt moreinfo="none">[prompt]$</prompt><command moreinfo="none">/bin/bash</command>). A
  non-interactive shell is usually present when a shell script is
  running. It is non-interactive because it is processing a script and
  not waiting for user input between commands.</para>

  <para>For more information, see <command moreinfo="none">info bash</command> under the
  <emphasis>Bash Startup Files and Interactive Shells</emphasis> section,
  and <ulink url="http://cblfs.clfs.org/index.php/Bash_Startup_Files">Bash Startup
  Files</ulink> in CBLFS.</para>

  <para>The files <filename moreinfo="none">/etc/profile</filename> and
  <filename moreinfo="none">~/.bash_profile</filename> are read when the shell is
  invoked as an interactive login shell. Create a base
  <filename moreinfo="none">/etc/profile</filename> that will read locale information from
  <filename moreinfo="none">/etc/locale.conf</filename> and load
  any Bash auto completion files that may be on the system. This script also
  sets the <envar>INPUTRC</envar> environment variable that makes Bash and
  Readline use <filename moreinfo="none">/etc/inputrc</filename>:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/profile &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/profile

source /etc/locale.conf

for f in /etc/bash_completion.d/*
do
  if [ -e ${f} ]; then source ${f}; fi
done
unset f

export INPUTRC=/etc/inputrc

# End /etc/profile</literal>
EOF</userinput></screen>

</sect1>
  <sect1 id="ch-config-locale" xml:base="common/locale.xml">
  <title>Setting Up Locale Information</title>
  <?dbhtml filename="locale.html"?>

  <indexterm zone="ch-config-locale" significance="normal">
    <primary sortas="e-/etc/locale.conf">/etc/locale.conf</primary>
  </indexterm>

  <para>The <filename moreinfo="none">/etc/locale.conf</filename> below sets some environment
  variables necessary for native language support. Setting them properly
  results in:</para>

  <itemizedlist>
    <listitem>
      <para>The output of programs translated into the native language</para>
    </listitem>
    <listitem>
      <para>Correct classification of characters into letters, digits and other
      classes. This is necessary for <command moreinfo="none">bash</command> to properly accept
      non-ASCII characters in command lines in non-English locales</para>
    </listitem>
    <listitem>
      <para>The correct alphabetical sorting order for the country</para>
    </listitem>
    <listitem>
      <para>Appropriate default paper size</para>
    </listitem>
    <listitem>
      <para>Correct formatting of monetary, time, and date values</para>
    </listitem>
  </itemizedlist>

  <para>Replace <replaceable>[ll]</replaceable> below with the
  two-letter code for the desired language (e.g., <quote>en</quote>) and
  <replaceable>[CC]</replaceable> with the two-letter code for the
  appropriate country (e.g., <quote>GB</quote> or <quote>US</quote>).
  <replaceable>[charmap]</replaceable> should be replaced with the
  canonical charmap for your chosen locale. Optional modifiers such as
  <quote>@euro</quote> may also be present.</para>

  <para>The list of all locales supported by Glibc can be obtained by running
  the following command:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">locale -a</userinput></screen>

  <para>Locales can have a number of synonyms, e.g. <quote>ISO-8859-1</quote>
  is also referred to as <quote>iso8859-1</quote> and <quote>iso88591</quote>.
  Some applications cannot handle the various synonyms correctly, so it is
  safest to choose the canonical name for a particular locale. To determine
  the canonical name, run the following command, where <replaceable>[locale
  name]</replaceable> is the output given by <command moreinfo="none">locale -a</command> for
  your preferred locale (<quote>en_US.utf8</quote> in our example).</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">LC_ALL=<replaceable>[locale name]</replaceable> locale charmap</userinput></screen>

  <para>For the <quote>en_US.utf8</quote> locale, the above command
  will print:</para>

<screen format="linespecific"><computeroutput moreinfo="none">UTF-8</computeroutput></screen>

  <para>This results in a final locale setting of <quote>en_US.UTF-8</quote>.
  It is important that the locale found using the heuristic above is tested
  prior to it being added to <filename moreinfo="none">/etc/locale.conf</filename>:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">LC_ALL=[locale name] locale territory
LC_ALL=[locale name] locale language
LC_ALL=[locale name] locale charmap
LC_ALL=[locale name] locale int_curr_symbol
LC_ALL=[locale name] locale int_prefix</userinput></screen>

  <para>The above commands should print the language name, the character
  encoding used by the locale, the local currency, and the prefix to dial
  before the telephone number in order to get into the country. If any of the
  commands above fail with a message similar to the one shown below, this means
  that your locale was either not installed in Chapter 10 or is not supported by
  the default installation of Glibc.</para>

<screen format="linespecific"><computeroutput moreinfo="none">locale: Cannot set LC_* to default locale: No such file or directory</computeroutput></screen>

  <para>If this happens, you should either install the desired locale using
  the <command moreinfo="none">localedef</command> command, or consider choosing a different
  locale. Further instructions assume that there are no such error messages
  from Glibc.</para>

  <para>Some packages beyond CLFS may also lack support for your chosen locale.
  One example is the X library (part of the X Window System), which outputs
  the following error message:</para>

<screen format="linespecific"><computeroutput moreinfo="none">Warning: locale not supported by Xlib, locale set to C</computeroutput></screen>

  <para>Sometimes it is possible to fix this by removing the charmap part of
  the locale specification, as long as that does not change the character map
  that Glibc associates with the locale (this can be checked by running the
  <command moreinfo="none">locale charmap</command> command in both locales). For example,
  one would have to change "de_DE.ISO-8859-15@euro" to
  "de_DE@euro" in order to get this locale recognized by Xlib.</para>

  <para>Other packages can also function incorrectly (but may not necessarily
  display any error messages) if the locale name does not meet their
  expectations. In those cases, investigating how other Linux distributions
  support your locale might provide some useful information.</para>

  <para>Once the proper locale settings have been determined, create the
  <filename moreinfo="none">/etc/locale.conf</filename> file:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/locale.conf &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/locale.conf

LANG=<replaceable>[ll]</replaceable>_<replaceable>[CC]</replaceable>.<replaceable>[charmap]</replaceable><replaceable>[@modifiers]</replaceable>

# End /etc/locale.conf</literal>
EOF</userinput></screen>

  <para>Note that you can modify <filename moreinfo="none">/etc/locale.conf</filename> with
  systemd's <command moreinfo="none">localectl</command> utility. To use
  <command moreinfo="none">localectl</command> for the example above, run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">localectl set-locale LANG="<replaceable>[ll]_[CC][charmap][@modifiers]</replaceable>"</userinput></screen>

  <para>You can also specify other language specific environment variables such
  as <envar>LANG</envar>, <envar>LC_CTYPE</envar>, <envar>LC_NUMERIC</envar> or
  any other environment variable from <command moreinfo="none">locale</command> output. Just
  separate them with a space. An example where <envar>LANG</envar> is set as
  en_US.UTF-8 but <envar>LC_CTYPE</envar> is set as just en_US is:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">localectl set-locale LANG="en_US.UTF-8" LC_CTYPE="en_US"</userinput></screen>

  <note><para>Please note that <command moreinfo="none">localectl</command> command can
  be used  only on a system booted with systemd.</para></note>
  <para>Setting the keyboard layout, screen font, and locale-related
  environment variables are the only internationalization steps needed to
  support locales that use ordinary single-byte encodings and left-to-right
  writing direction. UTF-8 has been tested on the English, French, German,
  Italian, and Spanish locales. All other locales are untested. If you discover
  issues with any other locale please open a ticket in our Trac system.</para>

  <para>Some locales need additional programs and support. CLFS will not be
  supporting these locales in the book. We welcome the support for these other
  locales via <ulink url="http://cblfs.clfs.org/"/>.</para>

</sect1>
  <sect1 id="ch-config-inputrc" xml:base="common/inputrc.xml">
  <?dbhtml filename="inputrc.html"?>

  <title>Creating the /etc/inputrc File</title>

  <indexterm zone="ch-config-inputrc" significance="normal">
    <primary sortas="e-/etc/inputrc">/etc/inputrc</primary>
  </indexterm>

  <para>The <filename moreinfo="none">/etc/inputrc</filename> file deals with mapping
  the keyboard for specific situations. This file is the start-up file
  used by Readline — the input-related library — used by Bash
  and most other shells.</para>

  <para>Most people do not need user-specific keyboard mappings so
  the command below creates a global <filename moreinfo="none">/etc/inputrc</filename>
  used by everyone who logs in. If you later decide you need to override
  the defaults on a per-user basis, you can create a
  <filename moreinfo="none">.inputrc</filename> file in the user's home directory with
  the modified mappings.</para>

  <para>For more information on how to edit the <filename moreinfo="none">inputrc</filename>
  file, see <command moreinfo="none">info bash</command> under the <emphasis>Readline Init
  File</emphasis> section. <command moreinfo="none">info readline</command> is also a good
  source of information.</para>

  <para>Below is a generic global <filename moreinfo="none">inputrc</filename> along
  with comments to explain what the various options do. Note that
  comments cannot be on the same line as commands. Create the file
  using the following command:</para>

<screen format="linespecific"><?dbfo keep-together="auto"?><userinput moreinfo="none">cat &gt; /etc/inputrc &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/inputrc
# Modified by Chris Lynn &lt;roryo@roryo.dynup.net&gt;

# Allow the command prompt to wrap to the next line
set horizontal-scroll-mode Off

# Enable 8bit input
set meta-flag On
set input-meta On

# Turns off 8th bit stripping
set convert-meta Off

# Keep the 8th bit for display
set output-meta On

# none, visible or audible
set bell-style none

# All of the following map the escape sequence of the
# value contained inside the 1st argument to the
# readline specific functions

"\eOd": backward-word
"\eOc": forward-word

# for linux console
"\e[1~": beginning-of-line
"\e[4~": end-of-line
"\e[5~": beginning-of-history
"\e[6~": end-of-history
"\e[3~": delete-char
"\e[2~": quoted-insert

# for xterm
"\eOH": beginning-of-line
"\eOF": end-of-line

# for Konsole
"\e[H": beginning-of-line
"\e[F": end-of-line

# End /etc/inputrc</literal>
EOF</userinput></screen>

</sect1>
  <sect1 id="ch-config-fstab" xml:base="common/fstab.xml">
  <?dbhtml filename="fstab.html"?>

  <title>Creating the /etc/fstab File</title>

  <indexterm zone="ch-config-fstab" significance="normal">
    <primary sortas="e-/etc/fstab">/etc/fstab</primary>
    <secondary>system config</secondary>
  </indexterm>

  <para os="a">The <filename moreinfo="none">/etc/fstab</filename> file is used by some
  programs to determine where file systems are to be mounted by default,
  in which order, and which must be checked (for integrity errors) prior
  to mounting. Create a new file systems table like this:</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /etc/fstab &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/fstab

# file system  mount-point  type   options          dump  fsck
#                                                         order

/dev/<replaceable>[xxx]</replaceable>     /            <replaceable>[fff]</replaceable>  defaults         1     1
/dev/<replaceable>[yyy]</replaceable>     swap         swap   pri=1            0     0

# End /etc/fstab</literal>
EOF</userinput></screen>

  <para os="b">Replace <replaceable>[xxx]</replaceable>,
  <replaceable>[yyy]</replaceable>, and <replaceable>[fff]</replaceable>
  with the values appropriate for the system, for example, <filename class="partition" moreinfo="none">sda2</filename>, <filename class="partition" moreinfo="none">sda5</filename>, and <systemitem class="filesystem" moreinfo="none">ext2</systemitem>. For details on the six
  fields in this file, see <command moreinfo="none">man 5 fstab</command>.</para>

</sect1>

</chapter>
    <chapter id="chapter-network" xreflabel="Networking Configuration" xml:base="network/mips64-64-chapter.xml">
  <?dbhtml dir="network"?>
  <?dbhtml filename="chapter.html"?>

  <title>Networking Configuration</title>

  <sect1 id="ch-network-hostname" xml:base="common/hostname.xml">
  <?dbhtml filename="hostname.html"?>

  <title>Configuring the system hostname</title>

  <indexterm zone="ch-network-hostname" significance="normal">
    <primary sortas="d-hostname">hostname</primary>
  <secondary>configuring</secondary></indexterm>

  <para>Systemd reads <filename moreinfo="none">/etc/hostname</filename> to determine which
  hostname should be set.</para>

  <para>Create the <filename moreinfo="none">/etc/hostname</filename> file and enter a hostname
  by running:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">echo "<replaceable>[clfs]</replaceable>" &gt; /etc/hostname</userinput></screen>

  <para><replaceable>[clfs]</replaceable> needs to be replaced with the
  name given to the computer. Do not enter the Fully Qualified
  Domain Name (FQDN) here. That information will be put in the
  <filename moreinfo="none">/etc/hosts</filename> file in the next section.</para>

</sect1>
  <sect1 id="ch-network-hosts" xml:base="common/hosts.xml">
  <?dbhtml filename="hosts.html"?>

  <title>Customizing the /etc/hosts File</title>

  <indexterm zone="ch-network-hosts" significance="normal">
    <primary sortas="e-/etc/hosts">/etc/hosts</primary>
  </indexterm>

  <indexterm zone="ch-network-hosts" significance="normal">
    <primary sortas="d-localnet">localnet</primary>
  <secondary>/etc/hosts</secondary></indexterm>

  <indexterm zone="ch-network-hosts" significance="normal">
    <primary sortas="d-network">network</primary>
  <secondary>/etc/hosts</secondary></indexterm>

  <para>If a network card is to be configured, decide on the IP address,
  fully-qualified domain name (FQDN), and possible aliases for use in the
  <filename moreinfo="none">/etc/hosts</filename> file. The syntax is:</para>

<screen format="linespecific">&lt;IP address&gt; myhost.example.org aliases</screen>

  <para>Unless the computer is to be visible to the Internet (i.e.,
  there is a registered domain and a valid block of assigned IP
  addresses—most users do not have this), make sure that the IP
  address is in the private network IP address range. Valid ranges
  are:</para>

<screen format="linespecific"><literal moreinfo="none">Private Network Address Range       Normal Prefix
10.0.0.1 - 10.255.255.254           8
172.x.0.1 - 172.x.255.254           16
192.168.y.1 - 192.168.y.254         24</literal></screen>

  <para>x can be any number in the range 16-31. y can be any number in the
  range 0-255.</para>

  <para>A valid IP address could be 192.168.1.1. A valid FQDN for this
  IP could be <uri>www.clfs.org</uri> (not recommended
  because this is a valid registered domain address and could cause
  domain name server issues).</para>

  <para>Even if not using a network card, a valid FQDN is still required.
  This is necessary for certain programs to operate correctly.</para>

  <para>Create the <filename moreinfo="none">/etc/hosts</filename> file by running:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt; /etc/hosts &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/hosts (network card version)

127.0.0.1 localhost
::1       localhost
<replaceable>[192.168.1.1]</replaceable> <replaceable>[&lt;HOSTNAME&gt;.example.org]</replaceable> <replaceable>[HOSTNAME]</replaceable> <replaceable>[alias ...]</replaceable>

# End /etc/hosts (network card version)</literal>
EOF</userinput></screen>

  <para>The <replaceable>[192.168.1.1]</replaceable> and
  <replaceable>[&lt;HOSTNAME&gt;.example.org]</replaceable>
  values need to be changed for specific users or requirements (if
  assigned an IP address by a network/system administrator and the
  machine will be connected to an existing network). The optional
  alias name(s) can be omitted.</para>

  <para>If a network card is not going to be configured, create the
  <filename moreinfo="none">/etc/hosts</filename> file by running:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt; /etc/hosts &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/hosts (no network card version)

127.0.0.1 <replaceable>[&lt;HOSTNAME&gt;.example.org]</replaceable> <replaceable>[HOSTNAME]</replaceable> localhost
::1       localhost

# End /etc/hosts (no network card version)</literal>
EOF</userinput></screen>

<para>The ::1 entry is the IPv6 counterpart of 127.0.0.1 and represents the
      IPv6 loopback interface.</para>

</sect1>
  <sect1 id="ch-network-resolv" xml:base="common/resolv.xml">
  <?dbhtml filename="resolv.html"?>

  <title>Creating the /etc/resolv.conf File</title>

    <indexterm zone="ch-network-resolv" significance="normal">
      <primary sortas="e-/etc/resolv.conf">/etc/resolv.conf</primary>
    </indexterm>

    <para>If the system is going to be connected to the Internet, it will
    need some means of Domain Name Service (DNS) name resolution to
    resolve Internet domain names to IP addresses, and vice versa. This is
    best achieved by placing the IP address of the DNS server, available
    from the ISP or network administrator, into
    <filename moreinfo="none">/etc/resolv.conf</filename>. If at least one of your network
    interfaces is going to be configured by DHCP then you may not need to
    create this file. By default DHCPCD will overwrite this file when it gets
    a new lease from the DHCP server. If you wish to manually configure your
    network interfaces or manually set your DNS using DHCP then create the
    file by running the following:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cat &gt; /etc/resolv.conf &lt;&lt; "EOF"
<literal moreinfo="none"># Begin /etc/resolv.conf

domain <replaceable>[Your Domain Name]</replaceable>
nameserver <replaceable>[IP address of your primary nameserver]</replaceable>
nameserver <replaceable>[IP address of your secondary nameserver]</replaceable>

# End /etc/resolv.conf</literal>
EOF</userinput></screen>

    <para>The <replaceable>domain</replaceable> statement can be omitted or
    replaced with a <replaceable>search</replaceable> statement. See the man
    page for resolv.conf for more details.</para>

    <para>Replace <replaceable>[IP address of the nameserver]</replaceable>
    with the IP address of the DNS most appropriate for the setup. There will
    often be more than one entry (requirements demand secondary servers for
    fallback capability). If you only need or want one DNS server, remove the
    second <emphasis>nameserver</emphasis> line from the file. The IP address
    may also be a router on the local network.</para>

</sect1>
  <sect1 id="ch-network-choose" xml:base="common/choose.xml">
  <?dbhtml filename="choose.html"?>

  <title>Systemd Networking?</title>

  <indexterm zone="ch-network-choose" significance="normal">
    <primary sortas="d-network">network</primary>
  <secondary>configuring</secondary></indexterm>

  <para>This section only applies if a network card is to be configured. If
  you do not need to configure a network interface you can skip on to
  <xref linkend="chapter-bootable"/>.</para>

  <para> There are two different ways you can proceed from this point
  to configure your network. You can use systemd, or install the
  CLFS-Network-Scripts.</para>

  <para>To use systemd to configure a Network Interface, Follow <xref linkend="ch-systemd-network"/>.</para>

  <para>To use CLFS-network-scripts to configure a Network Interface, Follow <xref linkend="ch-network-network-scripts"/>.</para>

</sect1>
  <sect1 id="ch-systemd-network" xml:base="common/systemd-network.xml">
  <?dbhtml filename="systemd-network.html"?>

  <title>Networking Configuration with Systemd-networkd</title>

  <sect2 role="interface-config">
    <title>Network Interface Configuration</title>

    <note><para>Udev may assign random Network Card Interface names
    for some network cards such as enp2s1. If you are not sure what
    your Network Card Interface name is, you can always run
    <command moreinfo="none">ip l</command> after you have booted your system. It is important
    that the <envar>Name</envar> variable in
    <filename moreinfo="none">/etc/systemd/network</filename> contain the correct Network Card
    Interface name (e.g. <envar>Name=enp2s1</envar> or
    <envar>Name=eth0</envar>) or systemd will fail to bring
    up your network interface.</para></note>

    <sect3 role="static">
      <title>Static Network Interface Configuration</title>

      <para><command moreinfo="none">systemd-networkd</command> uses
      <filename moreinfo="none">/etc/systemd/network</filename> for configuration files. Refer
      to systemd.network(5) and systemd.netdev(5). Configure a network
      interface with a config file. Adjust Name= as required:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cd /etc/systemd/network &amp;&amp;
cat &gt; static.network &lt;&lt; "EOF"
[Match]
Name=enp2s0

[Network]
Address=192.168.1.1/24
Gateway=192.168.1.2
EOF</userinput></screen>

      <para os="var-ob">The values of these variables must be changed in every
      file to match the proper setup.</para>

      <para os="var-i">The <envar>Name</envar> variable defines the interface
      name, for example, eth0. It is required for all network device
      configuration files.</para>

      <para>The <envar>Gateway</envar> variable should contain the default
      gateway IP address, if one is present. If not, then comment out the
      variable entirely.</para>

      <para>For more information see the <command moreinfo="none">systemd.netdev</command> man page.</para>

    </sect3>

    <sect3 role="dhcp">
      <title>Connecting to a network with DHCP</title>

    <para><command moreinfo="none">systemd-networkd</command> uses
    <filename moreinfo="none">/etc/systemd/network</filename> for configuration files. Refer
    to <filename moreinfo="none">systemd.network(5)</filename> and
    <filename moreinfo="none">systemd.netdev(5)</filename>. Configure a network interface
    with a config file. Adjust Name= as required:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cd /etc/systemd/network &amp;&amp;
cat &gt; dhcp.network &lt;&lt; "EOF"
[Match]
Name=enp2s0

[Network]
DHCP=yes
EOF</userinput></screen>

    <para><command moreinfo="none">systemd-networkd</command> will automatically configure
    <filename moreinfo="none">/run/systemd/network/resolv.conf</filename> when using DHCP.
    If you did not manually create <filename moreinfo="none">/etc/resolv.conf</filename>,
    create a symlink:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">ln -sv /run/systemd/network/resolv.conf /etc</userinput></screen>

    </sect3>

  </sect2>

  <sect2 role="timesyncd">
    <title>Using Timesyncd</title>

    <para>Systemd includes a simple NTP client daemon,
    <command moreinfo="none">systemd-timesyncd</command>, though it is disabled by
    default. If you want to enable it, you will first need to add a required
    user and group:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">groupadd -g 78 systemd-timesync
useradd -g systemd-timesync -u 78 -d /dev/null -s /bin/false systemd-timesync</userinput></screen>

    <para>Then, actually enable <command moreinfo="none">systemd-timesyncd</command> so that
    it will run on system boot:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">systemctl enable systemd-timesyncd</userinput></screen>

    <para>You can configure <command moreinfo="none">systemd-timesyncd</command> by editing
    <filename moreinfo="none">/etc/systemd/timesyncd.conf</filename>.</para>

  <para>Continue to <xref linkend="chapter-bootable"/>.</para>

  </sect2>

</sect1>
  <sect1 id="ch-network-network-scripts" role="wrap" xml:base="common/network-scripts.xml">
  <?dbhtml filename="network-scripts.html"?>

  

  <title>CLFS-Network-Scripts-20140224</title>

  <indexterm zone="ch-network-network-scripts" significance="normal">
    <primary sortas="a-Network-Scripts">Network-Scripts</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The CLFS-Network-Scripts package contains a set of scripts to
    configure the network at bootup and deconfigure it at shutdown.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of CLFS-Network-Scripts</title>

    <para>Install the package:</para>

<screen role="nodump" format="linespecific"><userinput remap="install" moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-network-scripts" role="content">
    <title>Contents of CLFS-Network-Scripts</title>
    <segmentedlist>
      <segtitle>Installed scripts</segtitle>
      <segtitle>Installed systemd units</segtitle>
      <segtitle>Installed directories</segtitle>

      <seglistitem>
        <seg>ifdown, ifup, ipv4-static</seg>
        <seg>ifupdown@.service, dhcpcd@.service, nscd.service</seg>
        <seg>/etc/sysconfig, /lib/services, /lib/lsb (symbolic link)</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="ifdown-network-scripts">
        <term><command moreinfo="none">ifdown</command></term>
        <listitem>
          <para>Stops a network device.</para>
          <indexterm zone="ch-network-network-scripts ifdown-network-scripts" significance="normal">
            <primary sortas="d-ifdown">ifdown</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ifup-network-scripts">
        <term><command moreinfo="none">ifup</command></term>
        <listitem>
          <para>Initializes a network device.</para>
          <indexterm zone="ch-network-network-scripts ifup-network-scripts" significance="normal">
            <primary sortas="d-ifup">ifup</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ipv4-static-network-scripts">
        <term><command moreinfo="none">ipv4-static</command></term>
        <listitem>
          <para>Provides the functionality needed to assign a static Internet
          Protocol (IP) address to a network interface.</para>
          <indexterm zone="ch-network-network-scripts ipv4-static-network-scripts" significance="normal">
            <primary sortas="d-ipv4-static">ipv4-static</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-network-static" xml:base="common/sysconfig-network.xml">
  <?dbhtml filename="network-static.html"?>

  <title>Static Networking Configuration</title>

  <sect2>
    <title>Creating the Static Network Interface Configuration Files</title>

    <para>Which interfaces are brought up and down by the network script
    depends on the files and directories in the <filename class="directory" moreinfo="none">/etc/sysconfig</filename> hierarchy.
    This directory should contain a sub-directory for each interface to be
    configured, such as <filename moreinfo="none">ifconfig.xyz</filename>, where
    <quote>xyz</quote> is a network interface name. Inside this directory
    would be files defining the attributes to this interface, such as its IP
    address(es), subnet masks, and so forth.</para>

    <note><para>Udev may assign random Network Card Interface names
    for some network cards such as enp2s1. If you are not sure what
    your Network Card Interface name is, you can always run
    <command moreinfo="none">ip l</command> after you have booted your system. Again,
    it is important that <filename moreinfo="none">ifconfig.xyz</filename> is named
    after correct Network Card Interface name (e.g.
    <filename moreinfo="none">ifconfig.enp2s1</filename> or
    <filename moreinfo="none">ifconfig.eth0</filename>) or systemd will fail to bring
    up your network interface.</para></note>

    <para>The following command creates a sample <filename moreinfo="none">ipv4</filename>
    file for the <emphasis>eth0</emphasis> device:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">mkdir -pv /etc/sysconfig &amp;&amp;
cd /etc/sysconfig &amp;&amp;
cat &gt; ifconfig.eth0 &lt;&lt; "EOF"
<literal moreinfo="none">IFACE="eth0"
SERVICE="ipv4-static"
IP="192.168.1.1"
GATEWAY="192.168.1.2"
PREFIX="24"
BROADCAST="192.168.1.255"</literal>
EOF</userinput></screen>

    <para os="var-ob">The values of these variables must be changed in every
    file to match the proper setup.</para>

    <para os="var-i">The <envar>IFACE</envar> variable defines the interface
    name, for example, eth0. It is required for all network device configuration
    files.</para>

    <para os="var-s">The <envar>SERVICE</envar> variable defines the method used
    for obtaining the IP address. The CLFS-Network-Scripts package has a modular
    IP assignment format, and creating additional files in the <filename class="directory" moreinfo="none">/lib/services</filename>
    directory allows other IP assignment methods.</para>

    <para>The <envar>GATEWAY</envar> variable should contain the default
    gateway IP address, if one is present. If not, then comment out the
    variable entirely.</para>

    <para>The <envar>PREFIX</envar> variable needs to contain the number of
    bits used in the subnet. Each octet in an IP address is 8 bits. If the
    subnet's netmask is 255.255.255.0, then it is using the first three octets
    (24 bits) to specify the network number. If the netmask is 255.255.255.240,
    it would be using the first 28 bits.  Prefixes longer than 24 bits are
    commonly used by DSL and cable-based Internet Service Providers (ISPs).
    In this example (PREFIX=24), the netmask is 255.255.255.0. Adjust the
    <envar>PREFIX</envar> variable according to your specific subnet.</para>

    <para>For more information see the <command moreinfo="none">ifup</command> man page.</para>

    <para>To configure another DHCP Interface, Follow <xref linkend="ch-network-dhcpcd"/>.</para>

  </sect2>

  <sect2>
    <title>Configuring the Network Interface at boot</title>

    <para>Enabling of the Network Interface configuration is
    done per interface. To enable Network Interface
    configuration at boot, run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">systemctl enable ifupdown@eth0</userinput></screen>

    <para>To disable previously enabled Network Interface
    configuration at boot, run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">systemctl disable ifupdown@eth0</userinput></screen>

    <para>To manually start the Network Interface configuration,
    run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">systemctl start ifupdown@eth0</userinput></screen>

    <para>Replace eth0 with the correct Network Interface
    name as described on the beginning of this page.</para>

  </sect2>

</sect1>
  <sect1 id="ch-network-dhcpcd" role="wrap" xml:base="common/dhcpcd.xml">
  <?dbhtml filename="dhcpcd.html"?>

  <title>DHCPCD-6.11.5</title>

  <indexterm zone="ch-network-dhcpcd" significance="normal">
    <primary sortas="a-DHCPCD">DHCPCD</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The DHCPCD package provides a DHCP Client for network configuration.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of DHCPCD</title>

    <para os="a">If you wish to configure your network to connect to a DHCP
      server, you will first need to install a DHCP client. CLFS uses the
      DHCPCD package for this.</para>

    <para os="b">Prepare DHCPCD for compilation:</para>

<screen os="c" role="nodump" format="linespecific"><userinput moreinfo="none">./configure \
    --prefix=/usr \
    --sbindir=/sbin \
    --sysconfdir=/etc \
    --dbdir=/var/lib/dhcpcd \
    --libexecdir=/usr/lib/dhcpcd</userinput></screen>

    <para os="d">Compile the package:</para>

<screen os="e" role="nodump" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="f">This package does not come with a test suite.</para>

    <para os="g">Install the package:</para>

<screen os="h" role="nodump" format="linespecific"><userinput moreinfo="none">make install</userinput></screen>

  </sect2>

  <sect2 id="conf-dhcpcd" role="configuration">
    <title>Creating the DHCP Network Interface Configuration File</title>

    <para>The following is an example for the eth0 interface. Refer to the
    dhcpcd.conf man page for more information. This step may be skipped if
    default behavior of dhcpcd is required.</para>

    <para>Create the <filename moreinfo="none">/etc/dhcpcd.conf</filename> configuration file
    using the following commands. Adjust appropriately for additional options:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">cd /etc &amp;&amp;
cat &gt; dhcpcd.conf &lt;&lt; "EOF"
<literal moreinfo="none"># dhcpcd configuration eth0 interface
# See dhcpcd.conf(5) for details.

interface eth0
# dhcpcd-run-hooks uses these options.
option subnet_mask, routers, domain_name_servers

# The default timeout for waiting for a DHCP response is 30 seconds
# which may be too long or too short and can be changed here.
timeout 16</literal>
EOF</userinput></screen>

    <para>To configure another Static Interface, Follow <xref linkend="ch-network-static"/>.</para>

  </sect2>

  <sect2>
    <title>Configuring the Network Interface at boot</title>

    <para>Enabling of the Network Interface configuration is
    done per interface. To enable Network Interface
    configuration at boot, run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">systemctl enable dhcpcd@eth0</userinput></screen>

    <para>To disable previously enabled Network Interface
    configuration at boot, run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">systemctl disable dhcpcd@eth0</userinput></screen>

    <para>To manually start the Network Interface configuration,
    run:</para>

<screen role="nodump" format="linespecific"><userinput moreinfo="none">systemctl start dhcpcd@eth0</userinput></screen>

    <para>Replace eth0 with the correct Network Interface
    name as described on the beginning of this page.</para>

  </sect2>

  <sect2 id="contents-dhcpcd" role="content">
    <title>Contents of dhcpcd</title>

    <segmentedlist>
      <segtitle>Installed files</segtitle>

      <seglistitem>
        <seg>dhcpcd</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="dhcpcd">
        <term><command moreinfo="none">dhcpcd</command></term>
        <listitem>
          <para>dhcpcd is an implementation of the DHCP client specified in
          RFC 2131. It gets the host information from a DHCP server and
          configures the network interface automatically.</para>
          <indexterm zone="ch-network-dhcpcd" significance="normal">
            <primary sortas="e-dhcpcd">dhcpcd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>

</chapter>
    <chapter id="chapter-bootable" xreflabel="Making the CLFS System Bootable" xml:base="bootable/mips64-64-chapter.xml">
  <?dbhtml dir="bootable"?>
  <?dbhtml filename="chapter.html"?>

  <title>Making the CLFS System Bootable</title>

  <sect1 id="ch-bootable-introduction" xml:base="common/introduction.xml">
  <?dbhtml filename="introduction.html"?>

  <title>Introduction</title>

  <para>It is time to make the CLFS system bootable. This chapter
  discusses building a kernel for the new CLFS system and installing the boot
  loader so that the CLFS system can be selected for booting at startup.</para>

</sect1>
  <sect1 id="ch-bootable-kernel" role="wrap" xml:base="mips/kernel.xml">
  <?dbhtml filename="kernel.html"?>

  <title>Linux-4.9.21</title>

  <indexterm zone="ch-bootable-kernel" significance="normal">
    <primary sortas="a-Linux">Linux</primary>
  </indexterm>

  <sect2 role="package" xml:base="../x86/kernel.xml"><title/>
    <para>The Linux package contains the Linux kernel.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of the kernel</title>

    <para os="a" xml:base="../x86/kernel.xml">Building the kernel involves a few steps—configuration,
    compilation, and installation. Read the <filename moreinfo="none">README</filename>
    file in the kernel source tree for alternative methods to the way this
    book configures the kernel.</para>

    <para os="p1" xml:base="../x86/kernel.xml">Apply the latest Linux sublevel patch:</para>

    <screen os="p2" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">xzcat ../patch-4.9.21.xz | patch -Np1 -i -</userinput></screen>

    <para os="b" xml:base="../x86/kernel.xml">Prepare for compilation by running the following command:</para>

    <screen os="c" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">make mrproper</userinput></screen>

    <para os="d" xml:base="../x86/kernel.xml">This ensures that the kernel tree is absolutely clean. The
    kernel team recommends that this command be issued prior to each
    kernel compilation. Do not rely on the source tree being clean after
    un-tarring.</para>

    <note os="kc" xml:base="../x86/kernel.xml"><para>A good starting place for setting up the kernel
    configuration is to run <command moreinfo="none">make defconfig</command>. This will set the    base configuration to a good state that takes your current system
    architecture into account.</para>

    <para>Be sure to configure the following options as
    shown, or the system might not work correctly or boot at all.
    Refer to <filename moreinfo="none">/usr/share/doc/systemd-233/README</filename>:</para>

    <screen role="nodump" format="linespecific">General setup  ---&gt;
  [*] open by fhandle syscalls (CONFIG_FHANDLE)
  [ ] Auditing support (CONFIG_AUDIT)
  [*] Control Group support (CONFIG_CGROUPS)
Processor type and features  ---&gt;
  [*] Enable seccomp to safely compute untrusted bytecode (CONFIG_SECCOMP)
Networking support  ---&gt;
  Networking options  ---&gt;
    &lt;*&gt; The IPv6 protocol (CONFIG_IPV6)
Device Drivers  ---&gt;
  Generic Driver Options  ---&gt;
    ()  path to uevent helper (CONFIG_UEVENT_HELPER_PATH)
    [*] Maintain a devtmpfs filesystem to mount at /dev (CONFIG_DEVTMPFS)
    [ ] Fallback user-helper invocation for firmware loading (CONFIG_FW_LOADER_USER_HELPER)
File systems  ---&gt;
  [*] Inotify support for userspace (CONFIG_FSNOTIFY)
  &lt;*&gt; Kernel automounter version 4 support (also supports v3) (CONFIG_AUTOFS4_FS)
  Pseudo filesystems  ---&gt;
    [*] Tmpfs POSIX Access Control Lists (CONFIG_TMPFS_POSIX_Acl)
    [*] Tmpfs extended attributes (CONFIG_TMPFS_XATTR)
Firmware Drivers ---&gt;
  EFI (Extensible Firmware Interface) Support ---&gt;
    &lt;*&gt; EFI Variable Support via sysfs (CONFIG_EFI_VARS)
-*- Enable the block layer ---&gt; (CONFIG_BLOCK)
  Partition Types ---&gt;
    [*] Advanced partition selection (CONFIG_PARTITION_ADVANCED)
    [*]   EFI GUID Partition support (CONFIG_EFI_PARTITION)
Kernel Hacking ---&gt;
  [*] Collect scheduler debugging info (CONFIG_SCHED_DEBUG)
  [*] Collect scheduler statistics (CONFIG_SCHEDSTATS)</screen></note>

    <note os="kd" xml:base="../x86/kernel.xml"><para>While "The IPv6 Protocol" is not strictly required, it
    is highly recommended by the Systemd developers. "EFI Variable support" and
    "EFI GUID Partition support" are for UEFI systems. "Collect scheduler
    debugging info" and "Collect scheduler statistics" is for systemd-bootchart.
    </para></note>

    <para os="h" xml:base="../x86/kernel.xml">Configure the kernel via a menu-driven interface.
    CBLFS has some information regarding particular kernel configuration
    requirements of packages outside of CLFS at <ulink url="http://cblfs.clfs.org/"/>:</para>

    <screen os="i" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">make menuconfig</userinput></screen>

    <para os="k" xml:base="../x86/kernel.xml">If desired, skip kernel configuration by copying the kernel
    config file, <filename moreinfo="none">.config</filename>, from the host system
    (assuming it is available) to the root directory of the unpacked kernel
    sources. However, we do not recommend this option. It is often better
    to explore all the configuration menus and create the kernel configuration
    from scratch.</para>

    <para os="m" xml:base="../x86/kernel.xml">Compile the kernel image and modules:</para>

    <screen os="n" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">make</userinput></screen>

    <para os="o" xml:base="../x86/kernel.xml">If using kernel modules, a configuration file in
    <filename class="directory" moreinfo="none">/etc/modprobe.d</filename> file may be needed.
    Information pertaining to modules and kernel configuration is
    located in the kernel documentation in the <filename class="directory" moreinfo="none">Documentation</filename> directory of the kernel
    sources tree. Also, <filename moreinfo="none">modprobe.d(5)</filename> may
    be of interest.</para>

    <para os="s" xml:base="../x86/kernel.xml">Install the modules, if the kernel configuration uses
    them:</para>

    <screen os="t" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">make modules_install</userinput></screen>

    <para os="s2" xml:base="../x86/kernel.xml">Install the firmware, if the kernel configuration uses
    them:</para>

    <screen os="t2" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">make firmware_install</userinput></screen>

    <para os="u" xml:base="../x86/kernel.xml">After kernel compilation is complete, additional steps are
    required to complete the installation. Some files need to be copied to
    the <filename class="directory" moreinfo="none">/boot</filename> directory.</para>

    <para os="v" xml:base="../x86/kernel.xml">Issue the following command to install the kernel:</para>

<screen format="linespecific"><userinput moreinfo="none">cp -v vmlinux /boot/vmlinux-4.9.21
gzip -9 /boot/vmlinux-4.9.21</userinput></screen>

    <para os="w" xml:base="../x86/kernel.xml"><filename moreinfo="none">System.map</filename> is a symbol file for the kernel.
    It maps the function entry points of every function in the kernel API,
    as well as the addresses of the kernel data structures for the running
    kernel. Issue the following command to install the map file:</para>

    <screen os="w1" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">cp -v System.map /boot/System.map-4.9.21</userinput></screen>

    <para os="x" xml:base="../x86/kernel.xml">The kernel configuration file <filename moreinfo="none">.config</filename>
    produced by the <command moreinfo="none">make menuconfig</command> step above contains
    all the configuration selections for the kernel that was just compiled.
    It is a good idea to keep this file for future reference:</para>

    <screen os="x1" xml:base="../x86/kernel.xml" format="linespecific"><userinput moreinfo="none">cp -v .config /boot/config-4.9.21</userinput></screen>

    <para os="y" xml:base="../x86/kernel.xml">It is important to note that the files in the kernel source
    directory are not owned by <systemitem class="username" moreinfo="none">root</systemitem>.
    Whenever a package is unpacked as user <systemitem class="username" moreinfo="none">root</systemitem> (like we do inside the final-system
    build environment), the files have the user and group IDs of whatever
    they were on the packager's computer. This is usually not a problem
    for any other package to be installed because the source tree is
    removed after the installation. However, the Linux source tree is
    often retained for a long time. Because of this, there is a chance
    that whatever user ID the packager used will be assigned to somebody
    on the machine. That person would then have write access to the kernel
    source.</para>

    <para os="y1" xml:base="../x86/kernel.xml">If the kernel source tree is going to retained, run
    <command moreinfo="none">chown -R 0:0</command> on the <filename class="directory" moreinfo="none">linux-4.9</filename> directory to
    ensure all files are owned by user <systemitem class="username" moreinfo="none">root</systemitem>.</para>

    <warning os="z" xml:base="../x86/kernel.xml">
      <para>Some kernel documentation recommends creating a symlink from
      <filename class="symlink" moreinfo="none">/usr/src/linux</filename> pointing to the
      kernel source directory. This is specific to kernels prior to the
      2.6 series and <emphasis>must not</emphasis> be created on a CLFS
      system as it can cause problems for packages you may wish to build
      once your base CLFS system is complete.</para>

      <para>Also, the headers in the system's <filename class="directory" moreinfo="none">include</filename> directory should
      <emphasis>always</emphasis> be the ones against which Glibc was
      compiled and should <emphasis>never</emphasis> be replaced by headers
      from a different kernel version.</para>
    </warning>

  </sect2>

  <sect2 id="contents-kernel" role="content" xml:base="../x86/kernel.xml">
    <title>Contents of Linux</title>

    <segmentedlist>
      <segtitle>Installed files</segtitle>
      <segtitle>Installed directory</segtitle>

      <seglistitem>
        <seg>config-[linux-version], clfskernel-[linux-version],
        and System.map-[linux-version]</seg>
        <seg>/lib/modules</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="config">
        <term><filename moreinfo="none">config-[linux-version]</filename></term>
        <listitem>
          <para>Contains all the configuration selections for the kernel</para>
          <indexterm zone="ch-bootable-kernel config" significance="normal">
            <primary sortas="e-/boot/config">/boot/config-[linux-version]</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="clfskernel">
        <term><filename moreinfo="none">clfskernel-[linux-version]</filename></term>
        <listitem>
          <para>The engine of the Linux system. When turning on the
          computer, the kernel is the first part of the operating system
          that gets loaded. It detects and initializes all components of
          the computer's hardware, then makes these components available
          as a tree of files to the software and turns a single CPU into
          a multitasking machine capable of running scores of programs
          seemingly at the same time.</para>
          <indexterm zone="ch-bootable-kernel clfskernel" significance="normal">
            <primary sortas="b-clfskernel">clfskernel-[linux-version]</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="System.map">
        <term><filename moreinfo="none">System.map-[linux-version]</filename></term>
        <listitem>
          <para>A list of addresses and symbols; it maps the entry points
          and addresses of all the functions and data structures in the
          kernel</para>
          <indexterm zone="ch-bootable-kernel System.map" significance="normal">
            <primary sortas="e-/boot/System.map">/boot/System.map-[linux-version]</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  <sect1 id="ch-bootable-arcload" xml:base="mips64/arcload.xml">
  <?dbhtml filename="arcload.html"?>

  <title>Making the CLFS System Bootable via Arcload</title>

  <indexterm zone="ch-bootable-arcload" significance="normal">
    <primary sortas="a-Arcload">Arcload</primary>
    <secondary>configuring</secondary>
  </indexterm>

  <note os="a">
    <para>This bootloader is for the MIPS based SGI Workstations and
    Servers.</para>
  </note>

  <para os="b">Earlier, we compiled and installed the Arcload boot loader
  software in preparation for this step. Now we will configure our system
  to boot using Arcload. Here is a simple <filename moreinfo="none">arc.cf</filename>
  to use.</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /boot/arc.cf &lt;&lt; "EOF"
<literal moreinfo="none">append  "root=/dev/sda3";
append  "console=ttyS0,9600";

CLFS {
  4.9.21 {
    description  "4.9.21";
    image system "/4.9.21";
  }

  debug {
    description  "Debug Shell";
    append "init=/bin/bash";
  }
}</literal>
EOF</userinput></screen>

  <para os="c">Now we use <command moreinfo="none">dvhtool</command> to make the system
  bootable:</para>

<screen os="d" format="linespecific"><userinput moreinfo="none">dvhtool --unix-to-vh /usr/lib/arcload/sash64 sash64
dvhtool --unix-to-vh /boot/arc.cf arc.cf
dvhtool --unix-to-vh /boot/4.9.21 4.9.21</userinput></screen>

</sect1>
  <sect1 id="ch-bootable-colo" xml:base="mips/colo.xml">
  <?dbhtml filename="colo.html"?>

  <title>Making the CLFS System Bootable via Colo</title>

  <indexterm zone="ch-bootable-colo" significance="normal">
    <primary sortas="a-Colo">Colo</primary>
    <secondary>configuring</secondary>
  </indexterm>

  <note os="a">
    <para>This bootloader is for the MIPS based cobalt servers RaQ,
    RaQ2, Qube, or the Qube2.</para>
  </note>

  <para os="c">Your shiny new CLFS system is almost complete. One of the last
  things to do is ensure you can boot it. The instructions below apply
  only to Cobalt RaQ1/RaQ2/Cube2 servers. Information on <quote>boot
  loading</quote> for other architectures should be available in the
  usual resource-specific locations for those architectures.</para>

  <para os="b" xml:base="../x86/grub.xml">Boot loading can be a complex area, so a few cautionary words
  are in order. Be familiar with the current boot loader and any other
  operating systems present on the hard drive(s) that need to be bootable.
  Make sure that an emergency boot disk is ready to <quote>rescue</quote>
  the computer if the computer becomes unusable (un-bootable).</para>

  <para os="d">Earlier, we compiled and installed the Cobalt boot loader
  software in preparation for this step. Now we will configure our system
  to boot using Colo. Here is a simple <filename moreinfo="none">default.colo</filename>
  to use.</para>

<screen format="linespecific"><userinput moreinfo="none">cat &gt; /boot/default.colo &lt;&lt; "EOF"
<literal moreinfo="none">#:CoLo:#
#
# load linux
#
lcd 'Booting 4.9.21...'
load vmlinux-4.9.21.gz
execute root=/dev/hda2 console=ttyS0,115200 ide1=noprobe</literal>
EOF</userinput></screen>

  <para os="e">Included in <filename class="directory" moreinfo="none">/usr/lib/colo/examples</filename>
  are more examples of a <filename moreinfo="none">default.colo</filename> file.</para>

  <para os="v">The FHS stipulates that the bootloader's configuration file should
  be symlinked to <filename class="symlink" moreinfo="none">/etc/{Bootloader Name}</filename>.
  To satisfy this requirement for Colo, issue the following command:</para>

<screen os="f" format="linespecific"><userinput moreinfo="none">mkdir -v /etc/colo &amp;&amp;
ln -sv /boot/colo/default.colo /etc/colo</userinput></screen>

</sect1>

</chapter>
    <chapter id="chapter-finalizing" xreflabel="The End" xml:base="the-end/chapter.xml">
  <?dbhtml dir="the-end"?>
  <?dbhtml filename="chapter.html"?>

  <title>The End</title>

  <sect1 id="ch-finish-theend">
  <?dbhtml filename="theend.html"?>

  <title>The End</title>

  <indexterm zone="ch-finish-theend" significance="normal">
    <primary sortas="e-/etc/clfs-release">/etc/clfs-release</primary>
  </indexterm>

  <para>Well done! The new CLFS system is installed! We wish you much
  success with your shiny new custom-built Linux system.</para>

  <para>It may be a good idea to create an
  <filename moreinfo="none">/etc/clfs-release</filename> file. By having this file, it is
  very easy for you (and for us if you need to ask for help at some
  point) to find out which CLFS version is installed on the system.
  Create this file by running:</para>

<screen format="linespecific"><userinput moreinfo="none">echo GIT-20170803 &gt; /etc/clfs-release</userinput></screen>

</sect1>
  <sect1 id="ch-finish-downloadclient">
  <?dbhtml filename="downloadclient.html"?>

  <title>Download Client</title>

  <para>The final system build does not install an FTP or HTTP client for downloading files.</para>

  <itemizedlist>
    <para>Some suggested clients include:</para>
    <listitem>
      <para>Curl <ulink url="http://cblfs.clfs.org/index.php/Curl"/></para>
    </listitem>
    <listitem>
      <para>Inetutils <ulink url="http://cblfs.clfs.org/index.php/Inetutils"/></para>
    </listitem>
    <listitem>
      <para>LFTP <ulink url="http://lftp.yar.ru/"/></para>
    </listitem>
    <listitem>
      <para>Links <ulink url="http://cblfs.clfs.org/index.php/Links"/></para>
    </listitem>
    <listitem>
      <para>Lynx <ulink url="http://cblfs.clfs.org/index.php/Lynx"/></para>
    </listitem>
    <listitem>
      <para>NcFTP Client <ulink url="http://cblfs.clfs.org/index.php/Ncftp"/></para>
    </listitem>
    <listitem>
      <para>Wget <ulink url="http://cblfs.clfs.org/index.php/Wget"/></para>
    </listitem>
    <listitem>
      <para>BASH - A user can use net redirections (if not disabled when building bash in the final system) to download wget or another program.</para>
<screen format="linespecific"><userinput moreinfo="none">cat &gt; download.sh &lt;&lt; "EOF"
#!/bin/bash

WGET_VERSION='1.14'
WGET_HOSTNAME='ftp.gnu.org'
exec {HTTP_FD}&lt;&gt;/dev/tcp/${WGET_HOSTNAME}/80
echo -ne "GET /gnu/wget/wget-${WGET_VERSION}.tar.xz HTTP/1.1\r\nHost: "\
    ${WGET_HOSTNAME}'\r\nUser-Agent: '\
    'bash/'${BASH_VERSION}'\r\n\r\n'  &gt;&amp;${HTTP_FD}
sed -e '1,/^.$/d' &lt;&amp;${HTTP_FD} &gt;wget-${WGET_VERSION}.tar.xz
EOF</userinput></screen>
    </listitem>
    <listitem>
      <para>GAWK</para>
<screen format="linespecific"><userinput moreinfo="none">cat &gt; gawkdl.sh &lt;&lt; "EOF"
#!/bin/bash

gawk 'BEGIN {
  NetService = "/inet/tcp/0/mirror.anl.gov/80"
  print "GET /pub/gnu/wget/wget-1.14.tar.xz" |&amp; NetService
  while ((NetService |&amp; getline) &gt; 0)
    print $0
  close(NetService)
}' &gt; binary

gawk '{q=p;p=$0}NR&gt;1{print q}END{ORS = ""; print p}' binary &gt; wget-1.14.tar.xz

rm binary
EOF</userinput></screen>
    </listitem>
    <listitem>
      <para>PERL with HTTP::Tiny (Included with final system PERL install).</para>
<screen format="linespecific"><userinput moreinfo="none">cat &gt; download.pl &lt;&lt; "EOF"
#!/usr/bin/perl

use HTTP::Tiny;
my $http = HTTP::Tiny-&gt;new;
my $response;

$response = $http-&gt;mirror('http://ftp.gnu.org/gnu/wget/wget-1.14.tar.xz', 'wget-1.14.tar.xz');
die "Failed!\n" unless $response-&gt;{success};
print "Unchanged!\n" if $response-&gt;{status} eq '304';
EOF</userinput></screen>
      <para>Or use this:</para>
<screen format="linespecific"><userinput moreinfo="none">perl -MHTTP::Tiny -E 'say HTTP::Tiny-&gt;new-&gt;get(shift)-&gt;{content}' "http://ftp.gnu.org/gnu/wget/wget-1.14.tar.xz" &gt; binary
perl -e 'local $/; $_ = &lt;&gt;; s/\n$//; print' binary &gt; wget-1.14.tar.xz
rm binary</userinput></screen>
    </listitem>
    <listitem>
  <para>PERL with LWP: Run <command moreinfo="none">cpan</command> and manually configure the client. Run <command moreinfo="none">install LWP</command> while in the CPAN shell.</para>
    <para>Refer to <ulink url="http://www.bioinfo-user.org.uk/dokuwiki/doku.php/projects/wgetpl"/> for wgetpl.</para>
    </listitem>
  </itemizedlist>

</sect1>
  <sect1 id="ch-finish-reboot">
  <?dbhtml filename="reboot.html"?>

  <title>Rebooting the System</title>

  <para>If you built your final system using the boot method, just run
  <command moreinfo="none">shutdown -r now</command> to reboot again, using your newly-built
  kernel instead of the miminal one currently in use. If you chrooted,
  there are a few more steps.</para>

  <para>The system you have created in this book is quite minimal, and most
  likely will not have the functionality you would need to be able to
  continue forward. By installing a few extra packages from CBLFS
  while still in our current chroot environment, you can leave
  yourself in a much better position to continue on once you reboot
  into your new CLFS installation. Installing a text mode web browser,
  such as Lynx, you can easily view the CBLFS website in one virtual terminal,
  while building packages in another. The GPM package will also allow you
  to perform copy/paste actions in your virtual terminals. Lastly, if you
  are in a situation where static IP configuration does not meet your
  networking requirements, installing packages such as Dhcpcd or PPP at
  this point might also be useful.</para>

  <para>Now that we have said that, lets move on to booting our shiny
  new CLFS installation for the first time! First exit from the chroot
  environment:</para>

<screen format="linespecific"><userinput moreinfo="none">logout</userinput></screen>

  <para>Then unmount the virtual file systems:</para>

<screen format="linespecific"><userinput moreinfo="none">umount ${CLFS}/dev/pts

if [ -h ${CLFS}/dev/shm ]; then
  link=$(readlink ${CLFS}/dev/shm)
  umount -v ${CLFS}/$link
  unset link
else
  umount -v ${CLFS}/dev/shm
fi

umount ${CLFS}/dev
umount ${CLFS}/proc
umount ${CLFS}/sys
umount ${CLFS}/run</userinput></screen>

  <para>Unmount the CLFS file system itself:</para>

<screen format="linespecific"><userinput moreinfo="none">umount ${CLFS}</userinput></screen>

  <para>If multiple partitions were created, unmount the other
  partitions before unmounting the main one, like this:</para>

<screen format="linespecific"><userinput moreinfo="none">umount ${CLFS}/usr
umount ${CLFS}/home
umount ${CLFS}</userinput></screen>

  <para>Now, reboot the system with:</para>

<screen format="linespecific"><userinput moreinfo="none">shutdown -r now</userinput></screen>

  <para>Assuming the boot loader was set up as outlined earlier,
  <emphasis>CLFS GIT-20170803</emphasis> will boot automatically.</para>

  <para>When the reboot is complete, the CLFS system is ready for use and
  more software may be added to suit your needs.</para>

</sect1>
  <sect1 id="ch-finish-whatnow">
  <?dbhtml filename="whatnow.html"?>

  <title>What Now?</title>

  <para>Thank you for reading this CLFS book. We hope that you have
  found this book helpful and have learned more about the system
  creation process.</para>

  <para>Now that the CLFS system is installed, you may be wondering
  <quote>What next?</quote> To answer that question, we have compiled
  a list of resources for you.</para>

  <itemizedlist>

    <listitem>
      <para>Maintenance</para>

      <para>Bugs and security notices are reported regularly for all software.
      Since a CLFS system is compiled from source, it is up to you to keep
      abreast of such reports.  There are several online resources that track
      such reports, some of which are shown below:</para>

      <itemizedlist>

        <listitem>
          <para><ulink url="http://www.cert.org/">CERT</ulink> (Computer
          Emergency Response Team)</para>

          <para>CERT has a mailing list that publishes security alerts
          concerning various operating systems and applications.
          Subscription information is available at <ulink url="http://www.us-cert.gov/cas/signup.html"/>.</para>
        </listitem>

        <listitem>
          <para>Bugtraq</para>

          <para>Bugtraq is a full-disclosure computer security mailing list.
          It publishes newly discovered security issues, and occasionally
          potential fixes for them. Subscription information is available at
          <ulink url="http://www.securityfocus.com/archive"/>.</para>
        </listitem>

      </itemizedlist>

    </listitem>

    <listitem>
      <para>Community Driven Beyond Linux From Scratch</para>

      <para>The Community Driven Beyond Linux From Scratch wiki covers installation
      procedures for a wide range of software beyond the scope of the CLFS
      Book. CBLFS is designed specifically to work with the CLFS book, and has all
      the necessary information to continue the builds in the same manner that CLFS
      uses. This is a community driven project, which means anyone can contribute and
      provide updates. The CBLFS project is located at <ulink url="http://cblfs.clfs.org/"/>.</para>
    </listitem>

    <listitem>
      <para>CLFS Hints</para>

      <para>The CLFS Hints are a collection of educational documents
      submitted by volunteers in the CLFS community. The hints are available
      at <ulink url="http://hints.clfs.org/index.php/"/>.</para>
    </listitem>

    <listitem>
      <para>Mailing lists</para>

      <para>There are several CLFS mailing lists you may subscribe to if you
      are in need of help, want to stay current with the latest developments,
      want to contribute to the project, and more. See <xref linkend="ch-intro-maillists"/> for more
      information.</para>
    </listitem>

    <listitem>
      <para>The Linux Documentation Project</para>

      <para>The goal of The Linux Documentation Project (TLDP) is to
      collaborate on all of the issues of Linux documentation. The TLDP features
      a large collection of HOWTOs, guides, and man pages.  It is located at
      <ulink url="http://www.tldp.org/"/>.</para>
    </listitem>

  </itemizedlist>

</sect1>

</chapter>

  </part>

  <part id="part6">
    <?dbhtml filename="part6.html"?>

    <title>Appendices</title>

    <appendix id="appendixa" xreflabel="Appendix A" xml:base="appendices/acronymlist.xml">
  <?dbhtml dir="appendices"?>
  <?dbhtml filename="acronymlist.html"?>

  <title>Acronyms and Terms</title>

  <variablelist>
    <?dbfo list-presentation="list"?>
    <?dbhtml list-presentation="table"?>

    <varlistentry>
      <term><emphasis role="bold">ABI</emphasis></term>
      <listitem>
        <para>Application Binary Interface</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">API</emphasis></term>
      <listitem>
        <para>Application Programming Interface</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ASCII</emphasis></term>
      <listitem>
        <para>American Standard Code for Information Interchange</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ATA</emphasis></term>
      <listitem>
        <para>Advanced Technology Attachment (see IDE)</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">BIOS</emphasis></term>
      <listitem>
        <para>Basic Input/Output System</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">bless</emphasis></term>
      <listitem>
        <para>manipulate a filesystem so that OF will boot from it</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">BSD</emphasis></term>
      <listitem>
        <para>Berkeley Software Distribution</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">CBLFS</emphasis></term>
      <listitem>
        <para>Community Driven Beyond Linux From Scratch</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">chroot</emphasis></term>
      <listitem>
        <para>change root</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">CLFS</emphasis></term>
      <listitem>
        <para>Cross-Compiled Linux From Scratch</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">CMOS</emphasis></term>
      <listitem>
        <para>Complementary Metal Oxide Semiconductor</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">COS</emphasis></term>
      <listitem>
        <para>Class Of Service</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">CPU</emphasis></term>
      <listitem>
        <para>Central Processing Unit</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">CRC</emphasis></term>
      <listitem>
        <para>Cyclic Redundancy Check</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">DHCP</emphasis></term>
      <listitem>
        <para>Dynamic Host Configuration Protocol</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">DNS</emphasis></term>
      <listitem>
        <para>Domain Name Service</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">EGA</emphasis></term>
      <listitem>
        <para>Enhanced Graphics Adapter</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ELF</emphasis></term>
      <listitem>
        <para>Executable and Linkable Format</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">EOF</emphasis></term>
      <listitem>
        <para>End of File</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">EQN</emphasis></term>
      <listitem>
        <para>equation</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ext2</emphasis></term>
      <listitem>
        <para>second extended file system</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ext3</emphasis></term>
      <listitem>
        <para>third extended file system</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ext4</emphasis></term>
      <listitem>
        <para>fourth extended file system</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">FAQ</emphasis></term>
      <listitem>
        <para>Frequently Asked Questions</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">FHS</emphasis></term>
      <listitem>
        <para>Filesystem Hierarchy Standard</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">FIFO</emphasis></term>
      <listitem>
        <para>First-In, First Out</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">FQDN</emphasis></term>
      <listitem>
        <para>Fully Qualified Domain Name</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">FTP</emphasis></term>
      <listitem>
        <para>File Transfer Protocol</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">GB</emphasis></term>
      <listitem>
        <para>Gigabytes</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">GCC</emphasis></term>
      <listitem>
        <para>GNU Compiler Collection</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">GID</emphasis></term>
      <listitem>
        <para>Group Identifier</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">GMT</emphasis></term>
      <listitem>
        <para>Greenwich Mean Time</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">HTML</emphasis></term>
      <listitem>
        <para>Hypertext Markup Language</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">IDE</emphasis></term>
      <listitem>
        <para>Integrated Drive Electronics</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">IEEE</emphasis></term>
      <listitem>
        <para>Institute of Electrical and Electronic Engineers</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">IO</emphasis></term>
      <listitem>
        <para>Input/Output</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">IP</emphasis></term>
      <listitem>
        <para>Internet Protocol</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">IPC</emphasis></term>
      <listitem>
        <para>Inter-Process Communication</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">IRC</emphasis></term>
      <listitem>
        <para>Internet Relay Chat</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ISO</emphasis></term>
      <listitem>
        <para>International Organization for Standardization</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">ISP</emphasis></term>
      <listitem>
        <para>Internet Service Provider</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">KB</emphasis></term>
      <listitem>
        <para>Kilobytes</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">LED</emphasis></term>
      <listitem>
        <para>Light Emitting Diode</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">LFS</emphasis></term>
      <listitem>
        <para>Linux From Scratch</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">LSB</emphasis></term>
      <listitem>
        <para>Linux Standard Base</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">MB</emphasis></term>
      <listitem>
        <para>Megabytes</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">MBR</emphasis></term>
      <listitem>
        <para>Master Boot Record</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">MD5</emphasis></term>
      <listitem>
        <para>Message Digest 5</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">NIC</emphasis></term>
      <listitem>
        <para>Network Interface Card</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">NLS</emphasis></term>
      <listitem>
        <para>Native Language Support</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">NPTL</emphasis></term>
      <listitem>
        <para>Native POSIX Threading Library</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">OF</emphasis></term>
      <listitem>
        <para>Open Firmware</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">OSS</emphasis></term>
      <listitem>
        <para>Open Sound System</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">PCH</emphasis></term>
      <listitem>
        <para>Pre-Compiled Headers</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">PID</emphasis></term>
      <listitem>
        <para>Process Identifier</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">PTY</emphasis></term>
      <listitem>
        <para>pseudo terminal</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">QA</emphasis></term>
      <listitem>
        <para>Quality Assurance</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">QOS</emphasis></term>
      <listitem>
        <para>Quality Of Service</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">RAM</emphasis></term>
      <listitem>
        <para>Random Access Memory</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">RPC</emphasis></term>
      <listitem>
        <para>Remote Procedure Call</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">RTC</emphasis></term>
      <listitem>
        <para>Real Time Clock</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">SCO</emphasis></term>
      <listitem>
        <para>The Santa Cruz Operation</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">SATA</emphasis></term>
      <listitem>
        <para>Serial ATA</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">SGR</emphasis></term>
      <listitem>
        <para>Select Graphic Rendition</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">SHA1</emphasis></term>
      <listitem>
        <para>Secure-Hash Algorithm 1</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">TLDP</emphasis></term>
      <listitem>
        <para>The Linux Documentation Project</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">TFTP</emphasis></term>
      <listitem>
        <para>Trivial File Transfer Protocol</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">TLS</emphasis></term>
      <listitem>
        <para>Thread-Local Storage</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">UID</emphasis></term>
      <listitem>
        <para>User Identifier</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">umask</emphasis></term>
      <listitem>
        <para>user file-creation mask</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">USB</emphasis></term>
      <listitem>
        <para>Universal Serial Bus</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">UTC</emphasis></term>
      <listitem>
        <para>Coordinated Universal Time</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">UUID</emphasis></term>
      <listitem>
        <para>Universally Unique Identifier</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">VC</emphasis></term>
      <listitem>
        <para>Virtual Console</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">VGA</emphasis></term>
      <listitem>
        <para>Video Graphics Array</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis role="bold">VT</emphasis></term>
      <listitem>
        <para>Virtual Terminal</para>
      </listitem>
    </varlistentry>

  </variablelist>

</appendix>
    <appendix id="appendixb" xreflabel="Appendix B" xml:base="appendices/dependencies/common.xml">
  <?dbhtml dir="appendixb"?>
  <?dbhtml filename="dependencies.html"?>

  <title>Dependencies</title>

  <para>Every package built in CLFS relies on one or more other packages
  in order to build and install properly. Some packages even participate
  in circular dependencies, that is, the first package depends on the second
  which in turn depends on the first. Because of these dependencies, the
  order in which packages are built in CLFS is very important. The purpose
  of this page is to document the dependencies of each package built in CLFS.</para>

  <para>For each package we build, we have listed three types of dependencies.
  The first lists what other packages need to be available in order to compile
  and install the package in question. The second lists what packages, in
  addition to those on the first list, need to be available in order to run the
  test suites. The last list of dependencies are packages that require this
  package to be built and installed in its final location before they are built
  and installed. In most cases, this is because these packages will hardcode
  paths to binaries within their scripts. If not built in a certain order,
  this could result in paths of /tools/bin/[binary] being placed inside
  scripts installed to the final system. This is obviously not desirable.
  </para>

<!-- Begin Acl dependency info -->
  <bridgehead renderas="sect2" id="acl-dep">Acl</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Attr, Bash, Binutils, Coreutils, Glibc, GCC, Gettext, Grep,
         Libtool, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Coreutils, Gettext, Libcap, Sed, Systemd, Tar, Vim</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Attr dependency info -->
  <bridgehead renderas="sect2" id="attr-dep">Attr</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Gettext, Grep,
         Libtool, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Acl, Coretutils, Gettext, Libcap, Sed, Systemd</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Autoconf dependency info -->
  <bridgehead renderas="sect2" id="autoconf-dep">Autoconf</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
          <seg>Bash, Coreutils, Gawk, Grep, M4, Make, Perl, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Automake, Binutils, Diffutils, Findutils, GCC, Libtool</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Automake</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Automake dependency info -->
  <bridgehead renderas="sect2" id="automake-dep">Automake</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
          <seg>Autoconf, Bash, Binutils, Coreutils, Gawk, Grep, M4, Make, Perl,
          Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Bison, Bzip2, DejaGNU, Diffutils, Expect, Findutils,
          Flex, GCC, Gettext, Gzip, Libtool, Tar, XZ Utils. Can also use several
          other packages that are not installed in CLFS.</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Bash dependency info -->
  <bridgehead renderas="sect2" id="bash-dep">Bash</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
          <seg>Bash, Bison, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep, Make,
          Ncurses, Patch, Readline, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Bc dependency info -->
  <bridgehead renderas="sect2" id="bc-dep">Bc</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
          <seg>Bash, Binutils, Bison, Coreutils, Glibc, GCC, Grep, Make,
          Readline</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Gawk</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Binutils dependency info -->
  <bridgehead renderas="sect2" id="binutils-dep">Binutils</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, File, Gawk, GCC,
         Grep, Make, Perl, Sed, Texinfo, Zlib</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>DejaGNU, Expect</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Bison dependency info -->
  <bridgehead renderas="sect2" id="bison-dep">Bison</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, Gawk, GCC,
         Grep, M4, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils, Findutils, Gawk</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Flex, Kbd, Tar</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Bzip2 dependency info -->
  <bridgehead renderas="sect2" id="bzip2-dep">Bzip2</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin CLFS-Boot-scripts dependency info -->
  <bridgehead renderas="sect2" id="boot-scripts-dep">CLFS-Boot-scripts</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Coreutils, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Check dependency info -->
  <bridgehead renderas="sect2" id="check-dep">Check</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>GCC, Grep, Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Coreutils dependency info -->
  <bridgehead renderas="sect2" id="coreutils-dep">Coreutils</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Acl, Attr, Bash, Binutils, Coreutils, Glibc, Gawk, GCC, GMP,
         Grep, Libcap, Make, Patch, Perl, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils, E2fsprogs, Findutils, Util-linux</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Bash, Diffutils, Findutils, Man</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin D-Bus dependency info -->
  <bridgehead renderas="sect2" id="dbus-dep">D-Bus</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Expat, Gawk, GCC,
         Gettext, Grep, Make, Man, Pkg-config, Sed, Systemd, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin DejaGNU dependency info -->
  <bridgehead renderas="sect2" id="dejagnu-dep">DejaGNU</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Coreutils, Diffutils, GCC, Grep, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin DHCPCD dependency info -->
  <bridgehead renderas="sect2" id="dhcpcd-dep">DHCPCD</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Coreutils, GCC, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Diffutils dependency info -->
  <bridgehead renderas="sect2" id="diffutils-dep">Diffutils</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep,
         Make, Patch, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Eudev dependency info -->
  <bridgehead renderas="sect2" id="eudev-dep">Eudev</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep,
         Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Systemd</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Expat dependency info -->
  <bridgehead renderas="sect2" id="expat-dep">Expat</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, GCC, Grep,
         Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>D-Bus, XML::Parser</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Expect dependency info -->
  <bridgehead renderas="sect2" id="expect-dep">Expect</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, GCC, Grep, Make,
         Patch, Sed, Tcl</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin E2fsprogs dependency info -->
  <bridgehead renderas="sect2" id="e2fsprogs-dep">E2fsprogs</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, Gawk, GCC, Gettext, Grep, Gzip,
         Make, Pkg-config-lite, Sed, Texinfo, Util-linux</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Bzip2, Diffutils</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin File dependency info -->
  <bridgehead renderas="sect2" id="file-dep">File</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep,
         Make, Sed, Zlib</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Findutils dependency info -->
  <bridgehead renderas="sect2" id="findutils-dep">Findutils</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make,
         Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>DejaGNU, Diffutils, Expect</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Flex dependency info -->
  <bridgehead renderas="sect2" id="flex-dep">Flex</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep, M4, Make,
         Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Bison, Diffutils, Gawk</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>IPRoute2, Kbd, Man</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Gawk dependency info -->
  <bridgehead renderas="sect2" id="gawk-dep">Gawk</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
          <seg>Bash, Binutils, Coreutils, Glibc, GCC, GMP, Grep, Make, MPFR,
         Readline Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Gcc dependency info -->
  <bridgehead renderas="sect2" id="gcc-dep">Gcc</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Findutils, Gawk,
         GCC, GMP, Grep, ISL, Make, MPFR, Patch, Perl, Sed, Tar, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Check, DejaGNU, Expect</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin GDBM dependency info -->
  <bridgehead renderas="sect2" id="gdbm">GDBM</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, GCC, Grep, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Gettext dependency info -->
  <bridgehead renderas="sect2" id="gettext-dep">Gettext</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Findutils, Gawk,
         GCC, Grep, Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Tar, Tcl</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Automake</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Glib dependency info -->
<!--  <bridgehead renderas="sect2" id="glib-dep">Glib</bridgehead>

      <segmentedlist>
        <segtitle>&dependencies;</segtitle>

        <seglistitem>
         <seg>bash, binutils, coreutils, gawk, gcc, gettext, make &amp; M4.</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>&testsuites;</segtitle>

        <seglistitem>
          <seg>Unknown</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>&before;</segtitle>

        <seglistitem>
          <seg>Pkg-config-lite</seg>
        </seglistitem>
      </segmentedlist> -->

<!-- Begin Glibc dependency info -->
  <bridgehead renderas="sect2" id="glibc-dep">Glibc</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Gawk, GCC, Gettext,
         Grep, Gzip, Linux Headers, Make, Perl, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin GMP dependency info -->
  <bridgehead renderas="sect2" id="gmp-dep">GMP</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep, M4, Make,
         Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>MPFR, GCC</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Gperf dependency info -->
  <bridgehead renderas="sect2" id="gperf-dep">Gperf</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep,
         Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Intltool</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Systemd</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Grep dependency info -->
  <bridgehead renderas="sect2" id="grep-dep">Grep</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep,
         Make, Patch, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils, Gawk</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Man</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Groff dependency info -->
  <bridgehead renderas="sect2" id="groff-dep">Groff</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, Gawk, GCC, Grep, Make, Perl
         Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Man, Perl</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Gzip dependency info -->
  <bridgehead renderas="sect2" id="gzip-dep">Gzip</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make,
         Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Man</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Iana-Etc dependency info -->
  <bridgehead renderas="sect2" id="iana-etc-dep">Iana-Etc</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Coreutils, Gawk, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Perl</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Intltool dependency info -->
  <bridgehead renderas="sect2" id="intltool-dep">Intltool</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Binutils, Coreutils, Glibc, GCC, Make, Perl Sed, XML::Parser</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin IProute2 dependency info -->
  <bridgehead renderas="sect2" id="iproute2-dep">IProute2</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Bison, Coreutils, Glibc, Findutils, Flex, GCC,
         Make, Linux Headers, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin IPutils dependency info -->
  <bridgehead renderas="sect2" id="iputils-dep">IPutils</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Libcap, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin ISL dependency info -->
  <bridgehead renderas="sect2" id="isl-dep">ISL</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep,
         GMP, Make, MPC, MPFR, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>GCC</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Kbd dependency info -->
  <bridgehead renderas="sect2" id="kbd-dep">Kbd</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Check, Coreutils, Glibc, Gawk, GCC, Gzip, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin KMOD dependency info -->
  <bridgehead renderas="sect2" id="kmod-dep">KMOD</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Bison, Coreutils, Glibc, Flex, Gawk, GCC,
         Gettext, Gzip, Make, Pkg-config-lite, Sed, XZ Utils, Zlib.
         </seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Systemd</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Less dependency info -->
  <bridgehead renderas="sect2" id="less-dep">Less</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make,
         Ncurses, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Libcap dependency info -->
  <bridgehead renderas="sect2" id="libcap-dep">Libcap</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Attr, Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Coreutils, IPutils, Systemd</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Libpipeline dependency info -->
  <bridgehead renderas="sect2" id="libpipeline-dep">Libpipeline</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Gawk, GCC, Glibc, Grep,
         Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Check</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Man-DB</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Libtool dependency info -->
  <bridgehead renderas="sect2" id="libtool-dep">Libtool</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Findutils, Gawk,
         GCC, Grep, Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Autoconf</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Linux Headers dependency info -->
  <bridgehead renderas="sect2" id="linux-headers-dep">Linux Headers</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Binutils, Coreutils, Findutils, GCC, Grep, Make, Perl, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Linux Kernel dependency info -->
  <bridgehead renderas="sect2" id="linux-dep">Linux Kernel</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Findutils, GCC, Grep,
         Gzip, Make, KMOD, Ncurses, Perl, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin M4 dependency info -->
  <bridgehead renderas="sect2" id="m4-dep">M4</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, Gawk, GCC, Grep, Make, Sed,
         Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Autoconf, Bison</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Make dependency info -->
  <bridgehead renderas="sect2" id="make-dep">Make</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep,
         Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Perl, Procps-ng</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Man-DB dependency info -->
  <bridgehead renderas="sect2" id="man-db-dep">Man-DB</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Bzip2, Coreutils, Glibc, Gawk, GCC,
         Grep, Groff, Gzip, Less, XZ Utils, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>D-Bus</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Man-Pages dependency info -->
  <bridgehead renderas="sect2" id="man-pages-dep">Man-Pages</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Coreutils, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin MPC dependency info -->
  <bridgehead renderas="sect2" id="mpc-dep">MPC</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep, GMP,
         Make, MPFR, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>GCC</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin MPFR dependency info -->
  <bridgehead renderas="sect2" id="mpfr-dep">MPFR</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep, GMP,
         Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Gawk, GCC</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Ncurses dependency info -->
  <bridgehead renderas="sect2" id="ncurses-dep">Ncurses</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep,
         Make, Pkg-config-lite, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Bash, GRUB, Inetutils, Less, Procps-ng, Psmisc, Readline, Texinfo,
          Util-linux, Vim</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Patch dependency info -->
  <bridgehead renderas="sect2" id="patch-dep">Patch</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Perl dependency info -->
  <bridgehead renderas="sect2" id="perl-dep">Perl</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Bzip2, Coreutils, Glibc, Gawk, GCC, Grep,
         Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Gzip, Iana-Etc, Procps-ng, Tar</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Autoconf</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Pkg-config-lite dependency info -->
  <bridgehead renderas="sect2" id="pkg-config-lite-dep">Pkg-config-lite</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Gawk, GCC, Grep,
         Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>E2fsprogs, Systemd, Util-linux</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Procps-ng dependency info -->
  <bridgehead renderas="sect2" id="procps-ng-dep">Procps-ng</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Make, Ncurses</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Psmisc dependency info -->
  <bridgehead renderas="sect2" id="psmisc-dep">Psmisc</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make, Ncurses
        , Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Readline dependency info -->
  <bridgehead renderas="sect2" id="readline-dep">Readline</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make, Ncurses,
         Patch, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Bash, Gawk</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Sed dependency info -->
  <bridgehead renderas="sect2" id="sed-dep">Sed</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Acl, Attr, Bash, Binutils, Coreutils, Glibc, GCC, Grep, Make,
         Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils, Gawk</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>E2fsprogs, File, Libtool, Shadow</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Shadow dependency info -->
  <bridgehead renderas="sect2" id="shadow-dep">Shadow</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Acl, Attr, Bash, Binutils, Coreutils, Diffutils, Glibc,
         Findutils, Gawk, GCC, Gettext, Grep, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin systemd dependency info -->
  <bridgehead renderas="sect2" id="systemd-dep">Systemd</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Acl, Attr, Bash, Binutils, Coreutils, E2fsprogs, Glibc,
         Findutils, Gawk, GCC, GPerf, Grep, Intltool, Libcap, Make, Perl,
         Pkg-config, Sed, Util-linux, XML::Parser</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>D-Bus</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Tar dependency info -->
  <bridgehead renderas="sect2" id="tar-dep">Tar</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Acl, Attr, Bash, Binutils, Bison, Coreutils, Glibc, GCC,
         Grep, Make, Sed, Texinfo</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils, Findutils, Gawk, Gzip</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Tcl dependency info -->
  <bridgehead renderas="sect2" id="tcl-dep">Tcl</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, GCC, Grep,
         Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Texinfo dependency info -->
  <bridgehead renderas="sect2" id="texinfo-dep">Texinfo</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, Gawk, GCC, Grep, Make,
         Ncurses, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Diffutils, Gzip</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Util-linux dependency info -->
  <bridgehead renderas="sect2" id="util-linux-dep">Util-linux</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Grep,
         Make, Ncurses, Pkg-config-lite, Sed, Texinfo, Zlib</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>No test suite available</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>E2fsprogs, Systemd</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Vim dependency info -->
  <bridgehead renderas="sect2" id="vim-dep">Vim</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Acl, Attr, Bash, Binutils, Coreutils, Diffutils, Glibc, Findutils, Gawk, GCC,
         Gettext, Grep, Make, Ncurses, Perl, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>Gzip</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin XML::Parser dependency info -->
  <bridgehead renderas="sect2" id="xml-parser-dep">XML::Parser</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Coreutils, Expat, Make, Perl</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>Intltool</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin XZ Utils dependency info -->
  <bridgehead renderas="sect2" id="xz-utils-dep">XZ Utils</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Diffutils, Glibc, Findutils, Gawk, GCC,
         Grep, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin Zlib dependency info -->
  <bridgehead renderas="sect2" id="zlib-dep">Zlib</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Bash, Binutils, Coreutils, Glibc, GCC, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>File, KMOD, Util-linux</seg>
        </seglistitem>
      </segmentedlist>

</appendix>
    <appendix id="appendixc-mips" xreflabel="Appendix C" xml:base="appendices/dependencies/mips.xml">
  <?dbhtml dir="appendixc"?>
  <?dbhtml filename="mips-dependencies.html"?>

  <title>Mips Dependencies</title>

  <para>This page contains dependency information for packages specific to Mips.</para>

<!-- Begin arcload dependency info -->
  <bridgehead renderas="sect2" id="arcload-dep">Arcload</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Binutils, Coreutils, Dvhtool, GCC, Make, Sed</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin colo dependency info -->
  <bridgehead renderas="sect2" id="colo-dep">Colo</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Binutils, Coreutils, GCC, Gzip, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

<!-- Begin dvhtool dependency info -->
  <bridgehead renderas="sect2" id="dvhtool-dep">Dvhtool</bridgehead>

      <segmentedlist>
        <segtitle>Installation depends on</segtitle>

        <seglistitem>
         <seg>Binutils, Coreutils, GCC, Make</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Test suite depends on</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

      <segmentedlist>
        <segtitle>Must be installed before</segtitle>

        <seglistitem>
          <seg>None</seg>
        </seglistitem>
      </segmentedlist>

</appendix>
    <appendix id="appendixd-common" xreflabel="Appendix D" xml:base="appendices/rationale/common.xml">
  <?dbhtml dir="appendixd"?>
  <?dbhtml filename="rationale-common.html"?>

  <title>Package Rationale</title>

  <para>CLFS includes many packages, a number of which might not necessarily
  be required for a "minimal" system, but still considered very useful. The
  purpose of this page is to list the reasoning for each package's inclusion
  in the book.</para>

  <itemizedlist>

    <listitem>
      <para>Acl</para>
      <para>The Acl package allows usage and setting of POSIX Access Control
      Lists. It can be used by several other packages in CLFS, such as Coreutils
      and Systemd.</para>
    </listitem>

    <listitem>
      <para>Attr</para>
      <para>Attr allows setting and viewing extended attributes of filesystem
      objects. It is required by Systemd.</para>
    </listitem>

    <listitem>
      <para>Autoconf</para>
      <para>The Autoconf package contains programs for producing shell scripts
      that can automatically configure source code. This is useful for software
      developers, as well as anyone who wants to install packages that don't
      come with a configure script, such as some of the packages in CBLFS.</para>
    </listitem>

    <listitem>
      <para>Automake</para>
      <para>The Automake package contains programs for generating Makefiles
      for use with Autoconf. This can be useful to software developers.</para>
    </listitem>

    <listitem>
      <para>Bash</para>
      <para>This package contains the Bourne-Again SHell. A shell is an
      important component of a Linux system, as there must be some way of
      allowing the users to enter commands.</para>
    </listitem>

    <listitem>
      <para>Bc</para>
      <para>This package contains a precision calculator. The Linux kernel
      uses Bc to render the timeconst header.</para>
    </listitem>


    <listitem>
      <para>Binutils</para>
      <para>This package contains programs for handling object files. The
      programs in this package are needed for compiling most of the packages
      in CLFS.</para>
    </listitem>

    <listitem>
      <para>Bison</para>
      <para>This package contains programs that are required by several
      packages in CLFS.</para>
    </listitem>

    <listitem>
      <para>Bzip2</para>
      <para>The programs in this package are useful for compressing files to
      reduce size. They are also needed to uncompress tarballs for many
      CLFS packages.</para>
    </listitem>

    <listitem>
      <para>CLFS-Boot-scripts</para>
      <para>This package contains a number of scripts that run at boottime,
      performing essential tasks such as mounting/checking filesystems and
      starting the network interface.</para>
    </listitem>

    <listitem>
      <para>Check</para>
      <para>This package contains a test harness for other programs. It is
      used for some packages' test suites.</para>
    </listitem>

    <listitem>
      <para>Coreutils</para>
      <para>This package contains many basic command-line file-management
      tools, required for installation of every package in CLFS.</para>
    </listitem>

    <listitem>
      <para>D-Bus</para>
      <para>D-Bus is a message bus system, which allows applications to
      communicate to each other. It is used by Systemd.</para>
    </listitem>

    <listitem>
      <para>DejaGNU</para>
      <para>This package is needed for the test suites of several packages,
      especially GCC and Binutils.</para>
    </listitem>

    <listitem>
      <para>DHCPCD</para>
      <para>This package allows for automatic configuration of network
      interfaces from a DHCP server. It (or some other package providing a
      DHCP client is needed to connect to a DHCP server.</para>
    </listitem>

    <listitem>
      <para>Diffutils</para>
      <para>This package contains programs to compare files, and can also
      be used to create patches. It is required by the installation procedures
      of many CLFS packages, and used by many packages' test suites.</para>
    </listitem>

    <listitem>
      <para>Eudev</para>
      <para>This is a package that allows for dynamic creation of device nodes.
      It is a fork of Udev, which is now part of Systemd. It is still
      used for the "Boot" method in the temp-system, as Systemd is not needed
      there.</para>
    </listitem>

    <listitem>
      <para>Expect</para>
      <para>This package is needed for the test suites for several packages.</para>
    </listitem>

    <listitem>
      <para>E2fsprogs</para>
      <para>The programs in this package are used for the creation and
      maintenance of ext2/3/4 filesystems.</para>
    </listitem>

    <listitem>
      <para>File</para>
      <para>This package contains a program that determines the type of
      a given file. It is needed by some CLFS packages.</para>
    </listitem>

    <listitem>
      <para>Findutils</para>
      <para>This package contains programs for finding files based on certain
      criteria, and optionally performing commands on them. These programs
      are used by the installation procedures of many CLFS packages.</para>
    </listitem>

    <listitem>
      <para>Flex</para>
      <para>This package contains a tool for generating text scanners. It is
      used by multiple packages in CLFS</para>
    </listitem>

    <listitem>
      <para>Gawk</para>
      <para>This package contains programs for manipulating text files, using
      the AWK language. It is used by the installation procedures of many
      packages in CLFS.</para>
    </listitem>

    <listitem>
      <para>Gcc</para>
      <para>This package contains a C compiler, which is required to compile
      most of the packages in CLFS.</para>
    </listitem>

    <listitem>
      <para>GDBM</para>
      <para>This package contains the GNU Database Manager library. Man-DB
      requires either GDBM or Berkeley DB, though it prefers GDBM.</para>
    </listitem>

    <listitem>
      <para>Gettext</para>
      <para>A tool that allows programmers to easily implement i18n
      (internationalization) in their programs. It is a required dependency
      for a number of packages</para>
    </listitem>

    <listitem>
      <para>Glibc</para>
      <para>Any dynamically-linked C program (nearly every package in CLFS
      has these) needs a C library to compile and run.</para>
    </listitem>

    <listitem>
      <para>GMP</para>
      <para>This package is required by GCC.</para>
    </listitem>

    <listitem>
      <para>Gperf</para>
      <para>This package is required by Systemd.</para>
    </listitem>

    <listitem>
      <para>Grep</para>
      <para>This package contains programs for searching for text in files.
      These programs are required by many packages in CLFS.</para>
    </listitem>

    <listitem>
      <para>Groff</para>
      <para>This package is required by Man-DB.</para>
    </listitem>

    <listitem>
      <para>Gzip</para>
      <para>Useful for compressing files to reduce size. It is also needed to
      uncompress tarballs for many CLFS packages</para>
    </listitem>

    <listitem>
      <para>Iana-Etc</para>
      <para>This package provides the <filename moreinfo="none">/etc/services</filename> and
      <filename moreinfo="none">/etc/protocols</filename> files. These files map port names to
      port numbers as well as protocol names to their corresponding numbers.
      These files are essential for many network based programs to work properly.</para>
    </listitem>

    <listitem>
      <para>Intltool</para>
      <para>This package is required by Systemd.</para>
    </listitem>

    <listitem>
      <para>IProute2</para>
      <para>This package contains programs for administering network
      interfaces.</para>
    </listitem>

    <listitem>
      <para>IPutils</para>
      <para>This package contains several basic network-management tools.</para>
    </listitem>

    <listitem>
      <para>ISL</para>
      <para>This package is required by GCC for GRAPHITE optimizations.</para>
    </listitem>

    <listitem>
      <para>Kbd</para>
      <para>Contains keytable files and keyboard utilities compatible with the
      Linux kernel. These can be used to change the display font and keyboard
      layout.</para>
    </listitem>

    <listitem>
      <para>Kmod</para>
      <para>This package contains programs that assist in loading an unloading
      kernel modules.</para>
    </listitem>

    <listitem>
      <para>Less</para>
      <para>A program that lets you view text files one page at a time.
      It is also used by Man-DB for displaying manpages.</para>
    </listitem>

    <listitem>
      <para>Libcap</para>
      <para>This package is required by Systemd.</para>
    </listitem>

    <listitem>
      <para>Libpipeline</para>
      <para>The Libpipeline package contains a library for manipulating
      pipelines of subprocesses in a flexible and convenient way. It is
      required by the Man-DB package.</para>
    </listitem>

    <listitem>
      <para>Libtool</para>
      <para>The Libtool package contains the GNU generic library support
      script. It is used by some CLFS packages.</para>
    </listitem>

    <listitem>
      <para>Linux Headers</para>
      <para>This package consists of santized headers from the Linux Kernel.
      These headers are required for Glibc to compile.</para>
    </listitem>

    <listitem>
      <para>Linux Kernel</para>
      <para>The Linux operating system.</para>
    </listitem>

    <listitem>
      <para>M4</para>
      <para>This package contains a macro processor. It is required by several
      CLFS packages, including Bison.</para>
    </listitem>

    <listitem>
      <para>Make</para>
      <para>This is required for installation of most CLFS packages</para>
    </listitem>

    <listitem>
      <para>Man-DB</para>
      <para>This package contains programs for finding and viewing man pages,
      and has superior internationalization capabilities compared to the
      <application moreinfo="none">Man</application> package.</para>
    </listitem>

    <listitem>
      <para>Man-Pages</para>
      <para>A number of useful manpages, not supplied by other packages</para>
    </listitem>

    <listitem>
      <para>MPC</para>
      <para>This package is required by GCC.</para>
    </listitem>

    <listitem>
      <para>MPFR</para>
      <para>This package is required by GCC.</para>
    </listitem>

    <listitem>
      <para>Ncurses</para>
      <para>Needed by several packages in CLFS, such as Vim, Bash, and Less</para>
    </listitem>

    <listitem>
      <para>Patch</para>
      <para>Used for applying patches in several CLFS packages</para>
    </listitem>

    <listitem>
      <para>Perl</para>
      <para>The Perl package contains the Practical Extraction and Report
      Language. It is required by several CLFS packages.</para>
    </listitem>

    <listitem>
      <para>Pkg-config-lite</para>
      <para>Several packages in CLFS, and many others outside of CLFS,
      use <command moreinfo="none">pkg-config</command> to locate dependencies.</para>
    </listitem>

    <listitem>
      <para>Procps-ng</para>
      <para>Provides a number of small, useful utilities that give information
      about the <filename class="directory" moreinfo="none">/proc</filename> filesystem.</para>
    </listitem>

    <listitem>
      <para>Psmisc</para>
      <para>Provides more utilties that give information about the
      <filename class="directory" moreinfo="none">/proc</filename> filesystem.</para>
    </listitem>

    <listitem>
      <para>Readline</para>
      <para>The Readline library provides a set of functions for use by
      applications that allow users to edit command lines as they are typed
      in. This is essential for input in programs like <command moreinfo="none">bash</command>
      to work properly.</para>
    </listitem>

    <listitem>
      <para>Sed</para>
      <para>This package contains a stream editor. It is used in the
      installation procedures of most CLFS packages.</para>
    </listitem>

    <listitem>
      <para>Shadow</para>
      <para>This package contains programs that assist in the administration
      of users and groups, and passwords.</para>
    </listitem>

    <listitem>
      <para>Systemd</para>
      <para>Systemd provides the init daemon for the system, as well as Udev,
      which dynamically creates device nodes.</para>
    </listitem>

    <listitem>
      <para>Tar</para>
      <para>Required to unpack the tar archives in which all CLFS packages
      are distributed</para>
    </listitem>

    <listitem>
      <para>Tcl</para>
      <para>Needed for the test suites of several packages</para>
    </listitem>

    <listitem>
      <para>Texinfo</para>
      <para>This package contains programs for viewing, installing and
      converting info pages. It is used in the installation procedures
      of many CLFS packages.</para>
    </listitem>

    <listitem>
      <para>Util-linux</para>
      <para>The Util-linux package contains miscellaneous utility programs.
      Among them are utilities for handling file systems, consoles,
      partitions, and messages. It also includes libraries that are required
      by E2fsprogs.</para>
    </listitem>

    <listitem>
      <para>Vim</para>
      <para>The Vim package contains a text editor. Users may substitute Nano,
      Joe, Emacs, or whatever other editor they prefer.</para>
    </listitem>

    <listitem>
      <para>XML::Parser</para>
      <para>This Perl module is required by Intltool.</para>
    </listitem>

    <listitem>
      <para>XZ Utils</para>
      <para>Useful for compressing files to reduce size. Also needed to
      uncompress tarballs for many CLFS packages</para>
    </listitem>

    <listitem>
      <para>Zlib</para>
      <para>The Zlib package contains compression and decompression routines
      used by some programs.</para>
    </listitem>

  </itemizedlist>

</appendix>
    <appendix id="appendixd-mips" xreflabel="Appendix D" xml:base="appendices/rationale/mips.xml">
  <?dbhtml dir="appendixd"?>
  <?dbhtml filename="rationale-mips.html"?>

  <title>Package Rationale - MIPS</title>

  <para>This is the explanation for the inclusion of MIPS-specific packages.</para>

  <itemizedlist>

    <listitem>
      <para>ARCLoad</para>
      <para>An SGI Multi-bootloader. Able to bootload many different SGI Systems.</para>
    </listitem>

    <listitem>
      <para>Colo</para>
      <para>A replacement bootloader for the Cobalt MIPS based Raq/Qube? servers.</para>
    </listitem>

    <listitem>
      <para>DVHTool</para>
      <para>Dvhtool is the tool responsible for writing MIPS kernel(s) into
      the SGI volume header.</para>
    </listitem>

  </itemizedlist>

</appendix>
    <appendix id="license" xreflabel="Open Publication License" xml:base="appendices/license.xml">
  <?dbhtml dir="appendices"?>
  <?dbhtml filename="license.html"?>

  <title>Open Publication License</title>
  <bridgehead renderas="sect3">v1.0, 8 June 1999</bridgehead>


  <bridgehead renderas="sect2">I. REQUIREMENTS ON BOTH UNMODIFIED AND
  MODIFIED VERSIONS</bridgehead>

  <para>The Open Publication works may be reproduced and distributed in
  whole or in part, in any medium physical or electronic, provided that
  the terms of this license are adhered to, and that this license or an
  incorporation of it by reference (with any options elected by the
  author(s) and/or publisher) is displayed in the reproduction.</para>

  <para>Proper form for an incorporation by reference is as follows:</para>

  <blockquote>
    <para>Copyright © &lt;year&gt; by &lt;author's name or designee&gt;.
    This material may be distributed only subject to the terms and conditions
    set forth in the Open Publication License, vX.Y or later (the latest
    version is presently available at <ulink url="http://www.opencontent.org/openpub/"/>).</para>
  </blockquote>

  <para>The reference must be immediately followed with any options elected
  by the author(s) and/or publisher of the document (see section VI).</para>

  <para>Commercial redistribution of Open Publication-licensed material
  is permitted.</para>

  <para>Any publication in standard (paper) book form shall require the
  citation of the original publisher and author. The publisher and
  author's names shall appear on all outer surfaces of the book. On all
  outer surfaces of the book the original publisher's name shall be as
  large as the bridgehead of the work and cited as possessive with respect
  to the bridgehead.</para>


  <bridgehead renderas="sect2">II. COPYRIGHT</bridgehead>

  <para>The copyright to each Open Publication is owned by its
  author(s) or designee.</para>

  <bridgehead renderas="sect2">III. SCOPE OF LICENSE</bridgehead>

  <para>The following license terms apply to all Open Publication works,
  unless otherwise explicitly stated in the document.</para>

  <para>Mere aggregation of Open Publication works or a portion of an
  Open Publication work with other works or programs on the same media
  shall not cause this license to apply to those other works. The
  aggregate work shall contain a notice specifying the inclusion of the
  Open Publication material and appropriate copyright notice.</para>

  <para>SEVERABILITY. If any part of this license is found to be
  unenforceable in any jurisdiction, the remaining portions of the
  license remain in force.</para>

  <para>NO WARRANTY. Open Publication works are licensed and provided
  "as is" without warranty of any kind, express or implied, including,
  but not limited to, the implied warranties of merchantability and
  fitness for a particular purpose or a warranty of non-infringement.</para>


  <bridgehead renderas="sect2">IV. REQUIREMENTS ON MODIFIED WORKS</bridgehead>

  <para>All modified versions of documents covered by this license,
  including translations, anthologies, compilations and partial documents,
  must meet the following requirements:</para>

  <orderedlist inheritnum="ignore" continuation="restarts">
    <listitem>
      <para>The modified version must be labeled as such.</para>
    </listitem>
    <listitem>
      <para>The person making the modifications must be identified and
      the modifications dated.</para>
    </listitem>
    <listitem>
      <para>Acknowledgement of the original author and publisher if
      applicable must be retained according to normal academic citation
      practices.</para>
    </listitem>
    <listitem>
      <para>The location of the original unmodified document must be
      identified.</para>
    </listitem>
    <listitem>
      <para>The original author's (or authors') name(s) may not be used
      to assert or imply endorsement of the resulting document without
      the original author's (or authors') permission.</para>
    </listitem>
  </orderedlist>


  <bridgehead renderas="sect2">V. GOOD-PRACTICE RECOMMENDATIONS</bridgehead>

  <para>In addition to the requirements of this license, it is requested
  from and strongly recommended of redistributors that:</para>

  <orderedlist inheritnum="ignore" continuation="restarts">
    <listitem>
      <para>If you are distributing Open Publication works on hardcopy
      or CD-ROM, you provide email notification to the authors of your
      intent to redistribute at least thirty days before your manuscript
      or media freeze, to give the authors time to provide updated
      documents. This notification should describe modifications, if any,
      made to the document.</para>
    </listitem>
    <listitem>
      <para>All substantive modifications (including deletions) be either
      clearly marked up in the document or else described in an attachment
      to the document.</para>
    </listitem>
    <listitem>
      <para>Finally, while it is not mandatory under this license, it is
      considered good form to offer a free copy of any hardcopy and CD-ROM
      expression of an Open Publication-licensed work to its author(s).</para>
    </listitem>
  </orderedlist>


  <bridgehead renderas="sect2">VI. LICENSE OPTIONS</bridgehead>

  <para>The author(s) and/or publisher of an Open Publication-licensed
  document may elect certain options by appending language to the reference
  to or copy of the license. These options are considered part of the
  license instance and must be included with the license (or its
  incorporation by reference) in derived works.</para>

  <para>A. To prohibit distribution of substantively modified versions
  without the explicit permission of the author(s). "Substantive modification"
  is defined as a change to the semantic content of the document, and
  excludes mere changes in format or typographical corrections.</para>

  <para>To accomplish this, add the phrase `Distribution of substantively
  modified versions of this document is prohibited without the explicit
  permission of the copyright holder.' to the license reference or copy.</para>

  <para>B. To prohibit any publication of this work or derivative works in
  whole or in part in standard (paper) book form for commercial purposes
  is prohibited unless prior permission is obtained from the copyright
  holder.</para>

  <para>To accomplish this, add the phrase 'Distribution of the work or
  derivative of the work in any standard (paper) book form is prohibited
  unless prior permission is obtained from the copyright holder.' to the
  license reference or copy.</para>


  <bridgehead renderas="sect2">OPEN PUBLICATION POLICY APPENDIX</bridgehead>

  <para>(This is not considered part of the license.)</para>

  <para>Open Publication works are available in source format via the Open
  Publication home page at <ulink url="http://works.opencontent.org/"/>.</para>

  <para>Open Publication authors who want to include their own license on
  Open Publication works may do so, as long as their terms are not more
  restrictive than the Open Publication license.</para>

  <para>If you have questions about the Open Publication License, please
  contact David Wiley at dw@opencontent.org, and/or the Open Publication
  Authors' List at opal@opencontent.org, via email.</para>

  <para>To <emphasis role="strong">subscribe</emphasis> to the Open Publication
  Authors' List: Send E-mail to opal-request@opencontent.org with the word
  "subscribe" in the body.</para>

  <para>To <emphasis role="strong">post</emphasis> to the Open Publication
  Authors' List: Send E-mail to opal@opencontent.org or simply reply to a
  previous post.</para>

  <para>To <emphasis role="strong">unsubscribe</emphasis> from the Open
  Publication Authors' List: Send E-mail to opal-request@opencontent.org
  with the word "unsubscribe" in the body.</para>

</appendix>

  </part>

  <index/>

</book>
